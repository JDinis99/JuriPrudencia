/*! For license information please see main.d9378245.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var o=n(7228);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var o=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(s){u=!0,r=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var o=n(9713);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6479:function(e,t,n){var o=n(7316);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var o=n(2858),r=n(3884),i=n(379),a=n(521);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8551:function(e,t,n){var o=n(2858),r=n(6860),i=n(379),a=n(521);e.exports=function(e){return o(e)||r(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var o=n(3646),r=n(6860),i=n(379),a=n(8206);e.exports=function(e){return o(e)||r(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var o=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},888:function(e,t,n){"use strict";var o=n(9047);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var o=n(2791),r=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(e,t,n,o,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,o){var r=h.hasOwnProperty(t)?h[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!d.call(p,e)||!d.call(m,e)&&(f.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);h[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);h[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);h[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var L,F=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var q=!1;function I(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=o.stack.split("\n"),a=r.length-1,u=i.length-1;1<=a&&0<=u&&r[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||r[a]!==i[u]){var s="\n"+r[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case C:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=G(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=U(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ie(e,t){var n=U(t.value),o=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=ge(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,ke=null,Se=null;function Ee(e){if(e=vr(e)){if("function"!==typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=yr(t),Ce(e.stateNode,e.type,t))}}function Oe(e){ke?Se?Se.push(e):Se=[e]:ke=e}function _e(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Re=!1;function De(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==ke||null!==Se)&&(Ae(),_e())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var o=yr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(l)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(le){Ne=!1}function Pe(e,t,n,o,r,i,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Be=!1,qe=null,Ie={onError:function(e){Le=!0,Fe=e}};function He(e,t,n,o,r,i,a,u,s){Le=!1,Fe=null,Pe.apply(Ie,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Ve(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(o=r.return)){n=o;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ue(r),e;if(a===o)return Ue(r),t;a=a.sibling}throw Error(i(188))}if(n.return!==o.return)n=r,o=a;else{for(var u=!1,s=r.child;s;){if(s===n){u=!0,n=r,o=a;break}if(s===o){u=!0,o=r,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,o=r;break}if(s===o){u=!0,o=a,n=r;break}s=s.sibling}if(!u)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Xe=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~r;0!==u?o=dt(u):0!==(i&=a)&&(o=dt(i))}else 0!==(a=n&~r)?o=dt(a):0!==i&&(o=dt(i));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-at(t)),o|=e[n],t&=~r;return o}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-at(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Ct,kt,St,Et=!1,Ot=[],_t=null,Tt=null,At=null,Rt=new Map,Dt=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Pt(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&wt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=hr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&wt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);xe=o,n.target.dispatchEvent(o),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function qt(){Et=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Bt),Dt.forEach(Bt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function Ht(e){function t(t){return It(t,e)}if(0<Ot.length){It(Ot[0],e);for(var n=1;n<Ot.length;n++){var o=Ot[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==_t&&It(_t,e),null!==Tt&&It(Tt,e),null!==At&&It(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(o=Mt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Vt=x.ReactCurrentBatchConfig;function jt(e,t,n,o){var r=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,o)}finally{bt=r,Vt.transition=i}}function Ut(e,t,n,o){var r=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,o)}finally{bt=r,Vt.transition=i}}function Gt(e,t,n,o){var r=$t(e,t,n,o);if(null===r)jo(e,t,o,Wt,n),zt(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return _t=Pt(_t,e,t,n,o,r),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,o,r),!0;case"mouseover":return At=Pt(At,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Rt.set(i,Pt(Rt.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Dt.set(i,Pt(Dt.get(i)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(zt(e,o),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var i=vr(r);if(null!==i&&xt(i),null===(i=$t(e,t,n,o))&&jo(e,t,o,Wt,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else jo(e,t,o,null,n)}var Wt=null;function $t(e,t,n,o){if(Wt=null,null!==(e=hr(e=we(o))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function Qt(){if(Xt)return Xt;var e,t,n=Yt,o=n.length,r="value"in Jt?Jt.value:Jt.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var a=o-e;for(t=1;t<=a&&n[o-t]===r[i-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,o,r,i){for(var a in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var on,rn,an,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),dn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(on=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=on=0,an=e),on)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=nn(dn),mn=nn(F({},dn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),gn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(hn),bn=nn(F({},un,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function kn(){return Cn}var Sn=F({},cn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),On=nn(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(An),Dn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Nn=null;l&&"documentMode"in document&&(Nn=document.documentMode);var zn=l&&"TextEvent"in window&&!Nn,Pn=l&&(!Mn||Nn&&8<Nn&&11>=Nn),Ln=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function jn(e,t,n,o){Oe(o),0<(t=Go(t,"onChange")).length&&(n=new sn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Un=null,Gn=null;function Wn(e){Fo(e,0)}function $n(e){if($(br(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Xn="function"===typeof Qn.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Un&&(Un.detachEvent("onpropertychange",eo),Gn=Un=null)}function eo(e){if("value"===e.propertyName&&$n(Gn)){var t=[];jn(t,Gn,e,we(e)),De(Wn,t)}}function to(e,t,n){"focusin"===e?(Zn(),Gn=n,(Un=t).attachEvent("onpropertychange",eo)):"focusout"===e&&Zn()}function no(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function oo(e,t){if("click"===e)return $n(t)}function ro(e,t){if("input"===e||"change"===e)return $n(t)}var io="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ao(e,t){if(io(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!d.call(t,r)||!io(e[r],t[r]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function so(e,t){var n,o=uo(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uo(o)}}function co(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?co(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lo(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=lo(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&co(n.ownerDocument.documentElement,n)){if(null!==o&&fo(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=void 0===o.end?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=so(n,i);var a=so(n,o);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var po=l&&"documentMode"in document&&11>=document.documentMode,go=null,ho=null,vo=null,bo=!1;function yo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bo||null==go||go!==K(o)||("selectionStart"in(o=go)&&fo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},vo&&ao(vo,o)||(vo=o,0<(o=Go(ho,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=go)))}function xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wo={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},Co={},ko={};function So(e){if(Co[e])return Co[e];if(!wo[e])return e;var t,n=wo[e];for(t in n)if(n.hasOwnProperty(t)&&t in ko)return Co[e]=n[t];return e}l&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var Eo=So("animationend"),Oo=So("animationiteration"),_o=So("animationstart"),To=So("transitionend"),Ao=new Map,Ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(e,t){Ao.set(e,t),s(t,[e])}for(var Mo=0;Mo<Ro.length;Mo++){var No=Ro[Mo];Do(No.toLowerCase(),"on"+(No[0].toUpperCase()+No.slice(1)))}Do(Eo,"onAnimationEnd"),Do(Oo,"onAnimationIteration"),Do(_o,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(To,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Po=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Lo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,a,u,s,c){if(He.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=Fe;Le=!1,Fe=null,Be||(Be=!0,qe=l)}}(o,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var a=o.length-1;0<=a;a--){var u=o[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&r.isPropagationStopped())break e;Lo(r,u,c),i=s}else for(a=0;a<o.length;a++){if(s=(u=o[a]).instance,c=u.currentTarget,u=u.listener,s!==i&&r.isPropagationStopped())break e;Lo(r,u,c),i=s}}}if(Be)throw e=qe,Be=!1,qe=null,e}function Bo(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var o=e+"__bubble";n.has(o)||(Vo(t,e,2,!1),n.add(o))}function qo(e,t,n){var o=0;t&&(o|=4),Vo(n,e,o,t)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Io]){e[Io]=!0,a.forEach((function(t){"selectionchange"!==t&&(Po.has(t)||qo(t,!1,e),qo(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Io]||(t[Io]=!0,qo("selectionchange",!1,t))}}function Vo(e,t,n,o){switch(Kt(t)){case 1:var r=jt;break;case 4:r=Ut;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function jo(e,t,n,o,r){var i=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var u=o.stateNode.containerInfo;if(u===r||8===u.nodeType&&u.parentNode===r)break;if(4===a)for(a=o.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===r||8===s.nodeType&&s.parentNode===r))return;a=a.return}for(;null!==u;){if(null===(a=hr(u)))return;if(5===(s=a.tag)||6===s){o=i=a;continue e}u=u.parentNode}}o=o.return}De((function(){var o=i,r=we(n),a=[];e:{var u=Ao.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Eo:case Oo:case _o:s=gn;break;case To:s=Tn;break;case"scroll":s=ln;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==u?u+"Capture":null:u;l=[];for(var m,p=o;null!==p;){var g=(m=p).stateNode;if(5===m.tag&&null!==g&&(m=g,null!==f&&(null!=(g=Me(p,f))&&l.push(Uo(p,g,m)))),d)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,r),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!hr(c)&&!c[fr])&&(s||u)&&(u=r.window===r?r:(u=r.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=o,null!==(c=(c=n.relatedTarget||n.toElement)?hr(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=o),s!==c)){if(l=fn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?u:br(s),m=null==c?u:br(c),(u=new l(g,p+"leave",s,n,r)).target=d,u.relatedTarget=m,g=null,hr(r)===o&&((l=new l(f,p+"enter",c,n,r)).target=m,l.relatedTarget=d,g=l),d=g,s&&c)e:{for(f=c,p=0,m=l=s;m;m=Wo(m))p++;for(m=0,g=f;g;g=Wo(g))m++;for(;0<p-m;)l=Wo(l),p--;for(;0<m-p;)f=Wo(f),m--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Wo(l),f=Wo(f)}l=null}else l=null;null!==s&&$o(a,u,s,l,!1),null!==c&&null!==d&&$o(a,d,c,l,!0)}if("select"===(s=(u=o?br(o):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var h=Kn;else if(Vn(u))if(Jn)h=ro;else{h=no;var v=to}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(h=oo);switch(h&&(h=h(e,o))?jn(a,h,n,r):(v&&v(e,u,o),"focusout"===e&&(v=u._wrapperState)&&v.controlled&&"number"===u.type&&ee(u,"number",u.value)),v=o?br(o):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(go=v,ho=o,vo=null);break;case"focusout":vo=ho=go=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,yo(a,n,r);break;case"selectionchange":if(po)break;case"keydown":case"keyup":yo(a,n,r)}var b;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else In?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Pn&&"ko"!==n.locale&&(In||"onCompositionStart"!==y?"onCompositionEnd"===y&&In&&(b=Qt()):(Yt="value"in(Jt=r)?Jt.value:Jt.textContent,In=!0)),0<(v=Go(o,y)).length&&(y=new bn(y,e,null,n,r),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=qn(n))&&(y.data=b))),(b=zn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Mn&&Bn(e,t)?(e=Qt(),Xt=Yt=Jt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Go(o,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:o}),r.data=b))}Fo(a,t)}))}function Uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Go(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Me(e,n))&&o.unshift(Uo(e,i,r)),null!=(i=Me(e,t))&&o.push(Uo(e,i,r))),e=e.return}return o}function Wo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $o(e,t,n,o,r){for(var i=t._reactName,a=[];null!==n&&n!==o;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===o)break;5===u.tag&&null!==c&&(u=c,r?null!=(s=Me(n,i))&&a.unshift(Uo(n,s,u)):r||null!=(s=Me(n,i))&&a.push(Uo(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ko=/\r\n?/g,Jo=/\u0000|\uFFFD/g;function Yo(e){return("string"===typeof e?e:""+e).replace(Ko,"\n").replace(Jo,"")}function Xo(e,t,n){if(t=Yo(t),Yo(e)!==t&&n)throw Error(i(425))}function Qo(){}var Zo=null;function er(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var tr="function"===typeof setTimeout?setTimeout:void 0,nr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,rr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ir)}:tr;function ir(e){setTimeout((function(){throw e}))}function ar(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Ht(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Ht(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function sr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),lr="__reactFiber$"+cr,dr="__reactProps$"+cr,fr="__reactContainer$"+cr,mr="__reactEvents$"+cr,pr="__reactListeners$"+cr,gr="__reactHandles$"+cr;function hr(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[lr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sr(e);null!==e;){if(n=e[lr])return n;e=sr(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[lr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function yr(e){return e[dr]||null}var xr=[],wr=-1;function Cr(e){return{current:e}}function kr(e){0>wr||(e.current=xr[wr],xr[wr]=null,wr--)}function Sr(e,t){wr++,xr[wr]=e.current,e.current=t}var Er={},Or=Cr(Er),_r=Cr(!1),Tr=Er;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Er;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dr(){kr(_r),kr(Or)}function Mr(e,t,n){if(Or.current!==Er)throw Error(i(168));Sr(Or,t),Sr(_r,n)}function Nr(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(i(108,j(e)||"Unknown",r));return F({},n,o)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Tr=Or.current,Sr(Or,e),Sr(_r,_r.current),!0}function Pr(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=Nr(e,t,Tr),o.__reactInternalMemoizedMergedChildContext=e,kr(_r),kr(Or),Sr(Or,e)):kr(_r),Sr(_r,n)}var Lr=null,Fr=!1,Br=!1;function qr(e){null===Lr?Lr=[e]:Lr.push(e)}function Ir(){if(!Br&&null!==Lr){Br=!0;var e=0,t=bt;try{var n=Lr;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Lr=null,Fr=!1}catch(r){throw null!==Lr&&(Lr=Lr.slice(e+1)),$e(Ze,Ir),r}finally{bt=t,Br=!1}}return null}var Hr=x.ReactCurrentBatchConfig;function Vr(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var jr=Cr(null),Ur=null,Gr=null,Wr=null;function $r(){Wr=Gr=Ur=null}function Kr(e){var t=jr.current;kr(jr),e._currentValue=t}function Jr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t){Ur=e,Wr=Gr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vu=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(Wr!==e)if(e={context:e,memoizedValue:t,next:null},null===Gr){if(null===Ur)throw Error(i(308));Gr=e,Ur.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var Qr=null,Zr=!1;function ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ti(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==bs&&0!==(1&e.mode)&&0===(2&vs)?(null===(e=n.interleaved)?(t.next=t,null===Qr?Qr=[n]:Qr.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ri(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ii(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ai(e,t,n,o){var r=e.updateQueue;Zr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(null!==u){r.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?i=c:a.next=c,a=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==i){var d=r.baseState;for(a=0,l=c=s=null,u=i;;){var f=u.lane,m=u.eventTime;if((o&f)===f){null!==l&&(l=l.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,g=u;switch(f=t,m=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(m,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:Zr=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[u]:f.push(u))}else m={eventTime:m,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=m,s=d):l=l.next=m,a|=f;if(null===(u=u.next)){if(null===(u=r.shared.pending))break;u=(f=u).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===l&&(s=d),r.baseState=s,r.firstBaseUpdate=c,r.lastBaseUpdate=l,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Es|=a,e.lanes=a,e.memoizedState=d}}function ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(i(191,r));r.call(o)}}}var si=(new o.Component).refs;function ci(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var li={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Vs(),r=js(e),i=ni(o,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),oi(e,i),null!==(t=Us(e,r,o))&&ri(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Vs(),r=js(e),i=ni(o,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),oi(e,i),null!==(t=Us(e,r,o))&&ri(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vs(),o=js(e),r=ni(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),oi(e,r),null!==(t=Us(e,o,n))&&ri(t,e,o)}};function di(e,t,n,o,r,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ao(n,o)||!ao(r,i))}function fi(e,t,n){var o=!1,r=Er,i=t.contextType;return"object"===typeof i&&null!==i?i=Xr(i):(r=Rr(t)?Tr:Or.current,i=(o=null!==(o=t.contextTypes)&&void 0!==o)?Ar(e,r):Er),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=li,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function mi(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function pi(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=si,ei(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Xr(i):(i=Rr(t)?Tr:Or.current,r.context=Ar(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ci(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&li.enqueueReplaceState(r,r.state,null),ai(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}var gi=[],hi=0,vi=null,bi=0,yi=[],xi=0,wi=null,Ci=1,ki="";function Si(e,t){gi[hi++]=bi,gi[hi++]=vi,vi=e,bi=t}function Ei(e,t,n){yi[xi++]=Ci,yi[xi++]=ki,yi[xi++]=wi,wi=e;var o=Ci;e=ki;var r=32-at(o)-1;o&=~(1<<r),n+=1;var i=32-at(t)+r;if(30<i){var a=r-r%5;i=(o&(1<<a)-1).toString(32),o>>=a,r-=a,Ci=1<<32-at(t)+r|n<<r|o,ki=i+e}else Ci=1<<i|n<<r|o,ki=e}function Oi(e){null!==e.return&&(Si(e,1),Ei(e,1,0))}function _i(e){for(;e===vi;)vi=gi[--hi],gi[hi]=null,bi=gi[--hi],gi[hi]=null;for(;e===wi;)wi=yi[--xi],yi[xi]=null,ki=yi[--xi],yi[xi]=null,Ci=yi[--xi],yi[xi]=null}var Ti=null,Ai=null,Ri=!1,Di=null;function Mi(e,t){var n=xc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ni(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ti=e,Ai=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ti=e,Ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wi?{id:Ci,overflow:ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ti=e,Ai=null,!0);default:return!1}}function zi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Pi(e){if(Ri){var t=Ai;if(t){var n=t;if(!Ni(e,t)){if(zi(e))throw Error(i(418));t=ur(n.nextSibling);var o=Ti;t&&Ni(e,t)?Mi(o,n):(e.flags=-4097&e.flags|2,Ri=!1,Ti=e)}}else{if(zi(e))throw Error(i(418));e.flags=-4097&e.flags|2,Ri=!1,Ti=e}}}function Li(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ti=e}function Fi(e){if(e!==Ti)return!1;if(!Ri)return Li(e),Ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!er(e.type,e.memoizedProps)),t&&(t=Ai)){if(zi(e)){for(e=Ai;e;)e=ur(e.nextSibling);throw Error(i(418))}for(;t;)Mi(e,t),t=ur(t.nextSibling)}if(Li(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ai=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ai=null}}else Ai=Ti?ur(e.stateNode.nextSibling):null;return!0}function Bi(){Ai=Ti=null,Ri=!1}function qi(e){null===Di?Di=[e]:Di.push(e)}function Ii(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var r=o,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===si&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vi(e){return(0,e._init)(e._payload)}function ji(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function a(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,o){return null===t||6!==t.tag?((t=Oc(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var i=n.type;return i===k?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&Vi(i)===t.type)?((o=r(t,n.props)).ref=Ii(e,t,n),o.return=e,o):((o=kc(n.type,n.key,n.props,null,e.mode,o)).ref=Ii(e,t,n),o.return=e,o)}function l(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_c(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,i){return null===t||7!==t.tag?((t=Sc(n,e.mode,o,i)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=Ii(e,null,t),n.return=e,n;case C:return(t=_c(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Sc(t,e.mode,n,null)).return=e,t;Hi(e,t)}return null}function m(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:s(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,o):null;case C:return n.key===r?l(e,t,n,o):null;case M:return m(e,t,(r=n._init)(n._payload),o)}if(te(n)||P(n))return null!==r?null:d(e,t,n,o,null);Hi(e,n)}return null}function p(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return s(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case w:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case C:return l(t,e=e.get(null===o.key?n:o.key)||null,o,r);case M:return p(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||P(o))return d(t,e=e.get(n)||null,o,r,null);Hi(t,o)}return null}function g(r,i,u,s){for(var c=null,l=null,d=i,g=i=0,h=null;null!==d&&g<u.length;g++){d.index>g?(h=d,d=null):h=d.sibling;var v=m(r,d,u[g],s);if(null===v){null===d&&(d=h);break}e&&d&&null===v.alternate&&t(r,d),i=a(v,i,g),null===l?c=v:l.sibling=v,l=v,d=h}if(g===u.length)return n(r,d),Ri&&Si(r,g),c;if(null===d){for(;g<u.length;g++)null!==(d=f(r,u[g],s))&&(i=a(d,i,g),null===l?c=d:l.sibling=d,l=d);return Ri&&Si(r,g),c}for(d=o(r,d);g<u.length;g++)null!==(h=p(d,r,g,u[g],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?g:h.key),i=a(h,i,g),null===l?c=h:l.sibling=h,l=h);return e&&d.forEach((function(e){return t(r,e)})),Ri&&Si(r,g),c}function h(r,u,s,c){var l=P(s);if("function"!==typeof l)throw Error(i(150));if(null==(s=l.call(s)))throw Error(i(151));for(var d=l=null,g=u,h=u=0,v=null,b=s.next();null!==g&&!b.done;h++,b=s.next()){g.index>h?(v=g,g=null):v=g.sibling;var y=m(r,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(r,g),u=a(y,u,h),null===d?l=y:d.sibling=y,d=y,g=v}if(b.done)return n(r,g),Ri&&Si(r,h),l;if(null===g){for(;!b.done;h++,b=s.next())null!==(b=f(r,b.value,c))&&(u=a(b,u,h),null===d?l=b:d.sibling=b,d=b);return Ri&&Si(r,h),l}for(g=o(r,g);!b.done;h++,b=s.next())null!==(b=p(g,r,h,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?h:b.key),u=a(b,u,h),null===d?l=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(r,e)})),Ri&&Si(r,h),l}return function e(o,i,a,s){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===k){if(7===l.tag){n(o,l.sibling),(i=r(l,a.props.children)).return=o,o=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Vi(c)===l.type){n(o,l.sibling),(i=r(l,a.props)).ref=Ii(o,l,a),i.return=o,o=i;break e}n(o,l);break}t(o,l),l=l.sibling}a.type===k?((i=Sc(a.props.children,o.mode,s,a.key)).return=o,o=i):((s=kc(a.type,a.key,a.props,null,o.mode,s)).ref=Ii(o,i,a),s.return=o,o=s)}return u(o);case C:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(o,i.sibling),(i=r(i,a.children||[])).return=o,o=i;break e}n(o,i);break}t(o,i),i=i.sibling}(i=_c(a,o.mode,s)).return=o,o=i}return u(o);case M:return e(o,i,(l=a._init)(a._payload),s)}if(te(a))return g(o,i,a,s);if(P(a))return h(o,i,a,s);Hi(o,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(o,i.sibling),(i=r(i,a)).return=o,o=i):(n(o,i),(i=Oc(a,o.mode,s)).return=o,o=i),u(o)):n(o,i)}}var Ui=ji(!0),Gi=ji(!1),Wi={},$i=Cr(Wi),Ki=Cr(Wi),Ji=Cr(Wi);function Yi(e){if(e===Wi)throw Error(i(174));return e}function Xi(e,t){switch(Sr(Ji,t),Sr(Ki,e),Sr($i,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr($i),Sr($i,t)}function Qi(){kr($i),kr(Ki),kr(Ji)}function Zi(e){Yi(Ji.current);var t=Yi($i.current),n=se(t,e.type);t!==n&&(Sr(Ki,e),Sr($i,n))}function ea(e){Ki.current===e&&(kr($i),kr(Ki))}var ta=Cr(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=[];function ra(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var ia=x.ReactCurrentDispatcher,aa=x.ReactCurrentBatchConfig,ua=0,sa=null,ca=null,la=null,da=!1,fa=!1,ma=0,pa=0;function ga(){throw Error(i(321))}function ha(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!io(e[n],t[n]))return!1;return!0}function va(e,t,n,o,r,a){if(ua=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:eu,e=n(o,r),fa){a=0;do{if(fa=!1,ma=0,25<=a)throw Error(i(301));a+=1,la=ca=null,t.updateQueue=null,ia.current=tu,e=n(o,r)}while(fa)}if(ia.current=Qa,t=null!==ca&&null!==ca.next,ua=0,la=ca=sa=null,da=!1,t)throw Error(i(300));return e}function ba(){var e=0!==ma;return ma=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function xa(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function wa(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var o=ca,r=o.baseQueue,a=n.pending;if(null!==a){if(null!==r){var u=r.next;r.next=a.next,a.next=u}o.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,o=o.baseState;var s=u=null,c=null,l=a;do{var d=l.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),o=l.hasEagerState?l.eagerState:e(o,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=f,u=o):c=c.next=f,sa.lanes|=d,Es|=d}l=l.next}while(null!==l&&l!==a);null===c?u=o:c.next=s,io(o,t.memoizedState)||(vu=!0),t.memoizedState=o,t.baseState=u,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,sa.lanes|=a,Es|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var u=r=r.next;do{a=e(a,u.action),u=u.next}while(u!==r);io(a,t.memoizedState)||(vu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,o]}function Sa(){}function Ea(e,t){var n=sa,o=xa(),r=t(),a=!io(o.memoizedState,r);if(a&&(o.memoizedState=r,vu=!0),o=o.queue,La(Ta.bind(null,n,o,e),[e]),o.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Da(9,_a.bind(null,n,o,r,t),void 0,null),null===bs)throw Error(i(349));0!==(30&ua)||Oa(n,t,r)}return r}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,o){t.value=n,t.getSnapshot=o,Aa(t)&&Us(e,1,-1)}function Ta(e,t,n){return n((function(){Aa(t)&&Us(e,1,-1)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!io(e,n)}catch(o){return!0}}function Ra(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function Da(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Ma(){return xa().memoizedState}function Na(e,t,n,o){var r=ya();sa.flags|=e,r.memoizedState=Da(1|t,n,void 0,void 0===o?null:o)}function za(e,t,n,o){var r=xa();o=void 0===o?null:o;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==o&&ha(o,a.deps))return void(r.memoizedState=Da(t,n,i,o))}sa.flags|=e,r.memoizedState=Da(1|t,n,i,o)}function Pa(e,t){return Na(8390656,8,e,t)}function La(e,t){return za(2048,8,e,t)}function Fa(e,t){return za(4,2,e,t)}function Ba(e,t){return za(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,qa.bind(null,t,e),n)}function Ha(){}function Va(e,t){var n=xa();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ha(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function ja(e,t){var n=xa();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ha(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Ua(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=aa.transition;aa.transition={};try{e(!1),t()}finally{bt=n,aa.transition=o}}function Ga(){return xa().memoizedState}function Wa(e,t,n){var o=js(e);n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?Ja(t,n):(Ya(e,t,n),null!==(e=Us(e,o,n=Vs()))&&Xa(e,t,o))}function $a(e,t,n){var o=js(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ja(t,r);else{Ya(e,t,r);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=i(a,n);if(r.hasEagerState=!0,r.eagerState=u,io(u,a))return}catch(s){}null!==(e=Us(e,o,n=Vs()))&&Xa(e,t,o)}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){fa=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){null!==bs&&0!==(1&e.mode)&&0===(2&vs)?(null===(e=t.interleaved)?(n.next=n,null===Qr?Qr=[t]:Qr.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xa(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qa={readContext:Xr,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},Za={readContext:Xr,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Xr,useEffect:Pa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ya();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ra,useDebugValue:Ha,useDeferredValue:function(e){var t=Ra(e),n=t[0],o=t[1];return Pa((function(){var t=aa.transition;aa.transition={};try{o(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ua.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=sa,r=ya();if(Ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===bs)throw Error(i(349));0!==(30&ua)||Oa(o,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Pa(Ta.bind(null,o,a,e),[e]),o.flags|=2048,Da(9,_a.bind(null,o,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=bs.identifierPrefix;if(Ri){var n=ki;t=":"+t+"R"+(n=(Ci&~(1<<32-at(Ci)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Xr,useCallback:Va,useContext:Xr,useEffect:La,useImperativeHandle:Ia,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:ja,useReducer:Ca,useRef:Ma,useState:function(){return Ca(wa)},useDebugValue:Ha,useDeferredValue:function(e){var t=Ca(wa),n=t[0],o=t[1];return La((function(){var t=aa.transition;aa.transition={};try{o(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[Ca(wa)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},tu={readContext:Xr,useCallback:Va,useContext:Xr,useEffect:La,useImperativeHandle:Ia,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:ja,useReducer:ka,useRef:Ma,useState:function(){return ka(wa)},useDebugValue:Ha,useDeferredValue:function(e){var t=ka(wa),n=t[0],o=t[1];return La((function(){var t=aa.transition;aa.transition={};try{o(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[ka(wa)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",o=t;do{n+=H(o),o=o.return}while(o);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r}}function ou(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ru,iu,au,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ni(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ms||(Ms=!0,Ns=o),ou(0,t)},n}function cu(e,t,n){(n=ni(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){ou(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ou(0,t),"function"!==typeof o&&(null===zs?zs=new Set([this]):zs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new uu;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function du(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fu(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ni(-1,1)).tag=2,oi(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function mu(e,t){if(!Ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function gu(e,t,n){var o=t.pendingProps;switch(_i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Rr(t.type)&&Dr(),pu(t),null;case 3:return o=t.stateNode,Qi(),kr(_r),kr(Or),ra(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(Fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Di&&(Js(Di),Di=null))),pu(t),null;case 5:ea(t);var r=Yi(Ji.current);if(n=t.type,null!==e&&null!=t.stateNode)iu(e,t,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(i(166));return pu(t),null}if(e=Yi($i.current),Fi(t)){o=t.stateNode,n=t.type;var a=t.memoizedProps;switch(o[lr]=t,o[dr]=a,e=0!==(1&t.mode),n){case"dialog":Bo("cancel",o),Bo("close",o);break;case"iframe":case"object":case"embed":Bo("load",o);break;case"video":case"audio":for(r=0;r<zo.length;r++)Bo(zo[r],o);break;case"source":Bo("error",o);break;case"img":case"image":case"link":Bo("error",o),Bo("load",o);break;case"details":Bo("toggle",o);break;case"input":Y(o,a),Bo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},Bo("invalid",o);break;case"textarea":re(o,a),Bo("invalid",o)}for(var s in be(n,a),r=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?o.textContent!==c&&(Xo(o.textContent,c,e),r=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(Xo(o.textContent,c,e),r=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Bo("scroll",o)}switch(n){case"input":W(o),Z(o,a,!0);break;case"textarea":W(o),ae(o);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(o.onclick=Qo)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),"select"===n&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[lr]=t,e[dr]=o,ru(e,t),t.stateNode=e;e:{switch(s=ye(n,o),n){case"dialog":Bo("cancel",e),Bo("close",e),r=o;break;case"iframe":case"object":case"embed":Bo("load",e),r=o;break;case"video":case"audio":for(r=0;r<zo.length;r++)Bo(zo[r],e);r=o;break;case"source":Bo("error",e),r=o;break;case"img":case"image":case"link":Bo("error",e),Bo("load",e),r=o;break;case"details":Bo("toggle",e),r=o;break;case"input":Y(e,o),r=J(e,o),Bo("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=F({},o,{value:void 0}),Bo("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),Bo("invalid",e)}for(a in be(n,r),c=r)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?he(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Bo("scroll",e):null!=l&&y(e,a,l,s))}switch(n){case"input":W(e),Z(e,o,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=o.value&&e.setAttribute("value",""+U(o.value));break;case"select":e.multiple=!!o.multiple,null!=(a=o.value)?ne(e,!!o.multiple,a,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qo)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)au(0,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ji.current),Yi($i.current),Fi(t)){if(o=t.stateNode,n=t.memoizedProps,o[lr]=t,(a=o.nodeValue!==n)&&null!==(e=Ti))switch(s=0!==(1&e.mode),e.tag){case 3:Xo(o.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Xo(o.nodeValue,n,s)}a&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[lr]=t,t.stateNode=o}return pu(t),null;case 13:if(kr(ta),o=t.memoizedState,Ri&&null!==Ai&&0!==(1&t.mode)&&0===(128&t.flags)){for(o=Ai;o;)o=ur(o.nextSibling);return Bi(),t.flags|=98560,t}if(null!==o&&null!==o.dehydrated){if(o=Fi(t),null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[lr]=t}else Bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Di&&(Js(Di),Di=null),0!==(128&t.flags)?(t.lanes=n,t):(o=null!==o,n=!1,null===e?Fi(t):n=null!==e.memoizedState,o&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===ks&&(ks=3):rc())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Qi(),null===e&&Ho(t.stateNode.containerInfo),pu(t),null;case 10:return Kr(t.type._context),pu(t),null;case 19:if(kr(ta),null===(a=t.memoizedState))return pu(t),null;if(o=0!==(128&t.flags),null===(s=a.rendering))if(o)mu(a,!1);else{if(0!==ks||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=na(e))){for(t.flags|=128,mu(a,!1),null!==(o=s.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ds&&(t.flags|=128,o=!0,mu(a,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=na(s))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),mu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Ri)return pu(t),null}else 2*Xe()-a.renderingStartTime>Ds&&1073741824!==n&&(t.flags|=128,o=!0,mu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ta.current,Sr(ta,o?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},iu=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Yi($i.current);var i,a=null;switch(n){case"input":r=J(e,r),o=J(e,o),a=[];break;case"select":r=F({},r,{value:void 0}),o=F({},o,{value:void 0}),a=[];break;case"textarea":r=oe(e,r),o=oe(e,o),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=Qo)}for(l in be(n,o),n=null,r)if(!o.hasOwnProperty(l)&&r.hasOwnProperty(l)&&null!=r[l])if("style"===l){var s=r[l];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in o){var c=o[l];if(s=null!=r?r[l]:void 0,o.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Bo("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},au=function(e,t,n,o){n!==o&&(t.flags|=4)};var hu=x.ReactCurrentOwner,vu=!1;function bu(e,t,n,o){t.child=null===e?Gi(t,null,n,o):Ui(t,e.child,n,o)}function yu(e,t,n,o,r){n=n.render;var i=t.ref;return Yr(t,r),o=va(e,t,n,o,i,r),n=ba(),null===e||vu?(Ri&&n&&Oi(t),t.flags|=1,bu(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qu(e,t,r))}function xu(e,t,n,o,r){if(null===e){var i=n.type;return"function"!==typeof i||wc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,wu(e,t,i,o,r))}if(i=e.child,0===(e.lanes&r)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ao)(a,o)&&e.ref===t.ref)return qu(e,t,r)}return t.flags|=1,(e=Cc(i,o)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,o,r){if(null!==e&&ao(e.memoizedProps,o)&&e.ref===t.ref){if(vu=!1,0===(e.lanes&r))return t.lanes=e.lanes,qu(e,t,r);0!==(131072&e.flags)&&(vu=!0)}return Su(e,t,n,o,r)}function Cu(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Sr(Cs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Sr(Cs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},o=null!==i?i.baseLanes:n,Sr(Cs,ws),ws|=o}else null!==i?(o=i.baseLanes|n,t.memoizedState=null):o=n,Sr(Cs,ws),ws|=o;return bu(e,t,r,n),t.child}function ku(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,o,r){var i=Rr(n)?Tr:Or.current;return i=Ar(t,i),Yr(t,r),n=va(e,t,n,o,i,r),o=ba(),null===e||vu?(Ri&&o&&Oi(t),t.flags|=1,bu(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qu(e,t,r))}function Eu(e,t,n,o,r){if(Rr(n)){var i=!0;zr(t)}else i=!1;if(Yr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fi(t,n,o),pi(t,n,o,r),o=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Xr(c):c=Ar(t,c=Rr(n)?Tr:Or.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==o||s!==c)&&mi(t,a,o,c),Zr=!1;var f=t.memoizedState;a.state=f,ai(t,o,a,r),s=t.memoizedState,u!==o||f!==s||_r.current||Zr?("function"===typeof l&&(ci(t,n,l,o),s=t.memoizedState),(u=Zr||di(t,n,u,o,f,s,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=s),a.props=o,a.state=s,a.context=c,o=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),o=!1)}else{a=t.stateNode,ti(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Vr(t.type,u),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Xr(s):s=Ar(t,s=Rr(n)?Tr:Or.current);var m=n.getDerivedStateFromProps;(l="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==d||f!==s)&&mi(t,a,o,s),Zr=!1,f=t.memoizedState,a.state=f,ai(t,o,a,r);var p=t.memoizedState;u!==d||f!==p||_r.current||Zr?("function"===typeof m&&(ci(t,n,m,o),p=t.memoizedState),(c=Zr||di(t,n,c,o,f,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(o,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=p),a.props=o,a.state=p,a.context=s,o=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),o=!1)}return Ou(e,t,n,o,i,r)}function Ou(e,t,n,o,r,i){ku(e,t);var a=0!==(128&t.flags);if(!o&&!a)return r&&Pr(t,n,!1),qu(e,t,i);o=t.stateNode,hu.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&a?(t.child=Ui(t,e.child,null,i),t.child=Ui(t,null,u,i)):bu(e,t,u,i),t.memoizedState=o.state,r&&Pr(t,n,!0),t.child}function _u(e){var t=e.stateNode;t.pendingContext?Mr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mr(0,t.context,!1),Xi(e,t.containerInfo)}function Tu(e,t,n,o,r){return Bi(),qi(r),t.flags|=256,bu(e,t,n,o),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Du(e,t,n){var o,r=t.pendingProps,a=ta.current,u=!1,s=0!==(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&a)),o?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Sr(ta,1&a),null===e)return Pi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,u?(r=t.mode,u=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==u?(u.childLanes=0,u.pendingProps=a):u=Ec(a,r,0,null),e=Sc(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Au,e):Mu(t,a));if(null!==(a=e.memoizedState)){if(null!==(o=a.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Pu(e,t,n,Error(i(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=r.fallback,a=t.mode,r=Ec({mode:"visible",children:r.children},a,0,null),(u=Sc(u,a,n,null)).flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,0!==(1&t.mode)&&Ui(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Pu(e,t,n,null);else if("$!"===o.data)t=Pu(e,t,n,Error(i(419)));else if(r=0!==(n&e.childLanes),vu||r){if(null!==(r=bs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(r=0!==(u&(r.suspendedLanes|n))?0:u)&&r!==a.retryLane&&(a.retryLane=r,Us(e,r,-1))}rc(),t=Pu(e,t,n,Error(i(421)))}else"$?"===o.data?(t.flags|=128,t.child=e.child,t=hc.bind(null,e),o._reactRetry=t,t=null):(n=a.treeContext,Ai=ur(o.nextSibling),Ti=t,Ri=!0,Di=null,null!==n&&(yi[xi++]=Ci,yi[xi++]=ki,yi[xi++]=wi,Ci=n.id,ki=n.overflow,wi=t),(t=Mu(t,t.pendingProps.children)).flags|=4096);return t}return u?(r=zu(e,t,r.children,r.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?Ru(n):{baseLanes:a.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,r):(n=Nu(e,t,r.children,n),t.memoizedState=null,n)}return u?(r=zu(e,t,r.children,r.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?Ru(n):{baseLanes:a.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,r):(n=Nu(e,t,r.children,n),t.memoizedState=null,n)}function Mu(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Nu(e,t,n,o){var r=e.child;return e=r.sibling,n=Cc(r,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=o),n.return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n}function zu(e,t,n,o,r){var i=t.mode,a=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&i)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Cc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==a?o=Cc(a,o):(o=Sc(o,i,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,o}function Pu(e,t,n,o){return null!==o&&qi(o),Ui(t,e.child,null,n),(e=Mu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lu(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Jr(e.return,t,n)}function Fu(e,t,n,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Bu(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(bu(e,t,o.children,n),0!==(2&(o=ta.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lu(e,n,t);else if(19===e.tag)Lu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Sr(ta,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fu(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===na(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fu(t,!0,n,null,i);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Iu(e,t){switch(_i(t),t.tag){case 1:return Rr(t.type)&&Dr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),kr(_r),kr(Or),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(kr(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));Bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(ta),null;case 4:return Qi(),null;case 10:return Kr(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Hu=!1,Vu=!1,ju="function"===typeof WeakSet?WeakSet:Set,Uu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){mc(e,t,o)}else n.current=null}function Wu(e,t,n){try{n()}catch(o){mc(e,t,o)}}var $u=!1;function Ku(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&Wu(t,n,i)}r=r.next}while(r!==o)}}function Ju(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var o=e=e.next;do{var r=o,i=r.destroy;r=r.tag,void 0!==i&&(0!==(2&r)||0!==(4&r))&&Wu(t,n,i),o=o.next}while(o!==e)}break;case 1:if(Gu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){mc(t,n,a)}break;case 5:Gu(t,n);break;case 4:rs(e,t,n)}}function Qu(e){var t=e.alternate;null!==t&&(e.alternate=null,Qu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[lr],delete t[dr],delete t[mr],delete t[pr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(fe(t,""),n.flags&=-33),os(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(i(161))}}function ns(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qo));else if(4!==o&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function os(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}function rs(e,t,n){for(var o,r,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(i(160));switch(o=u.stateNode,u.tag){case 5:r=!1;break e;case 3:case 4:o=o.containerInfo,r=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=n,d=c;;)if(Xu(s,d,l),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(s=o,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):o.removeChild(a.stateNode)}else if(18===a.tag)r?(s=o,c=a.stateNode,8===s.nodeType?ar(s.parentNode,c):1===s.nodeType&&ar(s,c),Ht(s)):ar(o,a.stateNode);else if(4===a.tag){if(null!==a.child){o=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(Xu(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ku(3,t,t.return),Ju(3,t),void Ku(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,r=null!==e?e.memoizedProps:o;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===o.type&&null!=o.name&&X(n,o),ye(e,r),t=ye(e,o),r=0;r<a.length;r+=2){var u=a[r],s=a[r+1];"style"===u?he(n,s):"dangerouslySetInnerHTML"===u?de(n,s):"children"===u?fe(n,s):y(n,u,s,t)}switch(e){case"input":Q(n,o);break;case"textarea":ie(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(a=o.value)?ne(n,!!o.multiple,a,!1):e!==!!o.multiple&&(null!=o.defaultValue?ne(n,!!o.multiple,o.defaultValue,!0):ne(n,!!o.multiple,o.multiple?[]:"",!1))}n[dr]=o}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ht(t.stateNode.containerInfo));case 13:case 19:return void as(t)}throw Error(i(163))}function as(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ju),t.forEach((function(t){var o=vc.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function us(e,t,n){Uu=e,ss(e,t,n)}function ss(e,t,n){for(var o=0!==(1&e.mode);null!==Uu;){var r=Uu,i=r.child;if(22===r.tag&&o){var a=null!==r.memoizedState||Hu;if(!a){var u=r.alternate,s=null!==u&&null!==u.memoizedState||Vu;u=Hu;var c=Vu;if(Hu=a,(Vu=s)&&!c)for(Uu=r;null!==Uu;)s=(a=Uu).child,22===a.tag&&null!==a.memoizedState?ds(r):null!==s?(s.return=a,Uu=s):ds(r);for(;null!==i;)Uu=i,ss(i,t,n),i=i.sibling;Uu=r,Hu=u,Vu=c}cs(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Uu=i):cs(e)}}function cs(e){for(;null!==Uu;){var t=Uu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Vu||Ju(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Vu)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Vr(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ui(t,a,o);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ui(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(i(163))}Vu||512&t.flags&&Yu(t)}catch(m){mc(t,t.return,m)}}if(t===e){Uu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Uu=n;break}Uu=t.return}}function ls(e){for(;null!==Uu;){var t=Uu;if(t===e){Uu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Uu=n;break}Uu=t.return}}function ds(e){for(;null!==Uu;){var t=Uu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ju(4,t)}catch(s){mc(t,n,s)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(s){mc(t,r,s)}}var i=t.return;try{Yu(t)}catch(s){mc(t,i,s)}break;case 5:var a=t.return;try{Yu(t)}catch(s){mc(t,a,s)}}}catch(s){mc(t,t.return,s)}if(t===e){Uu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Uu=u;break}Uu=t.return}}var fs,ms=Math.ceil,ps=x.ReactCurrentDispatcher,gs=x.ReactCurrentOwner,hs=x.ReactCurrentBatchConfig,vs=0,bs=null,ys=null,xs=0,ws=0,Cs=Cr(0),ks=0,Ss=null,Es=0,Os=0,_s=0,Ts=null,As=null,Rs=0,Ds=1/0,Ms=!1,Ns=null,zs=null,Ps=!1,Ls=null,Fs=0,Bs=0,qs=null,Is=-1,Hs=0;function Vs(){return 0!==(6&vs)?Xe():-1!==Is?Is:Is=Xe()}function js(e){return 0===(1&e.mode)?1:0!==(2&vs)&&0!==xs?xs&-xs:null!==Hr.transition?(0===Hs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Hs=e),Hs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function Us(e,t,n){if(50<Bs)throw Bs=0,qs=null,Error(i(185));var o=Gs(e,t);return null===o?null:(ht(o,t,n),0!==(2&vs)&&o===bs||(o===bs&&(0===(2&vs)&&(Os|=t),4===ks&&Ys(o,xs)),Ws(o,n),1===t&&0===vs&&0===(1&e.mode)&&(Ds=Xe()+500,Fr&&Ir())),o)}function Gs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),u=1<<a,s=r[a];-1===s?0!==(u&n)&&0===(u&o)||(r[a]=mt(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}}(e,t);var o=ft(e,e===bs?xs:0);if(0===o)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fr=!0,qr(e)}(Xs.bind(null,e)):qr(Xs.bind(null,e)),rr((function(){0===vs&&Ir()})),n=null;else{switch(yt(o)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=bc(n,$s.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $s(e,t){if(Is=-1,Hs=0,0!==(6&vs))throw Error(i(327));var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var o=ft(e,e===bs?xs:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=ic(e,o);else{t=o;var r=vs;vs|=2;var a=oc();for(bs===e&&xs===t||(Ds=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}$r(),ps.current=a,vs=r,null!==ys?t=0:(bs=null,xs=0,t=ks)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(o=r,t=Ks(e,r))),1===t)throw n=Ss,tc(e,0),Ys(e,o),Ws(e,Xe()),n;if(6===t)Ys(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!io(i(),r))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=ic(e,o))&&(0!==(a=pt(e))&&(o=a,t=Ks(e,a))),1===t))throw n=Ss,tc(e,0),Ys(e,o),Ws(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,o),(130023424&o)===o&&10<(t=Rs+500-Xe())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&o)!==o){Vs(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=tr(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var u=31-at(o);a=1<<u,(u=t[u])>r&&(r=u),o&=~a}if(o=r,10<(o=(120>(o=Xe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ms(o/1960))-o)){e.timeoutHandle=tr(lc.bind(null,e,As),o);break}lc(e,As);break;default:throw Error(i(329))}}}return Ws(e,Xe()),e.callbackNode===n?$s.bind(null,e):null}function Ks(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ic(e,t))&&(t=As,As=n,null!==t&&Js(t)),e}function Js(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~_s,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),o=1<<n;e[n]=-1,t&=~o}}function Xs(e){if(0!==(6&vs))throw Error(i(327));dc();var t=ft(e,0);if(0===(1&t))return Ws(e,Xe()),null;var n=ic(e,t);if(0!==e.tag&&2===n){var o=pt(e);0!==o&&(t=o,n=Ks(e,o))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Ws(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Ws(e,Xe()),null}function Qs(e,t){var n=vs;vs|=1;try{return e(t)}finally{0===(vs=n)&&(Ds=Xe()+500,Fr&&Ir())}}function Zs(e){null!==Ls&&0===Ls.tag&&0===(6&vs)&&dc();var t=vs;vs|=1;var n=hs.transition,o=bt;try{if(hs.transition=null,bt=1,e)return e()}finally{bt=o,hs.transition=n,0===(6&(vs=t))&&Ir()}}function ec(){ws=Cs.current,kr(Cs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,nr(n)),null!==ys)for(n=ys.return;null!==n;){var o=n;switch(_i(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Dr();break;case 3:Qi(),kr(_r),kr(Or),ra();break;case 5:ea(o);break;case 4:Qi();break;case 13:case 19:kr(ta);break;case 10:Kr(o.type._context);break;case 22:case 23:ec()}n=n.return}if(bs=e,ys=e=Cc(e.current,null),xs=ws=t,ks=0,Ss=null,_s=Os=Es=0,As=Ts=null,null!==Qr){for(t=0;t<Qr.length;t++)if(null!==(o=(n=Qr[t]).interleaved)){n.interleaved=null;var r=o.next,i=n.pending;if(null!==i){var a=i.next;i.next=r,o.next=a}n.pending=o}Qr=null}return e}function nc(e,t){for(;;){var n=ys;try{if($r(),ia.current=Qa,da){for(var o=sa.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}da=!1}if(ua=0,la=ca=sa=null,fa=!1,ma=0,gs.current=null,null===n||null===n.return){ks=1,Ss=t,ys=null;break}e:{var a=e,u=n.return,s=n,c=t;if(t=xs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=du(u);if(null!==p){p.flags&=-257,fu(p,u,s,0,t),1&p.mode&&lu(a,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var h=new Set;h.add(c),t.updateQueue=h}else g.add(c);break e}if(0===(1&t)){lu(a,l,t),rc();break e}c=Error(i(426))}else if(Ri&&1&s.mode){var v=du(u);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fu(v,u,s,0,t),qi(c);break e}}a=c,4!==ks&&(ks=2),null===Ts?Ts=[a]:Ts.push(a),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ii(s,su(0,c,t));break e;case 1:a=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===zs||!zs.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,ii(s,cu(s,a,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(x){t=x,ys===n&&null!==n&&(ys=n=n.return);continue}break}}function oc(){var e=ps.current;return ps.current=Qa,null===e?Qa:e}function rc(){0!==ks&&3!==ks&&2!==ks||(ks=4),null===bs||0===(268435455&Es)&&0===(268435455&Os)||Ys(bs,xs)}function ic(e,t){var n=vs;vs|=2;var o=oc();for(bs===e&&xs===t||tc(e,t);;)try{ac();break}catch(r){nc(e,r)}if($r(),vs=n,ps.current=o,null!==ys)throw Error(i(261));return bs=null,xs=0,ks}function ac(){for(;null!==ys;)sc(ys)}function uc(){for(;null!==ys&&!Je();)sc(ys)}function sc(e){var t=fs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ys=t,gs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=gu(n,t,ws)))return void(ys=n)}else{if(null!==(n=Iu(n,t)))return n.flags&=32767,void(ys=n);if(null===e)return ks=6,void(ys=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ys=t);ys=t=e}while(null!==t);0===ks&&(ks=5)}function lc(e,t){var n=bt,o=hs.transition;try{hs.transition=null,bt=1,function(e,t,n){do{dc()}while(null!==Ls);if(0!==(6&vs))throw Error(i(327));var o=e.finishedWork,r=e.finishedLanes;if(null===o)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=o.lanes|o.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}(e,a),e===bs&&(ys=bs=null,xs=0),0===(2064&o.subtreeFlags)&&0===(2064&o.flags)||Ps||(Ps=!0,bc(tt,(function(){return dc(),null}))),a=0!==(15990&o.flags),0!==(15990&o.subtreeFlags)||a){a=hs.transition,hs.transition=null;var u=bt;bt=1;var s=vs;vs|=4,gs.current=null,function(e,t){if(fo(e=lo())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{n.nodeType,a.nodeType}catch(C){n=null;break e}var u=0,s=-1,c=-1,l=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(s=u+r),f!==a||0!==o&&3!==f.nodeType||(c=u+o),3===f.nodeType&&(u+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++l===r&&(s=u),m===a&&++d===o&&(c=u),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:e,selectionRange:n},Uu=t;null!==Uu;)if(e=(t=Uu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Uu=e;else for(;null!==Uu;){t=Uu;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var h=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?h:Vr(t.type,h),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var w=x.body;null!=w&&(w.textContent="")}break;default:throw Error(i(163))}}catch(C){mc(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Uu=e;break}Uu=t.return}g=$u,$u=!1}(e,o),function(e,t){for(Uu=t;null!==Uu;){var n=(t=Uu).deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{rs(e,r,t);var i=r.alternate;null!==i&&(i.return=null),r.return=null}catch(S){mc(r,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Uu=n;else for(;null!==Uu;){t=Uu;try{var a=t.flags;if(32&a&&fe(t.stateNode,""),512&a){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rs=Xe())}break;case 22:var l=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;e:{r=l;for(var m=null,p=o=n=t;;){if(5===p.tag){if(null===m){m=p;var g=p.stateNode;if(r){var h=g.style;"function"===typeof h.setProperty?h.setProperty("display","none","important"):h.display="none"}else{var v=p.stateNode,b=p.memoizedProps.style,y=void 0!==b&&null!==b&&b.hasOwnProperty("display")?b.display:null;v.style.display=ge("display",y)}}}else if(6===p.tag)null===m&&(p.stateNode.nodeValue=r?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===o)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===o)break;for(;null===p.sibling;){if(null===p.return||p.return===o)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!f&&0!==(1&n.mode)){Uu=n;for(var x=n.child;null!==x;){for(n=Uu=x;null!==Uu;){var w=(o=Uu).child;switch(o.tag){case 0:case 11:case 14:case 15:Ku(4,o,o.return);break;case 1:Gu(o,o.return);var C=o.stateNode;if("function"===typeof C.componentWillUnmount){var k=o.return;try{C.props=o.memoizedProps,C.state=o.memoizedState,C.componentWillUnmount()}catch(S){mc(o,k,S)}}break;case 5:Gu(o,o.return);break;case 22:if(null!==o.memoizedState){ls(n);continue}}null!==w?(w.return=o,Uu=w):ls(n)}x=x.sibling}}}switch(4102&a){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,is(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,is(t.alternate,t);break;case 4:is(t.alternate,t)}}catch(S){mc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Uu=n;break}Uu=t.return}}}(e,o),mo(Zo),Zo=null,e.current=o,us(o,e,r),Ye(),vs=s,bt=u,hs.transition=a}else e.current=o;if(Ps&&(Ps=!1,Ls=e,Fs=r),0===(a=e.pendingLanes)&&(zs=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(o.stateNode),Ws(e,Xe()),null!==t)for(n=e.onRecoverableError,o=0;o<t.length;o++)n(t[o]);if(Ms)throw Ms=!1,e=Ns,Ns=null,e;0!==(1&Fs)&&0!==e.tag&&dc(),0!==(1&(a=e.pendingLanes))?e===qs?Bs++:(Bs=0,qs=e):Bs=0,Ir()}(e,t,n)}finally{hs.transition=o,bt=n}return null}function dc(){if(null!==Ls){var e=yt(Fs),t=hs.transition,n=bt;try{if(hs.transition=null,bt=16>e?16:e,null===Ls)var o=!1;else{if(e=Ls,Ls=null,Fs=0,0!==(6&vs))throw Error(i(331));var r=vs;for(vs|=4,Uu=e.current;null!==Uu;){var a=Uu,u=a.child;if(0!==(16&Uu.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Uu=l;null!==Uu;){var d=Uu;switch(d.tag){case 0:case 11:case 15:Ku(8,d,a)}var f=d.child;if(null!==f)f.return=d,Uu=f;else for(;null!==Uu;){var m=(d=Uu).sibling,p=d.return;if(Qu(d),d===l){Uu=null;break}if(null!==m){m.return=p,Uu=m;break}Uu=p}}}var g=a.alternate;if(null!==g){var h=g.child;if(null!==h){g.child=null;do{var v=h.sibling;h.sibling=null,h=v}while(null!==h)}}Uu=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Uu=u;else e:for(;null!==Uu;){if(0!==(2048&(a=Uu).flags))switch(a.tag){case 0:case 11:case 15:Ku(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Uu=b;break e}Uu=a.return}}var y=e.current;for(Uu=y;null!==Uu;){var x=(u=Uu).child;if(0!==(2064&u.subtreeFlags)&&null!==x)x.return=u,Uu=x;else e:for(u=y;null!==Uu;){if(0!==(2048&(s=Uu).flags))try{switch(s.tag){case 0:case 11:case 15:Ju(9,s)}}catch(C){mc(s,s.return,C)}if(s===u){Uu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Uu=w;break e}Uu=s.return}}if(vs=r,Ir(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(C){}o=!0}return o}finally{bt=n,hs.transition=t}}return!1}function fc(e,t,n){oi(e,t=su(0,t=nu(n,t),1)),t=Vs(),null!==(e=Gs(e,1))&&(ht(e,1,t),Ws(e,t))}function mc(e,t,n){if(3===e.tag)fc(e,e,n);else for(;null!==t;){if(3===t.tag){fc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===zs||!zs.has(o))){oi(t,e=cu(t,e=nu(n,e),1)),e=Vs(),null!==(t=Gs(t,1))&&(ht(t,1,e),Ws(t,e));break}}t=t.return}}function pc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=Vs(),e.pingedLanes|=e.suspendedLanes&n,bs===e&&(xs&n)===n&&(4===ks||3===ks&&(130023424&xs)===xs&&500>Xe()-Rs?tc(e,0):_s|=n),Ws(e,t)}function gc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Vs();null!==(e=Gs(e,t))&&(ht(e,t,n),Ws(e,n))}function hc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gc(e,n)}function vc(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}null!==o&&o.delete(t),gc(e,n)}function bc(e,t){return $e(e,t)}function yc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xc(e,t,n,o){return new yc(e,t,n,o)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=xc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,o,r,a){var u=2;if(o=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Sc(n.children,r,a,t);case S:u=8,r|=8;break;case E:return(e=xc(12,n,t,2|r)).elementType=E,e.lanes=a,e;case A:return(e=xc(13,n,t,r)).elementType=A,e.lanes=a,e;case R:return(e=xc(19,n,t,r)).elementType=R,e.lanes=a,e;case N:return Ec(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:u=10;break e;case _:u=9;break e;case T:u=11;break e;case D:u=14;break e;case M:u=16,o=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=xc(u,n,t,r)).elementType=e,t.type=o,t.lanes=a,t}function Sc(e,t,n,o){return(e=xc(7,e,o,t)).lanes=n,e}function Ec(e,t,n,o){return(e=xc(22,e,o,t)).elementType=N,e.lanes=n,e.stateNode={},e}function Oc(e,t,n){return(e=xc(6,e,null,t)).lanes=n,e}function _c(e,t,n){return(t=xc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tc(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,o,r,i,a,u,s){return e=new Tc(e,t,n,u,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=xc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null},ei(i),e}function Rc(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}function Dc(e){if(!e)return Er;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Nr(e,n,t)}return t}function Mc(e,t,n,o,r,i,a,u,s){return(e=Ac(n,o,!0,e,0,i,0,u,s)).context=Dc(null),n=e.current,(i=ni(o=Vs(),r=js(n))).callback=void 0!==t&&null!==t?t:null,oi(n,i),e.current.lanes=r,ht(e,r,o),Ws(e,o),e}function Nc(e,t,n,o){var r=t.current,i=Vs(),a=js(r);return n=Dc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ni(i,a)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),oi(r,t),null!==(e=Us(r,a,i))&&ri(e,r,a),a}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Pc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_r.current)vu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vu=!1,function(e,t,n){switch(t.tag){case 3:_u(t),Bi();break;case 5:Zi(t);break;case 1:Rr(t.type)&&zr(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Sr(jr,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(Sr(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Du(e,t,n):(Sr(ta,1&ta.current),null!==(e=qu(e,t,n))?e.sibling:null);Sr(ta,1&ta.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Bu(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(ta,ta.current),o)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return qu(e,t,n)}(e,t,n);vu=0!==(131072&e.flags)}else vu=!1,Ri&&0!==(1048576&t.flags)&&Ei(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=Ar(t,Or.current);Yr(t,n),r=va(null,t,o,e,r,n);var a=ba();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(o)?(a=!0,zr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ei(t),r.updater=li,t.stateNode=r,r._reactInternals=t,pi(t,o,e,n),t=Ou(null,t,o,!0,a,n)):(t.tag=0,Ri&&a&&Oi(t),bu(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(o),e=Vr(o,e),r){case 0:t=Su(null,t,o,e,n);break e;case 1:t=Eu(null,t,o,e,n);break e;case 11:t=yu(null,t,o,e,n);break e;case 14:t=xu(null,t,o,Vr(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,Su(e,t,o,r=t.elementType===o?r:Vr(o,r),n);case 1:return o=t.type,r=t.pendingProps,Eu(e,t,o,r=t.elementType===o?r:Vr(o,r),n);case 3:e:{if(_u(t),null===e)throw Error(i(387));o=t.pendingProps,r=(a=t.memoizedState).element,ti(e,t),ai(t,o,null,n);var u=t.memoizedState;if(o=u.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Tu(e,t,o,n,r=Error(i(423)));break e}if(o!==r){t=Tu(e,t,o,n,r=Error(i(424)));break e}for(Ai=ur(t.stateNode.containerInfo.firstChild),Ti=t,Ri=!0,Di=null,n=Gi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Bi(),o===r){t=qu(e,t,n);break e}bu(e,t,o,n)}t=t.child}return t;case 5:return Zi(t),null===e&&Pi(t),o=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,u=r.children,er(o,r)?u=null:null!==a&&er(o,a)&&(t.flags|=32),ku(e,t),bu(e,t,u,n),t.child;case 6:return null===e&&Pi(t),null;case 13:return Du(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Ui(t,null,o,n):bu(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,yu(e,t,o,r=t.elementType===o?r:Vr(o,r),n);case 7:return bu(e,t,t.pendingProps,n),t.child;case 8:case 12:return bu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,a=t.memoizedProps,u=r.value,Sr(jr,o._currentValue),o._currentValue=u,null!==a)if(io(a.value,u)){if(a.children===r.children&&!_r.current){t=qu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===o){if(1===a.tag){(c=ni(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Jr(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(i(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Jr(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}bu(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Yr(t,n),o=o(r=Xr(r)),t.flags|=1,bu(e,t,o,n),t.child;case 14:return r=Vr(o=t.type,t.pendingProps),xu(e,t,o,r=Vr(o.type,r),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Vr(o,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Rr(o)?(e=!0,zr(t)):e=!1,Yr(t,n),fi(t,o,r),pi(t,o,r,n),Ou(null,t,o,!0,e,n);case 19:return Bu(e,t,n);case 22:return Cu(e,t,n)}throw Error(i(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Bc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Hc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vc(){}function jc(e,t,n,o,r){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof r){var u=r;r=function(){var e=zc(a);u.call(e)}}Nc(t,a,e,r)}else a=function(e,t,n,o,r){if(r){if("function"===typeof o){var i=o;o=function(){var e=zc(a);i.call(e)}}var a=Mc(t,o,e,0,null,!1,0,"",Vc);return e._reactRootContainer=a,e[fr]=a.current,Ho(8===e.nodeType?e.parentNode:e),Zs(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var u=o;o=function(){var e=zc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",Vc);return e._reactRootContainer=s,e[fr]=s.current,Ho(8===e.nodeType?e.parentNode:e),Zs((function(){Nc(t,s,n,o)})),s}(n,t,e,r,o);return zc(a)}qc.prototype.render=Bc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Nc(e,t,null,null)},qc.prototype.unmount=Bc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Nc(null,e,null,null)})),t[fr]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),Ws(t,Xe()),0===(6&vs)&&(Ds=Xe()+500,Ir()))}break;case 13:var o=Vs();Zs((function(){return Us(e,1,o)})),Lc(e,1)}},wt=function(e){13===e.tag&&(Us(e,134217728,Vs()),Lc(e,134217728))},Ct=function(e){if(13===e.tag){var t=Vs(),n=js(e);Us(e,n,t),Lc(e,n)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=yr(o);if(!r)throw Error(i(90));$(o),Q(o,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=Qs,Ae=Zs;var Uc={usingClientEntryPoint:!1,Events:[vr,br,yr,Oe,_e,Qs]},Gc={findFiberByHostInstance:hr,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{rt=$c.inject(Wc),it=$c}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ic(t))throw Error(i(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!Ic(e))throw Error(i(299));var n=!1,o="",r=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,o,r),e[fr]=t.current,Ho(8===e.nodeType?e.parentNode:e),new Bc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!Hc(t))throw Error(i(200));return jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ic(e))throw Error(i(405));var o=null!=n&&n.hydratedSources||null,r=!1,a="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Mc(t,null,e,1,null!=n?n:null,r,0,a,u),e[fr]=t.current,Ho(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new qc(t)},t.render=function(e,t,n){if(!Hc(t))throw Error(i(200));return jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(i(40));return!!e._reactRootContainer&&(Zs((function(){jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=Qs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Hc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return jc(e,t,n,!1,o)},t.version="18.0.0-fc46dba67-20220329"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var o=n(2791),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,i={},c=null,l=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,o)&&!s.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:l,props:i,_owner:u.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function v(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,o){var r,i={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=o;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:n,type:e,key:a,ref:u,props:i,_owner:k.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,i,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case o:s=!0}}if(s)return a=a(s=e),e=""===i?"."+T(s,0):i,w(a)?(r="",null!=e&&(r=e.replace(_,"$&/")+"/"),A(a,t,r,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(s=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var l=i+T(u=e[c],c);s+=A(u,t,r,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,r,l=i+T(u,c++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var o=[],r=0;return A(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},N={transition:null},z={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=y,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)C.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=o;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:n,type:e.type,key:i,ref:a,props:r,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<i(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,a=r>>>1;o<a;){var u=2*(o+1)-1,s=e[u],c=u+1,l=e[c];if(0>i(s,n))c<r&&0>i(l,s)?(e[o]=l,e[c]=n,o=c):(e[o]=s,e[u]=n,o=u);else{if(!(c<r&&0>i(l,n)))break e;e[o]=l,e[c]=n,o=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],d=1,f=null,m=3,p=!1,g=!1,h=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=o(l);null!==t;){if(null===t.callback)r(l);else{if(!(t.startTime<=e))break;r(l),t.sortIndex=t.expirationTime,n(c,t)}t=o(l)}}function w(e){if(h=!1,x(e),!g)if(null!==o(c))g=!0,N(C);else{var t=o(l);null!==t&&z(w,t.startTime-e)}}function C(e,n){g=!1,h&&(h=!1,b(O),O=-1),p=!0;var i=m;try{for(x(n),f=o(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var a=f.callback;if("function"===typeof a){f.callback=null,m=f.priorityLevel;var u=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?f.callback=u:f===o(c)&&r(c),x(n)}else r(c);f=o(c)}if(null!==f)var s=!0;else{var d=o(l);null!==d&&z(w,d.startTime-n),s=!1}return s}finally{f=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,O=-1,_=5,T=-1;function A(){return!(t.unstable_now()-T<_)}function R(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof y)k=function(){y(R)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=R,k=function(){M.postMessage(null)}}else k=function(){v(R,0)};function N(e){E=e,S||(S=!0,k())}function z(e,n){O=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(e.sortIndex=i,n(l,e),null===o(c)&&e===o(l)&&(h?(b(O),O=-1):h=!0,z(w,i-a))):(e.sortIndex=u,n(c,e),g||p||(g=!0,N(C))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1248:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},6202:function(e,t,n){n(1248)},2687:function(e,t,n){n(1648)},1648:function(e,t,n){var o=n(4575).default,r=n(3913).default;!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t,n){var o="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(o,!1,!1===n?null:{"list-style-type":n})},n=function(e){return function(t){return t.options.get(e)}},i=n("advlist_number_styles"),a=n("advlist_bullet_styles"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(){function e(t,n){o(this,e),this.tag=t,this.value=n}return r(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();s.singletonNone=new s(!1);var c=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},l=function(e,t){return function(n){var o=function(o){n.setActive(function(e,t,n){var o=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(t.parents,c),r=-1!==o?t.parents.slice(0,o):t.parents,i=u.grep(r,function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&function(e,t){return e.dom.isChildOf(t,e.getBody())}(e,t)}}(e));return i.length>0&&i[0].nodeName===n}(e,o,t))};return e.on("NodeChange",o),function(){return e.off("NodeChange",o)}}},d=function(e,n,o,r,i,a){e.ui.registry.addSplitButton(n,{tooltip:o,icon:"OL"===i?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(u.map(a,(function(e){var t="OL"===i?"num":"bull",n="disc"===e||"decimal"===e?"default":e,o="default"===e?"":e,r=function(e){return e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))}(e);return{type:"choiceitem",value:o,icon:"list-"+t+"-"+n,text:r}})))},onAction:function(){return e.execCommand(r)},onItemAction:function(n,o){t(e,i,o)},select:function(t){var n=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return s.from(n)}(e);return n.map((function(e){return t===e})).getOr(!1)},onSetup:l(e,i)})},f=function(e,t,n,o,r,i){i.length>1?d(e,t,n,o,r,i):function(e,t,n,o,r,i){e.ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===r?"ordered-list":"unordered-list",onSetup:l(e,r),onAction:function(){return e.execCommand(o)}})}(e,t,n,o,r)};e.add("advlist",(function(e){e.hasPlugin("lists")?(function(e){var t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})}(e),function(e){f(e,"numlist","Numbered list","InsertOrderedList","OL",i(e)),f(e,"bullist","Bullet list","InsertUnorderedList","UL",a(e))}(e),function(e){e.addCommand("ApplyUnorderedListStyle",(function(n,o){t(e,"UL",o["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(n,o){t(e,"OL",o["list-style-type"])}))}(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}()},1786:function(e,t,n){n(2594)},2594:function(){!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=(e="allow_html_in_named_anchor",function(t){return t.options.get(e)}),i="a:not([href])",a=function(e){return!e},u=function(e){return e.getAttribute("id")||e.getAttribute("name")||""},s=function(e){return function(e){return e&&"a"===e.nodeName.toLowerCase()}(e)&&!e.getAttribute("href")&&""!==u(e)},c=function(e){var t=e.dom;n(t).walk(e.selection.getRng(),(function(e){o.each(e,(function(e){var n;s(n=e)&&!n.firstChild&&t.remove(e,!1)}))}))},l=function(e){return e.dom.getParent(e.selection.getStart(),i)},d=function(e,t){var n=l(e);n?function(e,t,n){n.removeAttribute("name"),n.id=t,e.addVisual(),e.undoManager.add()}(e,t,n):function(e,t){e.undoManager.transact((function(){r(e)||e.selection.collapse(!0),e.selection.isCollapsed()?e.insertContent(e.dom.createHTML("a",{id:t})):(c(e),e.formatter.remove("namedAnchor",null,null,!0),e.formatter.apply("namedAnchor",{value:t}),e.addVisual())}))}(e,t),e.focus()},f=function(e){var t=function(e){var t=l(e);return t?u(t):""}(e);e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:t},onSubmit:function(t){(function(e,t){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(t)?(d(e,t),!0):(e.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)})(e,t.getData().id)&&t.close()}})},m=function(e){return function(e){return e&&a(e.attr("href"))&&!a(e.attr("id")||e.attr("name"))}(e)&&!e.firstChild},p=function(e){return function(t){for(var n=0;n<t.length;n++){var o=t[n];m(o)&&o.attr("contenteditable",e)}}};t.add("anchor",(function(e){!function(e){(0,e.options.register)("allow_html_in_named_anchor",{processor:"boolean",default:!1})}(e),function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("a",p("false")),e.serializer.addNodeFilter("a",p(null))}))}(e),function(e){e.addCommand("mceAnchor",(function(){f(e)}))}(e),function(e){e.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return e.execCommand("mceAnchor")},onSetup:function(t){return e.selection.selectorChangedWithUnbind("a:not([href])",t.setActive).unbind}}),e.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return e.execCommand("mceAnchor")}})}(e),e.on("PreInit",(function(){!function(e){e.formatter.register("namedAnchor",{inline:"a",selector:i,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(e,t,n){return s(e)}})}(e)}))}))}()},8291:function(e,t,n){n(1037)},1037:function(){!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return t.options.get(e)}},o=n("autolink_pattern"),r=n("link_default_target"),i=n("link_default_protocol"),a=(e="string",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}),u=function(e){return/^[(\[{ \u00a0]$/.test(e)},s=function(e){return 3===e.nodeType},c=function(e){return 1===e.nodeType},l=function(e,t){if(t<0&&(t=0),s(e)){var n=e.data.length;t>n&&(t=n)}return t},d=function(e,t,n){!c(t)||t.hasChildNodes()?e.setStart(t,l(t,n)):e.setStartBefore(t)},f=function(e,t,n){!c(t)||t.hasChildNodes()?e.setEnd(t,l(t,n)):e.setEndAfter(t)},m=function(e,t){var n,c,l,m,p,g,h,v=o(e),b=r(e);if(null===e.dom.getParent(e.selection.getNode(),"a[href]")){var y=e.selection.getRng().cloneRange();if(y.startOffset<5){if(!(p=y.endContainer.previousSibling)){if(!y.endContainer.firstChild||!y.endContainer.firstChild.nextSibling)return;p=y.endContainer.firstChild.nextSibling}if(g=p.length,d(y,p,g),f(y,p,g),y.endOffset<5)return;n=y.endOffset,c=p}else{if(c=y.endContainer,!s(c)&&c.firstChild){for(;!s(c)&&c.firstChild;)c=c.firstChild;s(c)&&(d(y,c,0),f(y,c,c.nodeValue.length))}n=1===y.endOffset?2:y.endOffset-1-t}var x,w=n;do{d(y,c,n>=2?n-2:0),f(y,c,n>=1?n-1:0),n-=1,h=y.toString()}while(!u(h)&&n-2>=0);u(y.toString())?(d(y,c,n),f(y,c,w),n+=1):0===y.startOffset?(d(y,c,0),f(y,c,w)):(d(y,c,n),f(y,c,w)),m=y.toString(),x=m.charAt(m.length-1),/[?!,.;:]/.test(x)&&f(y,c,w-1);var C=(m=y.toString().trim()).match(v),k=i(e);if(C){var S=C[0];(function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t})(S,"www.",0)?S=k+"://"+S:function(e,t){return-1!==e.indexOf(t)}(S,"@")&&!function(e){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e)}(S)&&(S="mailto:"+S),l=e.selection.getBookmark(),e.selection.setRng(y),e.getDoc().execCommand("createlink",!1,S),a(b)&&e.dom.setAttrib(e.selection.getNode(),"target",b),e.selection.moveToBookmark(l),e.nodeChanged()}}},p=function(e){e.on("keydown",(function(t){if(13===t.keyCode)return function(e){return m(e,-1)}(e)})),e.on("keypress",(function(t){if(41===t.keyCode||93===t.keyCode||125===t.keyCode)return function(e){return m(e,-1)}(e)})),e.on("keyup",(function(t){if(32===t.keyCode)return function(e){return m(e,0)}(e)}))};t.add("autolink",(function(e){!function(e){var t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})}(e),p(e)}))}()},6733:function(e,t,n){n(5959)},5959:function(e,t,n){var o=n(4575).default,r=n(3913).default;!function(){"use strict";var e,t,n,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(e,t){var n=function(e,t){return e.dispatch("insertCustomChar",{chr:t})}(e,t).chr;e.execCommand("mceInsertContent",!1,n)},u=(e="array",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}),s=(t=null,function(e){return t===e}),c=function(e){return function(t){return typeof t===e}}("function"),l=(n=!1,function(){return n}),d=function(){function e(t,n){o(this,e),this.tag=t,this.value=n}return r(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();d.singletonNone=new d(!1);var f=Array.prototype.push,m=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},p=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return d.some(i);if(n(i,o))break}return d.none()}(e,t,l)},g=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);f.apply(t,e[n])}return t}(m(e,t))},h=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(e){return function(t){return t.options.get(e)}},b=v("charmap"),y=v("charmap_append"),x=h.isArray,w="User Defined",C=function(e){return x(e)?(t=e,h.grep(t,(function(e){return x(e)&&2===e.length}))):"function"===typeof e?e():[];var t},k=function(e){var t=function(e,t){var n=b(e);n&&(t=[{name:w,characters:C(n)}]);var o=y(e);if(o){var r=h.grep(t,(function(e){return e.name===w}));return r.length?(r[0].characters=[].concat(r[0].characters).concat(C(o)),t):t.concat({name:w,characters:C(o)})}return t}(e,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return t.length>1?[{name:"All",characters:g(t,(function(e){return e.characters}))}].concat(t):t},S=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},E=function(e,t){return-1!==e.indexOf(t)},O=String.fromCodePoint,_=function(e,t){var n=[],o=t.toLowerCase();return function(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n],n)}(e.characters,(function(e){(function(e,t,n){return!!E(O(e).toLowerCase(),n)||E(t.toLowerCase(),n)||E(t.toLowerCase().replace(/\s+/g,""),n)})(e[0],e[1],o)&&n.push(e)})),m(n,(function(e){return{text:e[1],value:O(e[0]),icon:O(e[0])}}))},T="pattern",A=function(e,t){var n=function(){return[{label:"Search",type:"input",name:T},{type:"collection",name:"results"}]},o=1===t.length?S(w):S("All"),r=function(e,t){var n=null,o=function(){s(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o(),n=setTimeout((function(){n=null,e.apply(null,i)}),t)}}}((function(e){var n=e.getData().pattern;!function(e,n){p(t,(function(e){return e.name===o.get()})).each((function(t){var o=_(t,n);e.setData({results:o})}))}(e,n)}),40),i={title:"Special Character",size:"normal",body:1===t.length?{type:"panel",items:n()}:{type:"tabpanel",tabs:m(t,(function(e){return{title:e.name,name:e.name,items:n()}}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:_(t[0],"")},onAction:function(t,n){"results"===n.name&&(a(e,n.value),t.close())},onTabChange:function(e,t){o.set(t.newTabName),r.throttle(e)},onChange:function(e,t){t.name===T&&r.throttle(e)}};e.windowManager.open(i).focus(T)};i.add("charmap",(function(e){!function(e){var t=e.options.register,n=function(e){return c(e)||u(e)};t("charmap",{processor:n}),t("charmap_append",{processor:n})}(e);var t=k(e);return function(e,t){e.addCommand("mceShowCharmap",(function(){A(e,t)}))}(e,t),function(e){e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return e.execCommand("mceShowCharmap")}}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return e.execCommand("mceShowCharmap")}})}(e),function(e,t){e.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return new Promise((function(n,o){n(_(t,e))}))},onAction:function(t,n,o){e.selection.setRng(n),e.insertContent(o),t.hide()}})}(e,t[0]),function(e){return{getCharMap:function(){return k(e)},insertChar:function(t){a(e,t)}}}(e)}))}()},1108:function(e,t,n){n(2749)},2749:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(function(e){return function(e){e.addCommand("mceCodeEditor",(function(){!function(e){var t=function(e){return e.getContent({source_view:!0})}(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:function(t){!function(e,t){e.focus(),e.undoManager.transact((function(){e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()}(e,t.getData().code),t.close()}})}(e)}))}(e),function(e){var t=function(){return e.execCommand("mceCodeEditor")};e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})}(e),{}}))}()},288:function(e,t,n){n(7761)},7761:function(e,t,n){var o=n(1109).default,r=n(4575).default,i=n(3913).default;!function(){"use strict";var e,t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(e){return{isFullscreen:function(){return null!==e.get()}}},u=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},s=function(e){return function(t){return typeof t===e}},c=u("string"),l=u("array"),d=(e=null,function(t){return e===t}),f=s("boolean"),m=function(e){return!function(e){return null===e||void 0===e}(e)},p=s("function"),g=s("number"),h=function(){},v=function(e){return function(){return e}};function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=n.concat(o);return e.apply(null,i)}}var y=v(!1),x=v(!0),w=function(){function e(t,n){r(this,e),this.tag=t,this.value=n}return i(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return m(t)?e.some(t):e.none()}}]),e}();w.singletonNone=new w(!1);var C=function(e){var n=t(w.none()),o=function(){return n.get().each(e)};return{clear:function(){o(),n.set(w.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){o(),n.set(w.some(e))}}},k=function(){return C((function(e){return e.unbind()}))},S=Array.prototype.push,E=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},O=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},_=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},T=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return w.some(i);if(n(i,o))break}return w.none()}(e,t,y)},A=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t}(E(e,t))},R=function(e){return function(e,t){return t>=0&&t<e.length?w.some(e[t]):w.none()}(e,0)},D=Object.keys,M=function(e,t){return-1!==e.indexOf(t)},N=function(e){return void 0!==e.style&&p(e.style.getPropertyValue)},z=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},P={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return z(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return z(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return z(n)},fromDom:z,fromPoint:function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(z)}};"undefined"!==typeof window?window:Function("return this;")();var L,F=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},B=F(1),q=F(3),I=F(9),H=F(11),V=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},j=function(e){return P.fromDom(e.dom.ownerDocument)},U=function(e){return function(e){return w.from(e.dom.parentNode).map(P.fromDom)}(e).map(G).map((function(t){return _(t,(function(t){return n=t,!(e.dom===n.dom);var n}))})).getOr([])},G=function(e){return E(e.dom.childNodes,P.fromDom)},W=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),$=v(W),K=W?function(e){return P.fromDom(e.dom.getRootNode())}:function(e){return I(e)?e:j(e)},J=function(e){var t,n=K(e);return H(t=n)&&m(t.dom.host)?w.some(n):w.none()},Y=function(e){return P.fromDom(e.dom.host)},X=function(e){return m(e.dom.shadowRoot)},Q=function e(t){var n=q(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var o,r,i=n.ownerDocument;return J(P.fromDom(n)).fold((function(){return i.body.contains(n)}),(o=e,r=Y,function(e){return o(r(e))}))},Z=function(e,t,n){!function(e,t,n){if(!(c(n)||f(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},ee=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},te=function(e,t){e.dom.removeAttribute(t)},ne=function(e,t){var n=e.dom;!function(e,t){for(var n=D(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}}(t,(function(e,t){!function(e,t,n){if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);N(e)&&e.style.setProperty(t,n)}(n,t,e)}))},oe=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Q(e)?o:re(n,t)},re=function(e,t){return N(e)?e.style.getPropertyValue(t):""},ie=function(e){var t,n,o=P.fromDom(function(e){if($()&&m(e.target)){var t=P.fromDom(e.target);if(B(t)&&X(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return R(n)}}return w.from(e.target)}(e).getOr(e.target)),r=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},a=(t=i,n=r,function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t(n.apply(null,o))});return function(e,t,n,o,r,i,a){return{target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}}(o,e.clientX,e.clientY,r,i,a,e)},ae=function(e,t,n,o,r){var i=function(e,t){return function(n){e(n)&&t(ie(n))}}(n,o);return e.dom.addEventListener(t,i,r),{unbind:b(ue,e,t,i,r)}},ue=function(e,t,n,o){e.dom.removeEventListener(t,n,o)},se=x,ce=function(e,t,n){return function(e,t,n,o){return ae(e,t,n,o,!1)}(e,t,se,n)},le=function(){return de(0,0)},de=function(e,t){return{major:e,minor:t}},fe={nu:de,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?le():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.test(t))return o}}(e,t);if(!n)return{major:0,minor:0};var o=function(e){return Number(t.replace(n,"$"+e))};return de(o(1),o(2))}(e,n)},unknown:le},me=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return w.none()}(t.brands,(function(t){var n=t.brand.toLowerCase();return T(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:fe.nu(parseInt(t.version,10),0)}}))}))},pe=function(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))},ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,he=function(e){return function(t){return M(t,e)}},ve=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return M(e,"edge/")&&M(e,"chrome")&&M(e,"safari")&&M(e,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ge],search:function(e){return M(e,"chrome")&&!M(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return M(e,"msie")||M(e,"trident")}},{name:"Opera",versionRegexes:[ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:he("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:he("firefox")},{name:"Safari",versionRegexes:[ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(M(e,"safari")||M(e,"mobile/"))&&M(e,"applewebkit")}}],be=[{name:"Windows",search:he("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return M(e,"iphone")||M(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:he("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:he("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:he("linux"),versionRegexes:[]},{name:"Solaris",search:he("sunos"),versionRegexes:[]},{name:"FreeBSD",search:he("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:he("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ye={browsers:v(ve),oses:v(be)},xe="Edge",we="Chromium",Ce="Opera",ke="Firefox",Se="Safari",Ee=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:o(xe),isChromium:o(we),isIE:o("IE"),isOpera:o(Ce),isFirefox:o(ke),isSafari:o(Se)}},Oe={unknown:function(){return Ee({current:void 0,version:fe.unknown()})},nu:Ee,edge:v(xe),chromium:v(we),ie:v("IE"),opera:v(Ce),firefox:v(ke),safari:v(Se)},_e="Windows",Te="Android",Ae="Linux",Re="macOS",De="Solaris",Me="FreeBSD",Ne="ChromeOS",ze=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:o(_e),isiOS:o("iOS"),isAndroid:o(Te),isMacOS:o(Re),isLinux:o(Ae),isSolaris:o(De),isFreeBSD:o(Me),isChromeOS:o(Ne)}},Pe={unknown:function(){return ze({current:void 0,version:fe.unknown()})},nu:ze,windows:v(_e),ios:v("iOS"),android:v(Te),linux:v(Ae),macos:v(Re),solaris:v(De),freebsd:v(Me),chromeos:v(Ne)},Le=function(e,t,n){var o=ye.browsers(),r=ye.oses(),i=t.bind((function(e){return me(o,e)})).orThunk((function(){return function(e,t){return pe(e,t).map((function(e){var n=fe.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e)})).fold(Oe.unknown,Oe.nu),a=function(e,t){return pe(e,t).map((function(e){var n=fe.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e).fold(Pe.unknown,Pe.nu),u=function(e,t,n,o){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||o("(pointer:coarse)"),s=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!s&&!l;return{isiPad:v(r),isiPhone:v(i),isTablet:v(s),isPhone:v(c),isTouch:v(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(l),isDesktop:v(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:u}},Fe=function(e){return window.matchMedia(e).matches},Be=function(e){var t,n=!1;return function(){if(!n){n=!0;for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=e.apply(null,r)}return t}}((function(){return Le(navigator.userAgent,w.from(navigator.userAgentData),Fe)})),qe=function e(t,n){return{left:t,top:n,translate:function(o,r){return e(t+o,n+r)}}},Ie=function(e){var t=void 0===e?window:e;return Be().browser.isFirefox()?w.none():w.from(t.visualViewport)},He=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},Ve=function(e){var t=void 0===e?window:e,n=t.document,o=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return qe(n,o)}(P.fromDom(n));return Ie(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return He(o.left,o.top,n,r)}),(function(e){return He(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)}))},je=function(e,t,n){return Ie(n).map((function(n){var o=function(e){return t(ie(e))};return n.addEventListener(e,o),{unbind:function(){return n.removeEventListener(e,o)}}})).getOrThunk((function(){return{unbind:h}}))},Ue=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ge=tinymce.util.Tools.resolve("tinymce.Env"),We=function(e,t){e.dispatch("FullscreenStateChanged",{state:t})},$e=(L="fullscreen_native",function(e){return e.options.get(L)}),Ke=function(e){var t=P.fromDom(e.getElement());return J(t).map(Y).getOrThunk((function(){return function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return P.fromDom(t)}(j(t))}))},Je=function(e){return e.dom===(void 0!==(t=j(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Ye=function(e,t,n){return _(function(e,t){for(var n=p(t)?t:y,o=e.dom,r=[];null!==o.parentNode&&void 0!==o.parentNode;){var i=o.parentNode,a=P.fromDom(i);if(r.push(a),!0===n(a))break;o=i}return r}(e,n),t)},Xe=function(e){return function(e,t){var n,o=void 0===t?document:t.dom;return 1!==(n=o).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:E(o.querySelectorAll(e),P.fromDom)}(e)},Qe=function(e,t,n){return Ye(e,(function(e){return V(e,t)}),n)},Ze=function(e,t){return function(e,t){return _(U(e),t)}(e,(function(e){return V(e,t)}))},et="data-ephox-mobile-fullscreen-style",tt="position:absolute!important;",nt="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ot=Ge.os.isAndroid(),rt=function(e,t,n){var o=function(t){return function(n){var o=ee(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(Z(n,et,r),ne(n,e.parseStyle(t)))}},r=Qe(t,"*"),i=A(r,(function(e){return Ze(e,"*:not(.tox-silver-sink)")})),a=function(e){var t=oe(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"}(n);O(i,o("display:none!important;")),O(r,o(tt+nt+a)),o((!0===ot?"":tt)+nt+a)(t)},it=Ue.DOM,at=Ie().fold((function(){return{bind:h,unbind:h}}),(function(e){var t=function(){var e=C(h);return o(o({},e),{},{on:function(t){return e.get().each(t)}})}(),n=k(),r=k(),i=function(e,t){var n=null;return{cancel:function(){d(n)||(clearTimeout(n),n=null)},throttle:function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];d(n)&&(n=setTimeout((function(){n=null,e.apply(null,r)}),t))}}}((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){t.on((function(t){return ne(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}),50);return{bind:function(e){t.set(e),i.throttle(),n.set(je("resize",i.throttle)),r.set(je("scroll",i.throttle))},unbind:function(){t.on((function(){n.clear(),r.clear()})),t.clear()}}})),ut=function e(t,n){var o,r=document.body,i=document.documentElement,a=t.getContainer(),u=P.fromDom(a),s=Ke(t),c=n.get(),l=P.fromDom(t.getBody()),d=Ge.deviceType.isTouch(),f=a.style,m=t.iframeElement.style,p=function(e){e(r,"tox-fullscreen"),e(i,"tox-fullscreen"),e(a,"tox-fullscreen"),J(u).map((function(e){return Y(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},g=function(){d&&function(e){var t=Xe("["+et+"]");O(t,(function(t){var n=ee(t,et);"no-styles"!==n?ne(t,e.parseStyle(n)):te(t,"style"),te(t,et)}))}(t.dom),p(it.removeClass),at.unbind(),w.from(n.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(c)c.fullscreenChangeHandler.unbind(),$e(t)&&Je(s)&&function(e){var t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()}(j(s)),m.width=c.iframeWidth,m.height=c.iframeHeight,f.width=c.containerWidth,f.height=c.containerHeight,f.top=c.containerTop,f.left=c.containerLeft,g(),o=c.scrollPos,window.scrollTo(o.x,o.y),n.set(null),We(t,!1),t.off("remove",g);else{var h=ce(j(s),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(o){$e(t)&&(Je(s)||null===n.get()||e(t,n))})),v={scrollPos:Ve(window),containerWidth:f.width,containerHeight:f.height,containerTop:f.top,containerLeft:f.left,iframeWidth:m.width,iframeHeight:m.height,fullscreenChangeHandler:h};d&&rt(t.dom,u,l),m.width=m.height="100%",f.width=f.height="",p(it.addClass),at.bind(u),t.on("remove",g),n.set(v),$e(t)&&function(e){var t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()}(s),We(t,!0)}},st=function(e,t){return function(n){n.setActive(null!==t.get());var o=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",o),function(){return e.off("FullscreenStateChanged",o)}}};n.add("fullscreen",(function(e){var n=t(null);return e.inline||(function(e){(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})}(e),function(e,t){e.addCommand("mceFullScreen",(function(){ut(e,t)}))}(e,n),function(e,t){var n=function(){return e.execCommand("mceFullScreen")};e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:st(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:st(e,t)})}(e,n),e.addShortcut("Meta+Shift+F","","mceFullScreen")),a(n)}))}()},2655:function(e,t,n){n(4217)},4217:function(e,t,n){var o=n(9713).default,r=n(1109).default,i=n(4575).default,a=n(3913).default;!function(){"use strict";var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(e){return function(t){return t.options.get(e)}},s=u("help_tabs"),c=u("forced_plugins"),l=(e=void 0,function(t){return e===t}),d=(t=!1,function(){return t}),f=function(){function e(t,n){i(this,e),this.tag=t,this.value=n}return a(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();f.singletonNone=new f(!1);var m=Array.prototype.indexOf,p=function(e,t){return function(e,t){return m.call(e,t)}(e,t)>-1},g=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},h=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},v=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return f.some(i);if(n(i,o))break}return f.none()}(e,t,d)},b=Object.keys,y=Object.hasOwnProperty,x=function(e,t){return y.call(e,t)},w=tinymce.util.Tools.resolve("tinymce.Env"),C=function(e){var t=w.os.isMacOS()||w.os.isiOS(),n=t?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},o=e.split("+"),r=g(o,(function(e){var t=e.toLowerCase().trim();return x(n,t)?n[t]:e}));return t?r.join("").replace(/\s/,""):r.join("+")},k=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],S=function(){return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:g(k,(function(e){var t=g(e.shortcuts,C).join(" or ");return[e.action,t]}))}]}},E=tinymce.util.Tools.resolve("tinymce.util.I18n"),O=g([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"autocorrect",name:"Autocorrect",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Edit Image",type:"premium"},{key:"export",name:"Export",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"},{key:"tableofcontents",name:"Table of Contents",type:"premium"}],(function(e){return r(r({},e),{},{type:e.type||"opensource",slug:e.slug||e.key})})),_=function(e){var t=function(e){return'<a href="'.concat(e.url,'" target="_blank" rel="noopener">').concat(e.name,"</a>")},n=function(e){var n=function(e){var t=b(e.plugins),n=c(e);return l(n)?t:h(t,(function(e){return!p(n,e)}))}(e),o=g(n,(function(n){return"<li>"+function(e,n){return v(O,(function(e){return e.key===n})).fold((function(){var o=e.plugins[n].getMetadata;return"function"===typeof o?t(o()):n}),(function(e){var n="premium"===e.type?"".concat(e.name,"*"):e.name;return t({name:n,url:"https://www.tiny.cloud/docs/tinymce/6/".concat(e.slug,"/")})}))}(e,n)+"</li>"})),r=o.length,i=o.join("");return"<p><b>"+E.translate(["Plugins installed ({0}):",r])+"</b></p><ul>"+i+"</ul>"},o={type:"htmlpanel",presets:"document",html:[function(e){return null==e?"":'<div data-mce-tabstop="1" tabindex="-1">'+n(e)+"</div>"}(e),function(){var e=h(O,(function(e){var t=e.key,n=e.type;return"autocorrect"!==t&&"premium"===n})),t=g(e,(function(e){return"<li>"+E.translate(e.name)+"</li>"})).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+E.translate("Premium plugins:")+"</b></p><ul>"+t+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+E.translate("Learn more...")+"</a></li></ul></div>"}()].join("")};return{name:"plugins",title:"Plugins",items:[o]}},T=tinymce.util.Tools.resolve("tinymce.EditorManager"),A=function(e,t){var n,i=S(),a={name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:"<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n  <li>the editor resize handle in the footer</li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab\u2019s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>"}]},u=_(e),c=function(){var e,t,n='<a href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+(e=T.majorVersion,t=T.minorVersion,(0===e.indexOf("@")?"X.X.X":e+"."+t)+"</a>");return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+E.translate(["You are using {0}",n])+"</p>",presets:"document"}]}}(),l=r((o(n={},i.name,i),o(n,a.name,a),o(n,u.name,u),o(n,c.name,c),n),t.get());return f.from(s(e)).fold((function(){return function(e){var t=b(e),n=t.indexOf("versions");return-1!==n&&(t.splice(n,1),t.push("versions")),{tabs:e,names:t}}(l)}),(function(e){return function(e,t){var n={},o=g(e,(function(e){return"string"===typeof e?(x(t,e)&&(n[e]=t[e]),e):(n[e.name]=e,e.name)}));return{tabs:n,names:o}}(e,l)}))},R=function(e,t){return function(){var n=A(e,t),o=n.tabs,r=n.names,i={type:"tabpanel",tabs:function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t}(g(r,(function(e){return x(t=o,n=e)?f.from(t[n]):f.none();var t,n})))};e.windowManager.open({title:"Help",size:"medium",body:i,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};n.add("help",(function(e){var t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}({}),n=function(e){return{addTab:function(t){var n=e.get();n[t.name]=t,e.set(n)}}}(t);!function(e){(0,e.options.register)("help_tabs",{processor:"array"})}(e);var o=R(e,t);return function(e,t){e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})}(e,o),function(e,t){e.addCommand("mceHelp",t)}(e,o),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),n}))}()},1182:function(e,t,n){n(6349)},6349:function(e,t,n){var o=n(1109).default,r=n(4575).default,i=n(3913).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=Object.getPrototypeOf,a=function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},u=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&a(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},s=function(e){return function(t){return typeof t===e}},c=u("string"),l=u("object"),d=function(e){return function(e,t){return l(e)&&a(e,t,(function(e,t){return n(e)===t}))}(e,Object)},f=u("array"),m=(e=null,function(t){return e===t}),p=s("boolean"),g=function(e){return!function(e){return null===e||void 0===e}(e)},h=s("function"),v=s("number"),b=function(){},y=function(){function e(t,n){r(this,e),this.tag=t,this.value=n}return i(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return g(t)?e.some(t):e.none()}}]),e}();y.singletonNone=new y(!1);var x=Object.keys,w=Object.hasOwnProperty,C=function(e,t,n,o){return function(e,t){for(var n=x(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}}(e,(function(e,r){(t(e,r)?n:o)(e,r)})),{}},k=function(e,t){return w.call(e,t)},S=Array.prototype.push,E=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!f(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t},O=function(e){return function(e,t){return t>=0&&t<e.length?y.some(e[t]):y.none()}(e,0)};"undefined"!==typeof window?window:Function("return this;")();var _,T=function(e,t,n){!function(e,t,n){if(!(c(n)||p(n)||v(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},A=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},R={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return A(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return A(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return A(n)},fromDom:A,fromPoint:function(e,t,n){return y.from(e.dom.elementFromPoint(t,n)).map(A)}},D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),M=tinymce.util.Tools.resolve("tinymce.util.URI"),N=function(e){return e.length>0},z=function(e){return function(t){return t.options.get(e)}},P=function(e){var t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:function(e){var t=!1===e||c(e)||function(e,t){if(f(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1}(e,l)||h(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},L=z("image_dimensions"),F=z("image_advtab"),B=z("image_uploadtab"),q=z("image_prepend_url"),I=z("image_class_list"),H=z("image_description"),V=z("image_title"),j=z("image_caption"),U=z("image_list"),G=z("a11y_advanced_options"),W=z("automatic_uploads"),$=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},K=function(e){return e&&(e=e.replace(/px$/,"")),e},J=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},Y=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},X=function(e,t){var n=e.options.get;return M.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},Q=D.DOM,Z=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?K(e.style.marginLeft):""},ee=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?K(e.style.marginTop):""},te=function(e){return e.style.borderWidth?K(e.style.borderWidth):""},ne=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},oe=function(e,t){return e.style[t]?e.style[t]:""},re=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},ie=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},ae=function(e){re(e)?function(e){var t=e.parentNode;Q.insertAfter(e,t),Q.remove(t)}(e):function(e){var t=Q.create("figure",{class:"image"});Q.insertAfter(t,e),t.appendChild(e),t.appendChild(Q.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"}(e)},ue=function(e,t){var n=e.getAttribute("style"),o=t(null!==n?n:"");o.length>0?(e.setAttribute("style",o),e.setAttribute("data-mce-style",o)):e.removeAttribute("style")},se=function(e,t){return function(e,n,o){e.style[n]?(e.style[n]=J(o),ue(e,t)):ie(e,n,o)}},ce=function(e,t){return e.style[t]?K(e.style[t]):ne(e,t)},le=function(e,t){var n=J(t);e.style.marginLeft=n,e.style.marginRight=n},de=function(e,t){var n=J(t);e.style.marginTop=n,e.style.marginBottom=n},fe=function(e,t){var n=J(t);e.style.borderWidth=n},me=function(e,t){e.style.borderStyle=t},pe=function(e){return"FIGURE"===e.nodeName},ge=function(e){return 0===Q.getAttrib(e,"alt").length&&"presentation"===Q.getAttrib(e,"role")},he=function(e){return ge(e)?"":ne(e,"alt")},ve=function(e,t){var n=document.createElement("img");return ie(n,"style",t.style),(Z(n)||""!==t.hspace)&&le(n,t.hspace),(ee(n)||""!==t.vspace)&&de(n,t.vspace),(te(n)||""!==t.border)&&fe(n,t.border),(function(e){return oe(e,"borderStyle")}(n)||""!==t.borderStyle)&&me(n,t.borderStyle),e(n.getAttribute("style"))},be=function(e,t){return{src:ne(t,"src"),alt:he(t),title:ne(t,"title"),width:ce(t,"width"),height:ce(t,"height"),class:ne(t,"class"),style:e(ne(t,"style")),caption:re(t),hspace:Z(t),vspace:ee(t),border:te(t),borderStyle:oe(t,"borderStyle"),isDecorative:ge(t)}},ye=function(e,t,n,o,r){n[o]!==t[o]&&r(e,o,n[o])},xe=function(e,t,n){if(n){Q.setAttrib(e,"role","presentation");var o=R.fromDom(e);T(o,"alt","")}else{if(m(t)){var r=R.fromDom(e);a="alt",r.dom.removeAttribute(a)}else{var i=R.fromDom(e);T(i,"alt",t)}"presentation"===Q.getAttrib(e,"role")&&Q.setAttrib(e,"role","")}var a},we=function(e,t){return function(n,o,r){e(n,r),ue(n,t)}},Ce=function(e,t,n){var o=be(e,n);ye(n,o,t,"caption",(function(e,t,n){return ae(e)})),ye(n,o,t,"src",ie),ye(n,o,t,"title",ie),ye(n,o,t,"width",se(0,e)),ye(n,o,t,"height",se(0,e)),ye(n,o,t,"class",ie),ye(n,o,t,"style",we((function(e,t){return ie(e,"style",t)}),e)),ye(n,o,t,"hspace",we(le,e)),ye(n,o,t,"vspace",we(de,e)),ye(n,o,t,"border",we(fe,e)),ye(n,o,t,"borderStyle",we(me,e)),function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||xe(e,n.alt,n.isDecorative)}(n,o,t)},ke=function(e,t){var n=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}(e.dom.styles.parse(t)),o=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(o)},Se=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||Y(t))?null:t},Ee=function(e,t){var n=e.dom,o=function(e,t){var n,o={};return C(e,t,(n=o,function(e,t){n[t]=e}),b),o}(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")})),r=n.getParent(t.parentNode,(function(e){return t=o,n=e.nodeName,k(t,n)&&void 0!==t[n]&&null!==t[n];var t,n}),e.getBody());return r?n.split(r,t):t},Oe=function(e,t){var n=function(e,t){var n=document.createElement("img");if(Ce(e,o(o({},t),{},{caption:!1}),n),xe(n,t.alt,t.isDecorative),t.caption){var r=Q.create("figure",{class:"image"});return r.appendChild(n),r.appendChild(Q.create("figcaption",{contentEditable:"true"},"Caption")),r.contentEditable="false",r}return n}((function(t){return ke(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),pe(r)){var i=Ee(e,r);e.selection.select(i)}else e.selection.select(r)},_e=function(e,t){var n=Se(e);if(Ce((function(t){return ke(e,t)}),t,n),function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))}(e,n),pe(n.parentNode)){var o=n.parentNode;Ee(e,o),e.selection.select(n.parentNode)}else e.selection.select(n),function(e,t,n){var o=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!L(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),o()},n.onerror=o}(e,t,n)},Te=function(e,t){var n=Se(e);if(n){var r=be((function(t){return ke(e,t)}),n),i=o(o({},r),t),a=function(e,t){var n=t.src;return o(o({},t),{},{src:X(e,n)?n:""})}(e,i);i.src?_e(e,a):function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}(e,n)}else t.src&&Oe(e,o(o({},{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),t))},Ae=(_=function(e,t){return d(e)&&d(t)?Ae(e,t):t},function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var o in n)k(n,o)&&(e[o]=_(e[o],n[o]))}return e}),Re=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),De=tinymce.util.Tools.resolve("tinymce.util.Tools"),Me=function(e){return c(e.value)?e.value:""},Ne=function e(t,n){var o=[];return De.each(t,(function(t){var r=function(e){return c(e.text)?e.text:c(e.title)?e.title:""}(t);if(void 0!==t.menu){var i=e(t.menu,n);o.push({text:r,items:i})}else{var a=n(t);o.push({text:r,value:a})}})),o},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;return function(t){return t?y.from(t).map((function(t){return Ne(t,e)})):y.none()}},Pe=function e(t,n){return function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return y.none()}(t,(function(t){return function(e){return k(e,"items")}(t)?e(t.items,n):t.value===n?y.some(t):y.none()}))},Le=ze,Fe=function(e){return ze(Me)(e)},Be=function(e,t){return e.bind((function(e){return Pe(e,t)}))},qe=function(e){return{title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ie=function(e){var t=Le((function(t){return e.convertURL(t.value||t.url,"src")})),n=new Promise((function(n){!function(e,t){var n=U(e);c(n)?fetch(n).then((function(e){e.ok&&e.json().then(t)})):h(n)?n(t):t(n)}(e,(function(e){n(t(e).map((function(e){return E([[{text:"None",value:""}],e])})))}))})),o=Fe(I(e)),r=F(e),i=B(e),a=function(e){return N(e.options.get("images_upload_url"))}(e),u=function(e){return g(e.options.get("images_upload_handler"))}(e),s=function(e){var t=Se(e);return t?be((function(t){return ke(e,t)}),t):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(e),l=H(e),d=V(e),f=L(e),m=j(e),p=G(e),v=W(e),b=y.some(q(e)).filter((function(e){return c(e)&&e.length>0}));return n.then((function(e){return{image:s,imageList:e,classList:o,hasAdvTab:r,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:l,hasImageTitle:d,hasDimensions:f,hasImageCaption:m,prependURL:b,hasAccessibilityOptions:p,automaticUploads:v}}))},He=function(e){var t,n=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),r={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},i=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));return E([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[r]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[o(o({},(t=e.classList.isSome()&&e.hasImageCaption,t?{type:"grid",columns:2}:{type:"panel"})),{},{items:E([i.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])})]])},Ve=function(e){return{title:"General",name:"general",items:He(e)}},je=He,Ue=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Ge=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},We=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},$e=function(e,t){var n=t.getData();(function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?y.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?y.some(e+t):y.none()}))})(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Ke=function(e,t){var n=t.getData(),o=n.src.meta;if(void 0!==o){var r=Ae({},n);!function(e,t,n){e.hasDescription&&c(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&c(n.title)&&(t.title=n.title),e.hasDimensions&&(c(n.width)&&(t.dimensions.width=n.width),c(n.height)&&(t.dimensions.height=n.height)),c(n.class)&&Be(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&p(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(c(n.style)&&(t.style=n.style),c(n.vspace)&&(t.vspace=n.vspace),c(n.border)&&(t.border=n.border),c(n.hspace)&&(t.hspace=n.hspace),c(n.borderstyle)&&(t.borderstyle=n.borderstyle))}(e,r,o),t.setData(r)}},Je=function(e,t,n,o){$e(t,o),Ke(t,o),function(e,t,n,o){var r=o.getData(),i=r.src.value,a=r.src.meta||{};a.width||a.height||!t.hasDimensions||(N(i)?e.imageSize(i).then((function(e){n.open&&o.setData({dimensions:e})})).catch((function(e){return console.error(e)})):o.setData({dimensions:{width:"",height:""}}))}(e,t,n,o),function(e,t,n){var o=n.getData(),r=Be(e.imageList,o.src.value);t.prevImage=r,n.setData({images:r.map((function(e){return e.value})).getOr("")})}(t,n,o)},Ye=function(e,t,n,o){var r=o.getData();o.block("Uploading image"),O(r.fileinput).fold((function(){o.unblock()}),(function(r){var i,a=URL.createObjectURL(r),u=function(){o.unblock(),URL.revokeObjectURL(a)},s=function(r){o.setData({src:{value:r,meta:{}}}),o.showTab("general"),Je(e,t,n,o)};(i=r,new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(i)}))).then((function(n){var i=e.createBlobCache(r,a,n);t.automaticUploads?e.uploadImage(i).then((function(e){s(e.url),u()})).catch((function(t){u(),e.alertErr(t)})):(e.addToBlobCache(i),s(i.blobUri()),o.unblock())}))}))},Xe=function(e,t,n){return function(o,r){"src"===r.name?Je(e,t,n,o):"images"===r.name?function(e,t,n,o){var r=o.getData(),i=Be(t.imageList,r.images);i.each((function(e){var t=""===r.alt||n.prevImage.map((function(e){return e.text===r.alt})).getOr(!1);t?""===e.value?o.setData({src:e,alt:n.prevAlt}):o.setData({src:e,alt:e.text}):o.setData({src:e})})),n.prevImage=i,Je(e,t,n,o)}(e,t,n,o):"alt"===r.name?n.prevAlt=o.getData().alt:"fileinput"===r.name?Ye(e,t,n,o):"isDecorative"===r.name&&o.setEnabled("alt",!o.getData().isDecorative)}},Qe=function(e){return function(){e.open=!1}},Ze=function(e){return e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:"tabpanel",tabs:E([[Ve(e)],e.hasAdvTab?[qe(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Ue(e)]:[]])}:{type:"panel",items:je(e)}},et=function(e,t,n){return function(r){var i=Ae(Ge(t.image),r.getData()),a=o(o({},i),{},{style:ve(n.normalizeCss,We(i,!1))});e.execCommand("mceUpdateImage",!1,We(a,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),r.close()}},tt=function(e){return function(t){return X(e,t)?function(e){return new Promise((function(t){var n=document.createElement("img"),o=function(e){n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e={width:$(n.width,n.clientWidth),height:$(n.height,n.clientHeight)};o(Promise.resolve(e))},n.onerror=function(){o(Promise.reject("Failed to get image dimensions for: ".concat(e)))};var r=n.style;r.visibility="hidden",r.position="fixed",r.bottom=r.left="0px",r.width=r.height="auto",document.body.appendChild(n),n.src=e}))}(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}})):Promise.resolve({width:"",height:""})}},nt=function(e){return function(t,n,o){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:o.split(",")[1]})}},ot=function(e){return function(t){e.editorUpload.blobCache.add(t)}},rt=function(e){return function(t){e.windowManager.alert(t)}},it=function(e){return function(t){return ke(e,t)}},at=function(e){return function(t){return e.dom.parseStyle(t)}},ut=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},st=function(e){return function(t){return Re(e).upload([t],!1).then((function(e){return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(e[0].error.message):e[0]}))}},ct=function(e){var t={imageSize:tt(e),addToBlobCache:ot(e),createBlobCache:nt(e),alertErr:rt(e),normalizeCss:it(e),parseStyle:at(e),serializeStyle:ut(e),uploadImage:st(e)};return{open:function(){Ie(e).then((function(n){var o=function(e){return{prevImage:Be(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}}(n);return{title:"Insert/Edit Image",size:"normal",body:Ze(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge(n.image),onSubmit:et(e,n,t),onChange:Xe(t,n,o),onClose:Qe(o)}})).then(e.windowManager.open)}}},lt=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},dt=function(e){return function(t){for(var n=t.length,o=function(t){t.attr("contenteditable",e?"true":null)};n--;){var r=t[n];lt(r)&&(r.attr("contenteditable",e?"false":null),De.each(r.getAll("figcaption"),o))}}};t.add("image",(function(e){P(e),function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",dt(!0)),e.serializer.addNodeFilter("figure",dt(!1))}))}(e),function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ct(e).open,onSetup:function(t){return t.setActive(g(Se(e))),e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ct(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return pe(e)||"IMG"===e.nodeName&&!Y(e)?["image"]:[]}})}(e),function(e){e.addCommand("mceImage",ct(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return Te(e,n)}))}))}(e)}))}()},5672:function(e,t,n){n(7349)},7349:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return t.options.get(e)}},n=t("insertdatetime_dateformat"),o=t("insertdatetime_timeformat"),r=t("insertdatetime_formats"),i=t("insertdatetime_element"),a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),l=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",l(n.getMonth()+1,2))).replace("%d",l(n.getDate(),2))).replace("%H",""+l(n.getHours(),2))).replace("%M",""+l(n.getMinutes(),2))).replace("%S",""+l(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(c[n.getMonth()]))).replace("%b",""+e.translate(s[n.getMonth()]))).replace("%A",""+e.translate(u[n.getDay()]))).replace("%a",""+e.translate(a[n.getDay()]))).replace("%%","%")},f=function(e,t){if(i(e)){var n,o=d(e,t);n=/%[HMSIp]/.test(t)?d(e,"%Y-%m-%dT%H:%M"):d(e,"%Y-%m-%d");var r=e.dom.getParent(e.selection.getStart(),"time");r?function(e,t,n,o){var r=e.dom.create("time",{datetime:n},o);t.parentNode.insertBefore(r,t),e.dom.remove(t),e.selection.select(r,!0),e.selection.collapse(!1)}(e,r,n,o):e.insertContent('<time datetime="'+n+'">'+o+"</time>")}else e.insertContent(d(e,t))},m=tinymce.util.Tools.resolve("tinymce.util.Tools"),p=function(e){var t=r(e),n=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}(function(e){var t=r(e);return t.length>0?t[0]:o(e)}(e)),i=function(t){return e.execCommand("mceInsertDate",!1,t)};e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===n.get()},fetch:function(n){n(m.map(t,(function(t){return{type:"choiceitem",text:d(e,t),value:t}})))},onAction:function(e){i(n.get())},onItemAction:function(e,t){n.set(t),i(t)}});var a=function(e){return function(){n.set(e),i(e)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return m.map(t,(function(t){return{type:"menuitem",text:d(e,t),onAction:a(t)}}))}})};e.add("insertdatetime",(function(e){!function(e){var t=e.options.register;t("insertdatetime_dateformat",{processor:"string",default:e.translate("%Y-%m-%d")}),t("insertdatetime_timeformat",{processor:"string",default:e.translate("%H:%M:%S")}),t("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),t("insertdatetime_element",{processor:"boolean",default:!1})}(e),function(e){e.addCommand("mceInsertDate",(function(t,o){f(e,null!==o&&void 0!==o?o:n(e))})),e.addCommand("mceInsertTime",(function(t,n){f(e,null!==n&&void 0!==n?n:o(e))}))}(e),p(e)}))}()},594:function(e,t,n){n(6148)},6148:function(e,t,n){var o=n(1109).default,r=n(4575).default,i=n(3913).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),a=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},u=function(e){return function(t){return typeof t===e}},s=a("string"),c=a("object"),l=a("array"),d=(e=null,function(t){return e===t}),f=u("boolean"),m=u("function"),p=function(e,t){if(l(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},g=function(){},h=function(e,t){return e===t},v=function(){function e(t,n){r(this,e),this.tag=t,this.value=n}return i(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();v.singletonNone=new v(!1);var b=Array.prototype.indexOf,y=Array.prototype.push,x=function(e,t){return function(e,t){return b.call(e,t)}(e,t)>-1},w=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t},C=function(e,t){return w(function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o}(e,t))},k=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return v.none()},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return e.exists((function(e){return n(e,t)}))},E=function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t},O=function(e,t){return e?v.some(t):v.none()},_=function(e){return function(t){return t.options.get(e)}},T=_("link_assume_external_targets"),A=_("link_context_toolbar"),R=_("link_list"),D=_("link_default_target"),M=_("link_default_protocol"),N=_("link_target_list"),z=_("link_rel_list"),P=_("link_class_list"),L=_("link_title"),F=_("allow_unsafe_link_target"),B=_("link_quicklink"),q=tinymce.util.Tools.resolve("tinymce.util.Tools"),I=function(e){return s(e.value)?e.value:""},H=function e(t,n){var o=[];return q.each(t,(function(t){var r=function(e){return s(e.text)?e.text:s(e.title)?e.title:""}(t);if(void 0!==t.menu){var i=e(t.menu,n);o.push({text:r,items:i})}else{var a=n(t);o.push({text:r,value:a})}})),o},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return function(t){return v.from(t).map((function(t){return H(t,e)}))}},j={sanitize:function(e){return V(I)(e)},sanitizeWith:V,createUi:function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}},getValue:I},U=Object.keys,G=Object.hasOwnProperty,W=function(e,t,n,o){return function(e,t){for(var n=U(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}}(e,(function(e,r){(t(e,r)?n:o)(e,r)})),{}},$=function(e,t){return G.call(e,t)},K=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),J=tinymce.util.Tools.resolve("tinymce.util.URI"),Y=function(e){return e&&"a"===e.nodeName.toLowerCase()},X=function(e){return Y(e)&&!!ee(e)},Q=function(e,t){if(e.collapsed)return[];var n=e.cloneContents(),o=new K(n.firstChild,n),r=[],i=n.firstChild;do{t(i)&&r.push(i)}while(i=o.next());return r},Z=function(e){return/^\w+:/i.test(e)},ee=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},te=function(e,t){var n=["noopener"],o=e?e.split(/\s+/):[],r=function(e){return e.filter((function(e){return-1===q.inArray(n,e)}))},i=t?function(e){return(e=r(e)).length>0?e.concat(n):n}(o):r(o);return i.length>0?function(e){return q.trim(e.sort().join(" "))}(i):""},ne=function(e,t){return t=t||e.selection.getNode(),ae(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},oe=function(e,t){return function(e){return e.replace(/\uFEFF/g,"")}(t?t.innerText||t.textContent:e.getContent({format:"text"}))},re=function(e){return q.grep(e,X).length>0},ie=function(e){var t=e.schema.getTextInlineElements();return 0===Q(e.selection.getRng(),(function(e){return 1===e.nodeType&&!Y(e)&&!$(t,e.nodeName.toLowerCase())})).length},ae=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},ue=function(e,t){var n=o({},t);if(0===z(e).length&&!F(e)){var r=te(n.rel,"_blank"===n.target);n.rel=r||null}return v.from(n.target).isNone()&&!1===N(e)&&(n.target=D(e)),n.href=function(e,t){return"http"!==t&&"https"!==t||Z(e)?e:t+"://"+e}(n.href,T(e)),n},se=function(e,t,n){var o=e.selection.getNode(),r=ne(e,o),i=ue(e,function(e){var t,n,o;return t=["title","rel","class","target"],n=function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t},o={href:e.href},function(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n],n)}(t,(function(e,t){o=n(o,e,t)})),o}(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),r?(e.focus(),function(e,t,n,o){n.each((function(e){$(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,o),e.selection.select(t)}(e,r,n.text,i)):function(e,t,n,o){ae(t)?me(e,t,o):n.fold((function(){e.execCommand("mceInsertLink",!1,o)}),(function(t){e.insertContent(e.dom.createHTML("a",o,e.dom.encode(t)))}))}(e,o,n.text,i)}))},ce=function(e){var t=e.class,n=e.href,o=e.rel,r=e.target,i=e.text,a=e.title;return function(e,t){var n,o={};return W(e,t,(n=o,function(e,t){n[t]=e}),g),o}({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:r.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===d(e)}))},le=function(e,t,n){var r=function(e,t){var n=e.options.get,r={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},i=t.href;return o(o({},t),{},{href:J.isDomSafe(i,"a",r)?i:""})}(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ce(r)):se(e,t,r)},de=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):function(e){e.undoManager.transact((function(){var t=e.selection.getNode();ae(t)?fe(e,t):function(e){var t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),i=t.getParent(r.startContainer,"a[href]",e.getBody()),a=t.getParent(r.endContainer,"a[href]",e.getBody());i&&r.setStartBefore(i),a&&r.setEndAfter(a),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(o)}(e),e.focus()}))}(e)},fe=function(e,t){var n=e.dom.select("img",t)[0];if(n){var o=e.dom.getParents(n,"a[href]",t)[0];o&&(o.parentNode.insertBefore(n,o),e.dom.remove(o))}},me=function(e,t,n){var o=e.dom.select("img",t)[0];if(o){var r=e.dom.create("a",n);o.parentNode.insertBefore(r,o),r.appendChild(o)}},pe=function(e){return $(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n},ge=function e(t,n){return k(n,(function(n){return pe(n)?e(t,n.items):O(n.value===t,n)}))},he=function(e,t,n,o){var r=o[t],i=e.length>0;return void 0!==r?ge(r,n).map((function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:g}},text:i?e:t.text}})):v.none()},ve=function(e,t){var n={text:e.text,title:e.title},r=function(e){var t,r=(t=e.url,O(n.text.length<=0,v.from(t.meta.text).getOr(t.value))),i=function(e){return O(n.title.length<=0,v.from(e.meta.title).getOr(""))}(e.url);return r.isSome()||i.isSome()?v.some(o(o({},r.map((function(e){return{text:e}})).getOr({})),i.map((function(e){return{title:e}})).getOr({}))):v.none()},i=function(e,o){var r,i,a=(r=t,i=o.name,"link"===i?r.link:"anchor"===i?r.anchor:v.none()).getOr([]);return he(n.text,o.name,a,e)};return{onChange:function(e,t){var o=t.name;return"url"===o?r(e()):x(["anchor","link"],o)?i(e(),t):"text"===o||"title"===o?(n[o]=e()[o],v.none()):v.none()}}},be=tinymce.util.Tools.resolve("tinymce.util.Delay"),ye=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?v.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return o(o({},e),{},{href:"mailto:"+t})}}):v.none()},xe=function(e,t){return function(n){var r=n.href;return 1===e&&!Z(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r)?v.some({message:"The URL you entered seems to be an external link. Do you want to add the required ".concat(t,":// prefix?"),preprocess:function(e){return o(o({},e),{},{href:t+"://"+r})}}):v.none()}},we=function(e,t){return k([ye,xe(T(e),M(e))],(function(e){return e(t)})).fold((function(){return Promise.resolve(t)}),(function(n){return new Promise((function(o){!function(e,t,n){var o=e.selection.getRng();be.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(o),n(t)}))}))}(e,n.message,(function(e){o(e?n.preprocess(t):t)}))}))}))},Ce=function(e){var t=e.dom.select("a:not([href])"),n=C(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?v.some([{text:"None",value:""}].concat(n)):v.none()},ke=function(e){var t=P(e);return t.length>0?j.sanitize(t):v.none()},Se=function(e){try{return v.some(JSON.parse(e))}catch(t){return v.none()}},Ee=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=R(e);return new Promise((function(e){s(n)?fetch(n).then((function(e){return e.ok?e.text().then(Se):Promise.reject()})).then(e,(function(){return e(v.none())})):m(n)?n((function(t){return e(v.some(t))})):e(v.from(n))})).then((function(e){return e.bind(j.sanitizeWith(t)).map((function(e){if(e.length>0){return[{text:"None",value:""}].concat(e)}return e}))}))},Oe=function(e,t){var n=z(e);if(n.length>0){var o=S(t,"_blank");return(!1===F(e)?j.sanitizeWith((function(e){return te(j.getValue(e),o)})):j.sanitize)(n)}return v.none()},_e=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Te=function(e){var t=N(e);return l(t)?j.sanitize(t).orThunk((function(){return v.some(_e)})):!1===t?v.none():v.some(_e)},Ae=function(e,t,n){var o=e.getAttrib(t,n);return null!==o&&o.length>0?v.some(o):v.none()},Re=function(e,t){return Ee(e).then((function(n){var o=function(e,t){var n=e.dom,o=ie(e)?v.some(oe(e.selection,t)):v.none(),r=t?v.some(n.getAttrib(t,"href")):v.none(),i=t?v.from(n.getAttrib(t,"target")):v.none(),a=Ae(n,t,"rel"),u=Ae(n,t,"class");return{url:r,text:o,title:Ae(n,t,"title"),target:i,rel:a,linkClass:u}}(e,t);return{anchor:o,catalogs:{targets:Te(e),rels:Oe(e,o.target),classes:ke(e),anchor:Ce(e),link:n},optNode:v.from(t),flags:{titleEnabled:L(e)}}}))},De=function(e){var t=function(e){var t=ne(e);return Re(e,t)}(e);t.then((function(t){var n=function(e,t){return function(n){var o=n.getData();if(!o.url.value)return de(e),void n.close();var r=function(e){return v.from(o[e]).filter((function(n){return!S(t.anchor[e],n)}))},i={href:o.url.value,text:r("text"),target:r("target"),rel:r("rel"),class:r("linkClass"),title:r("title")},a={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:g};we(e,i).then((function(t){le(e,a,t)})),n.close()}}(e,t);return function(e,t,n){var o=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(e,t){var n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}}(e,v.from(D(n))),a=e.catalogs,u=ve(i,a);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:w([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o,r,E([a.anchor.map(j.createUi("anchor","Anchors")),a.rels.map(j.createUi("rel","Rel")),a.targets.map(j.createUi("target","Open link in...")),a.link.map(j.createUi("link","Link list")),a.classes.map(j.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(e,t){var n=t.name;u.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}}(t,n,e)})).then((function(t){e.windowManager.open(t)}))},Me=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)},Ne=function(e,t){return e.dom.getParent(t,"a[href]")},ze=function(e){return Ne(e,e.selection.getStart())},Pe=function(e,t){if(t){var n=ee(t);if(/^#/.test(n)){var o=e.dom.select(n);o.length&&e.selection.scrollIntoView(o[0],!0)}else Me(t.href)}},Le=function(e){return function(){De(e)}},Fe=function(e){return function(){Pe(e,ze(e))}},Be=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},qe=function(e){return function(t){var n=function(){return t.setActive(!e.mode.isReadOnly()&&null!==ne(e,e.selection.getNode()))};return n(),Be(e,n)}},Ie=function(e){return function(t){var n=function(){return t.setEnabled(null!==ne(e,e.selection.getNode()))};return n(),Be(e,n)}},He=function(e){return function(t){var n=function(t){return re(t)||(n=e.selection.getRng(),Q(n,X).length>0);var n},o=e.dom.getParents(e.selection.getStart());return t.setEnabled(n(o)),Be(e,(function(e){return t.setEnabled(n(e.parents))}))}},Ve=function(e){var t=function(t){var n=e.selection.getNode();return t.setEnabled(null!==ne(e,n)),g};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:qe(e)},label:"Link",predicate:function(t){return!!ne(e,t)&&A(e)},initValue:function(){var t=ne(e);return t?ee(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ne(e,n)),qe(e)(t)},onAction:function(t){var n=t.getValue(),o=function(t){var n=ne(e),o=ie(e);if(!n&&o){var r=oe(e.selection,n);return v.some(r.length>0?r:t)}return v.none()}(n);le(e,{href:n,attach:g},{href:n,text:o,title:v.none(),rel:v.none(),target:v.none(),class:v.none()}),function(e){e.selection.collapse(!1)}(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:t,onAction:function(t){de(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:t,onAction:function(t){Fe(e)(),t.hide()}}]})};t.add("link",(function(e){!function(e){var t=e.options.register;t("link_assume_external_targets",{processor:function(e){var t=s(e)||f(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:function(e){return s(e)||m(e)||p(e,c)}}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:function(e){return f(e)||p(e,c)},default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})}(e),function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Le(e),onSetup:qe(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Fe(e),onSetup:Ie(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return de(e)},onSetup:He(e)})}(e),function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Fe(e),onSetup:Ie(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Le(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return de(e)},onSetup:He(e)})}(e),function(e){e.ui.registry.addContextMenu("link",{update:function(t){return re(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})}(e),Ve(e),function(e){e.on("click",(function(t){var o=Ne(e,t.target);o&&n.metaKeyPressed(t)&&(t.preventDefault(),Pe(e,o))})),e.on("keydown",(function(t){var n=ze(e);n&&13===t.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(t)&&(t.preventDefault(),Pe(e,n))}))}(e),function(e){e.addCommand("mceLink",(function(){B(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Le(e)()}))}(e),function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))}(e)}))}()},7711:function(e,t,n){n(3628)},3628:function(e,t,n){var o=n(319).default,r=n(1109).default,i=n(4575).default,a=n(3913).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},u=function(e){return function(t){return typeof t===e}},s=n("string"),c=n("object"),l=n("array"),d=u("boolean"),f=u("function"),m=u("number"),p=function(){},g=function(e,t){return e===t},h=function(e){return function(t){return!e(t)}},v=(e=!1,function(){return e}),b=function(){function e(t,n){i(this,e),this.tag=t,this.value=n}return a(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();b.singletonNone=new b(!1);var y=Array.prototype.slice,x=Array.prototype.indexOf,w=Array.prototype.push,C=function(e,t){return n=e,o=t,x.call(n,o)>-1;var n,o},k=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},S=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},E=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},O=function(e,t,n){return S(e,(function(e,o){n=t(n,e,o)})),n},_=function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return b.some(i);if(n(i,o))break}return b.none()},T=function(e,t){return _(e,t,v)},A=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(k(e,t))},R=function(e){var t=y.call(e,0);return t.reverse(),t},D=function(e,t){return t>=0&&t<e.length?b.some(e[t]):b.none()},M=function(e){return D(e,0)},N=function(e){return D(e,e.length-1)},z=function(e,t){for(var n=[],o=f(t)?function(e){return function(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1}(n,(function(n){return t(n,e)}))}:function(e){return C(n,e)},r=0,i=e.length;r<i;r++){var a=e[r];o(a)||n.push(a)}return n},P=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},L={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return P(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return P(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return P(n)},fromDom:P,fromPoint:function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(P)}},F=function(e,t){return e.dom===t.dom},B=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")};"undefined"!==typeof window?window:Function("return this;")();var q,I,H=function(e){return e.dom.nodeName.toLowerCase()},V=(q=1,function(e){return function(e){return e.dom.nodeType}(e)===q}),j=function(e){return function(t){return V(t)&&H(t)===e}},U=function(e){return b.from(e.dom.parentNode).map(L.fromDom)},G=function(e){return k(e.dom.childNodes,L.fromDom)},W=function(e,t){var n=e.dom.childNodes;return b.from(n[t]).map(L.fromDom)},$=function(e){return W(e,0)},K=function(e){return W(e,e.dom.childNodes.length-1)},J=function(e,t){U(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Y=function(e,t){var n=function(e){return b.from(e.dom.nextSibling).map(L.fromDom)}(e);n.fold((function(){U(e).each((function(e){X(e,t)}))}),(function(e){J(e,t)}))},X=function(e,t){e.dom.appendChild(t.dom)},Q=function(e,t){S(t,(function(t){X(e,t)}))},Z=function(e){e.dom.textContent="",S(G(e),(function(e){ee(e)}))},ee=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},te=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),oe=tinymce.util.Tools.resolve("tinymce.util.VK"),re=Object.keys,ie=function(e,t){for(var n=re(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},ae=function(e,t){var n,o={};return function(e,t,n,o){ie(e,(function(e,r){(t(e,r)?n:o)(e,r)}))}(e,t,(n=o,function(e,t){n[t]=e}),p),o},ue=function(e,t){var n=e.dom;ie(t,(function(e,t){!function(e,t,n){if(!(s(n)||d(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)}))},se=function(e){return O(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},ce=function(e){return function(e,t){return L.fromDom(e.dom.cloneNode(t))}(e,!0)},le=function(e,t){var n=function(e,t){var n=L.fromTag(t),o=se(e);return ue(n,o),n}(e,t);Y(e,n);var o=G(e);return Q(n,o),ee(e),n},de=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),me=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},pe=function(e){return function(t){return t&&e.test(t.nodeName)}},ge=function(e){return e&&3===e.nodeType},he=pe(/^(OL|UL|DL)$/),ve=pe(/^(OL|UL)$/),be=me("ol"),ye=pe(/^(LI|DT|DD)$/),xe=pe(/^(DT|DD)$/),we=pe(/^(TH|TD)$/),Ce=me("br"),ke=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Se=function(e,t){return e&&e.nodeName in t},Ee=function(e,t,n){var o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Oe=function(e,t){return e.isChildOf(t,e.getRoot())},_e=function(e){return function(t){return t.options.get(e)}},Te=_e("lists_indent_on_tab"),Ae=_e("forced_root_block"),Re=_e("forced_root_block_attrs"),De=function(e,t){var n,o,r,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),s=Ae(e),c=Re(e);for(o=i.create(s,c),Se(t.firstChild,a)||u.appendChild(o);n=t.firstChild;){var l=n.nodeName;r||"SPAN"===l&&"bookmark"===n.getAttribute("data-mce-type")||(r=!0),Se(n,a)?(u.appendChild(n),o=null):(o||(o=i.create(s,c),u.appendChild(o)),o.appendChild(n))}return r||o.appendChild(i.create("br",{"data-mce-bogus":"1"})),u},Me=de.DOM,Ne=j("dd"),ze=j("dt"),Pe=function(e,t){Ne(t)?le(t,"dt"):ze(t)&&U(t).each((function(n){return function(e,t,n){var o=Me.select('span[data-mce-type="bookmark"]',t),r=De(e,n),i=Me.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var a,u=i.extractContents(),s=u.firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){Me.remove(s);break}e.dom.isEmpty(u)||Me.insertAfter(u,t),Me.insertAfter(r,t),Ee(e.dom,n.parentNode)&&(a=n.parentNode,fe.each(o,(function(e){a.parentNode.insertBefore(e,n.parentNode)})),Me.remove(a)),Me.remove(n),Ee(e.dom,t)&&Me.remove(t)}(e,n.dom,t.dom)}))},Le=function(e){ze(e)&&le(e,"dd")},Fe=function(e,t){if(ge(e))return{container:e,offset:t};var n=te.getNode(e,t);return ge(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&ge(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&ge(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Be=function(e){var t=e.cloneRange(),n=Fe(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var o=Fe(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},qe=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",Ve(e,n))},Ie=function(e){var t=qe(e),n=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(t,n)?function(e){return E(e.querySelectorAll("ol,ul,dl"),he)}(t):E(n,(function(e){return he(e)&&t!==e}))},He=function(e){var t=e.selection.getSelectedBlocks();return E(function(e,t){var n=fe.map(t,(function(t){return e.dom.getParent(t,"li,dd,dt",Ve(e,t))||t}));return z(n)}(e,t),ye)},Ve=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},je=function(e,t){var n=e.dom.getParents(t,"ol,ul",Ve(e,t));return N(n)},Ue=function(e){var t=function(e){var t=je(e,e.selection.getStart()),n=E(e.selection.getSelectedBlocks(),ve);return t.toArray().concat(n)}(e);return Ge(e,t)},Ge=function(e,t){var n=k(t,(function(t){return je(e,t).getOr(t)}));return z(n)},We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return e.exists((function(e){return n(e,t)}))},$e=function(e,t,n){return e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none()},Ke=function(e,t,n){return e.dispatch("ListMutation",{action:t,element:n})},Je=(I=/^\s+|\s+$/g,function(e){return e.replace(I,"")}),Ye=function(e,t,n){if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(function(e){return void 0!==e.style&&f(e.style.getPropertyValue)})(e)&&e.style.setProperty(t,n)},Xe=function(e,t,n){var o=e.dom;Ye(o,t,n)},Qe=function(e,t){X(e.item,t.list)},Ze=function(e,t){var n={list:L.fromTag(t,e),item:L.fromTag("li",e)};return X(n.list,n.item),n},et=function(e,t,n){var o=t.slice(0,n.depth);return N(o).each((function(t){var o=function(e,t,n){var o=L.fromTag("li",e);return ue(o,t),Q(o,n),o}(e,n.itemAttributes,n.content);!function(e,t){X(e.list,t),e.item=t}(t,o),function(e,t){H(e.list)!==t.listType&&(e.list=le(e.list,t.listType)),ue(e.list,t.listAttributes)}(t,n)})),o},tt=function(e,t,n){var o,r=function(e,t,n){for(var o=[],r=0;r<n;r++)o.push(Ze(e,t.listType));return o}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)Qe(e[t-1],e[t])}(r),function(e,t){for(var n=0;n<e.length-1;n++)Xe(e[n].item,"list-style-type","none");N(e).each((function(e){ue(e.list,t.listAttributes),ue(e.item,t.itemAttributes),Q(e.item,t.content)}))}(r,n),o=r,$e(N(t),M(o),Qe),t.concat(r)},nt=function(e){return B(e,"OL,UL")},ot=function(e){return $(e).exists(nt)},rt=function(e){return e.depth>0},it=function(e){return e.isSelected},at=function(e){var t=G(e),n=K(e).exists(nt)?t.slice(0,-1):t;return k(n,ce)},ut=function(e){return S(e,(function(t,n){(function(e,t){var n=e[t].depth,o=function(e){return e.depth===n&&!e.dirty},r=function(e){return e.depth<n};return _(R(e.slice(0,t)),o,r).orThunk((function(){return _(e.slice(t+1),o,r)}))})(e,n).fold((function(){t.dirty&&function(e){e.listAttributes=ae(e.listAttributes,(function(e,t){return"start"!==t}))}(t)}),(function(e){return o=e,(n=t).listType=o.listType,void(n.listAttributes=r({},o.listAttributes));var n,o}))})),e},st=function(e,t,n,o){return $(o).filter(nt).fold((function(){t.each((function(e){F(e.start,o)&&n.set(!0)}));var r=function(e,t,n){return U(e).filter(V).map((function(o){return{depth:t,dirty:!1,isSelected:n,content:at(e),itemAttributes:se(e),listAttributes:se(o),listType:H(o)}}))}(o,e,n.get());t.each((function(e){F(e.end,o)&&n.set(!1)}));var i=K(o).filter(nt).map((function(o){return ct(e,t,n,o)})).getOr([]);return r.toArray().concat(i)}),(function(o){return ct(e,t,n,o)}))},ct=function e(t,n,o,r){return A(G(r),(function(r){return(nt(r)?e:st)(t+1,n,o,r)}))},lt=function(e,t){var n=ut(t);return k(n,(function(t){var n=function(e,t){var n=(t||document).createDocumentFragment();return S(e,(function(e){n.appendChild(e.dom)})),L.fromDom(n)}(t.content);return L.fromDom(De(e,n.dom))}))},dt=function(e,t){var n=ut(t);return function(e,t){var n=O(t,(function(t,n){return n.depth>t.length?tt(e,t,n):et(e,t,n)}),[]);return M(n).map((function(e){return e.list}))}(e.contentDocument,n).toArray()},ft=function(e,t,n){var o=function(e,t){var n=function(e){var t=!1;return{get:function(){return t},set:function(e){t=e}}}();return k(e,(function(e){return{sourceList:e,entries:ct(0,t,n,e)}}))}(t,function(e){var t=k(He(e),L.fromDom);return $e(T(t,h(ot)),T(R(t),h(ot)),(function(e,t){return{start:e,end:t}}))}(e));S(o,(function(t){!function(e,t){S(E(e,it),(function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}(t,e)}))}(t.entries,n);var o,r=function(e,t){return A(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),o=[],r=[],i=0,a=e.length;i<a;i++){var u=e[i],s=t(u);s!==n&&(o.push(r),r=[]),n=s,r.push(u)}return 0!==r.length&&o.push(r),o}(t,rt),(function(t){return M(t).exists(rt)?dt(e,t):lt(e,t)}))}(e,t.entries);S(r,(function(t){Ke(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),o=t.sourceList,S(r,(function(e){J(o,e)})),ee(t.sourceList)}))},mt=function(e,t){var n=k(Ue(e),L.fromDom),o=k(function(e){return E(He(e),xe)}(e),L.fromDom),r=!1;if(n.length||o.length){var i=e.selection.getBookmark();ft(e,n,t),function(e,t,n){S(n,"Indent"===t?Le:function(t){return Pe(e,t)})}(e,t,o),e.selection.moveToBookmark(i),e.selection.setRng(Be(e.selection.getRng())),e.nodeChanged(),r=!0}return r},pt=function(e){return mt(e,"Indent")},gt=function(e){return mt(e,"Outdent")},ht=function(e){return mt(e,"Flatten")},vt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),bt=de.DOM,yt=function(e){var t={},n=function(n){var o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(1===o.nodeType){var i=bt.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(i,o.childNodes[r]):bt.insertAfter(i,o.childNodes[r])):o.appendChild(i),o=i,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},xt=function(e){var t=function(t){var n,o=n=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"];o&&(1===o.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(o),o=o.parentNode,bt.remove(n),!o.hasChildNodes()&&bt.isBlock(o)&&o.appendChild(bt.create("br"))),e[t?"startContainer":"endContainer"]=o,e[t?"startOffset":"endOffset"]=r)};t(!0),t();var n=bt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Be(n)},wt=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ct=function(e){return/\btox\-/.test(e.className)},kt=function(e,t,n){var o=function(e){var o=_(e.parents,he,we).filter((function(e){return e.nodeName===t&&!Ct(e)})).isSome();n(o)},r=e.dom.getParents(e.selection.getNode());return o({parents:r}),e.on("NodeChange",o),function(){return e.off("NodeChange",o)}},St=function(e,t){fe.each(t,(function(t,n){e.setAttribute(n,t)}))},Et=function(e,t,n){!function(e,t,n){var o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)}(e,t,n),function(e,t,n){St(t,n["list-attributes"]),fe.each(e.select("li",t),(function(e){St(e,n["list-item-attributes"])}))}(e,t,n)},Ot=function(e,t,n,o){var r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===r.nodeType&&(r=r.childNodes[Math.min(i,r.childNodes.length-1)]||r),!n&&Ce(r.nextSibling)&&(r=r.nextSibling);r.parentNode!==o;){if(ke(e,r))return r;if(/^(TD|TH)$/.test(r.parentNode.nodeName))return r;r=r.parentNode}return r},_t=function(e,t,n){var o=e.selection.getRng(),r="LI",i=Ve(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){"DL"===(t=t.toUpperCase())&&(r="DT");var u=yt(o),s=function(e,t,n){for(var o,r=[],i=e.dom,a=Ot(e,t,!0,n),u=Ot(e,t,!1,n),s=[],c=a;c&&(s.push(c),c!==u);c=c.nextSibling);return fe.each(s,(function(t){if(ke(e,t))return r.push(t),void(o=null);if(i.isBlock(t)||Ce(t))return Ce(t)&&i.remove(t),void(o=null);var a=t.nextSibling;vt.isBookmarkNode(t)&&(he(a)||ke(e,a)||!a&&t.parentNode===n)?o=null:(o||(o=i.create("p"),t.parentNode.insertBefore(o,t),r.push(o)),o.appendChild(t))})),r}(e,o,i);fe.each(s,(function(o){var i,u=o.previousSibling,s=o.parentNode;ye(s)||(u&&he(u)&&u.nodeName===t&&function(e,t,n){var o=e.getStyle(t,"list-style-type"),r=n?n["list-style-type"]:"";return o===(null===r?"":r)}(a,u,n)?(i=u,o=a.rename(o,r),u.appendChild(o)):(i=a.create(t),o.parentNode.insertBefore(i,o),i.appendChild(o),o=a.rename(o,r)),function(e,t,n){fe.each(n,(function(n){return e.setStyle(t,n,"")}))}(a,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Et(a,i,n),At(e.dom,i))})),e.selection.setRng(xt(u))}},Tt=function(e,t,n){return function(e,t){return e&&t&&he(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&(o=n,t.className===o.className);var o},At=function(e,t){var n,o;if(n=t.nextSibling,Tt(e,t,n)){for(;o=n.firstChild;)t.appendChild(o);e.remove(n)}if(n=t.previousSibling,Tt(e,t,n)){for(;o=n.lastChild;)t.insertBefore(o,t.firstChild);e.remove(n)}},Rt=function(e,t,n,r,i){var a=he(t);if(a&&t.nodeName===r&&!Dt(i))ht(e);else{_t(e,r,i);var u=yt(e.selection.getRng()),s=a?[t].concat(o(n)):n;fe.each(s,(function(t){!function(e,t,n,o){if(t.nodeName!==n){var r=e.dom.rename(t,n);Et(e.dom,r,o),Ke(e,wt(n),r)}else Et(e.dom,t,o),Ke(e,wt(n),t)}(e,t,r,i)})),e.selection.setRng(xt(u))}},Dt=function(e){return"list-style-type"in e},Mt=function(e,t,n){var o=qe(e),r=Ie(e),i=c(n)?n:{};r.length>0?Rt(e,o,r,t,i):function(e,t,n,o){if(t!==e.getBody())if(t)if(t.nodeName!==n||Dt(o)||Ct(t)){var r=yt(e.selection.getRng());Et(e.dom,t,o);var i=e.dom.rename(t,n);At(e.dom,i),e.selection.setRng(xt(r)),_t(e,n,o),Ke(e,wt(n),i)}else ht(e);else _t(e,n,o),Ke(e,wt(n),t)}(e,o,t,i)},Nt=de.DOM,zt=function(e,t){var n=fe.grep(e.select("ol,ul",t));fe.each(n,(function(t){!function(e,t){var n=t.parentNode;if("LI"===n.nodeName&&n.firstChild===t){var o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ee(e,n)&&Nt.remove(n)):Nt.setStyle(n,"listStyleType","none")}if(he(n)){var r=n.previousSibling;r&&"LI"===r.nodeName&&r.appendChild(t)}}(e,t)}))},Pt=function(e,t,n,o){var r=t.startContainer,i=t.startOffset;if(ge(r)&&(n?i<r.data.length:i>0))return r;var a=e.schema.getNonEmptyElements();1===r.nodeType&&(r=te.getNode(r,i));var u=new ne(r,o);for(n&&function(e,t){return!!Ce(t)&&e.isBlock(t.nextSibling)&&!Ce(t.previousSibling)}(e.dom,r)&&u.next();r=u[n?"next":"prev2"]();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(a[r.nodeName])return r;if(ge(r)&&r.data.length>0)return r}},Lt=function(e,t){var n=t.childNodes;return 1===n.length&&!he(n[0])&&e.isBlock(n[0])},Ft=function(e,t,n){var o,r=Lt(e,n)?n.firstChild:n;if(function(e,t){Lt(e,t)&&e.remove(t.firstChild,!0)}(e,t),!Ee(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},Bt=function(e,t,n){var o,r=t.parentNode;if(Oe(e,t)&&Oe(e,n)){he(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&Ce(r.previousSibling)&&e.remove(r.previousSibling);var i=n.lastChild;i&&Ce(i)&&t.hasChildNodes()&&e.remove(i),Ee(e,n,!0)&&Z(L.fromDom(n)),Ft(e,t,n),o&&n.appendChild(o);var a=function(e,t){var n=e.dom,o=t.dom;return n!==o&&n.contains(o)}(L.fromDom(n),L.fromDom(t))?e.getParents(t,he,n):[];e.remove(t),S(a,(function(t){Ee(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},qt=function(e,t,n,o){var r=e.dom;if(r.isEmpty(o))!function(e,t,n){Z(L.fromDom(n)),Bt(e.dom,t,n),e.selection.setCursorLocation(n,0)}(e,n,o);else{var i=yt(t);Bt(r,n,o),e.selection.setRng(xt(i))}},It=function(e,t){var n=e.dom,o=e.selection,r=o.getStart(),i=Ve(e,r),a=n.getParent(o.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&Ee(n,u))return!0;var s=Be(o.getRng()),c=n.getParent(Pt(e,s,t,i),"LI",i);if(c&&c!==a)return e.undoManager.transact((function(){var n;t?qt(e,s,c,a):(n=a).parentNode.firstChild===n?gt(e):function(e,t,n,o){var r=yt(t);Bt(e.dom,n,o);var i=xt(r);e.selection.setRng(i)}(e,s,a,c)})),!0;if(!c&&!t&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact((function(){ht(e)})),!0}return!1},Ht=function(e,t){return It(e,t)||function(e,t){var n=e.dom,o=e.selection.getStart(),r=Ve(e,o),i=n.getParent(o,n.isBlock,r);if(i&&n.isEmpty(i)){var a=Be(e.selection.getRng()),u=n.getParent(Pt(e,a,t,r),"LI",r);if(u)return e.undoManager.transact((function(){!function(e,t,n){var o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)}(n,i,r),At(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)})),!0}return!1}(e,t)},Vt=function(e,t){return e.selection.isCollapsed()?Ht(e,t):function(e){var t=e.selection.getStart(),n=Ve(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||He(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),zt(e.dom,e.getBody())})),!0)}(e)},jt=function(e){var t=R(Je(e).split("")),n=k(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return O(n,(function(e,t){return e+t}),0)},Ut=function e(t){if(--t<0)return"";var n=t%26;return e(Math.floor(t/26))+String.fromCharCode("A".charCodeAt(0)+n)},Gt=function(e){var t=parseInt(e.start,10);return We(e.listStyleType,"upper-alpha")?Ut(t):We(e.listStyleType,"lower-alpha")?Ut(t).toLowerCase():e.start},Wt=function(e){var t=qe(e);be(t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Gt({start:e.dom.getAttrib(t,"start","1"),listStyleType:b.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){(function(e){switch(function(e){return/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:function(e){return/^[a-z]+$/.test(e)}(e)?1:e.length>0?4:3}(e)){case 2:return b.some({listStyleType:b.none(),start:e});case 0:return b.some({listStyleType:b.some("upper-alpha"),start:jt(e).toString()});case 1:return b.some({listStyleType:b.some("lower-alpha"),start:jt(e).toString()});case 3:return b.some({listStyleType:b.none(),start:""});case 4:return b.none()}})(t.getData().start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},$t=function(e,t){return function(){var n=qe(e);return n&&n.nodeName===t}},Kt=function(e){e.addCommand("mceListProps",(function(){Wt(e)}))},Jt=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?pt(e):"outdent"===n&&gt(e)})),e.addCommand("InsertUnorderedList",(function(t,n){Mt(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){Mt(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){Mt(e,"DL",n)})),e.addCommand("RemoveList",(function(){ht(e)})),Kt(e),e.addCommand("mceListUpdate",(function(t,n){c(n)&&function(e,t){var n=qe(e);e.undoManager.transact((function(){c(t.styles)&&e.dom.setStyles(n,t.styles),c(t.attrs)&&ie(t.attrs,(function(t,o){return e.dom.setAttrib(n,o,t)}))}))}(e,n)})),e.addQueryStateHandler("InsertUnorderedList",$t(e,"UL")),e.addQueryStateHandler("InsertOrderedList",$t(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",$t(e,"DL"))},Yt=function(e){Te(e)&&function(e){e.on("keydown",(function(t){t.keyCode!==oe.TAB||oe.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?gt(e):pt(e))&&t.preventDefault()}))}))}(e),function(e){e.on("keydown",(function(t){t.keyCode===oe.BACKSPACE?Vt(e,!1)&&t.preventDefault():t.keyCode===oe.DELETE&&Vt(e,!0)&&t.preventDefault()}))}(e)};t.add("lists",(function(e){return function(e){(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})}(e),!1===e.hasPlugin("rtc",!0)?(Yt(e),Jt(e)):Kt(e),function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return kt(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return kt(e,"UL",t.setActive)}}))}(e),function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return kt(e,"OL",t.setEnabled)}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=qe(e,t);return be(n)?["listprops"]:[]}})}(e),function(e){return{backspaceDelete:function(t){Vt(e,t)}}}(e)}))}()},4954:function(e,t,n){n(5545)},5545:function(e,t,n){var o=n(9713).default,r=n(1109).default,i=n(4575).default,a=n(3913).default;!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},n=t("string"),u=t("object"),s=t("array"),c=function(e){return!function(e){return null===e||void 0===e}(e)},l=function(){function e(t,n){i(this,e),this.tag=t,this.value=n}return a(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return c(t)?e.some(t):e.none()}}]),e}();l.singletonNone=new l(!1);var d=Array.prototype.push,f=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},m=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);d.apply(t,e[n])}return t},p=Object.keys,g=Object.hasOwnProperty,h=function(e,t){return v(e,t)?l.from(e[t]):l.none()},v=function(e,t){return g.call(e,t)},b=function(e){return function(t){return t.options.get(e)}},y=b("audio_template_callback"),x=b("video_template_callback"),w=b("media_live_embeds"),C=b("media_filter_html"),k=b("media_url_resolver"),S=b("media_alt_source"),E=b("media_poster"),O=b("media_dimensions"),_=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser"),R=T.DOM,D=function(e){return e.replace(/px$/,"")},M=function(e){var t=e.attr("style"),n=t?R.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:h(n,"max-width").map(D).getOr(""),height:h(n,"max-height").map(D).getOr("")}},N=function(e,t){for(var n={},o=A({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){var r=o.name;if(o.attr("data-ephox-embed-iri")){n=M(o);break}n.source||"param"!==r||(n.source=o.attr("movie")),"iframe"!==r&&"object"!==r&&"embed"!==r&&"video"!==r&&"audio"!==r||(n.type||(n.type=r),n=_.extend(o.attributes.map,n)),"script"===r&&(n={type:"script",source:o.attr("src")}),"source"===r&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==r||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||n.data,n.altsource=n.altsource||"",n.poster=n.poster||"",n},z=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""},P=tinymce.util.Tools.resolve("tinymce.html.Node"),L=tinymce.util.Tools.resolve("tinymce.html.Serializer"),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(r({forced_root_block:!1,validate:!1,allow_conditional_comments:!0},t),e)},B=T.DOM,q=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},I=function(e,t){var n=t.attr("style"),o=n?B.parseStyle(n):{};o["max-width"]=q(e.width),o["max-height"]=q(e.height),t.attr("style",B.serializeStyle(o))},H=["source","altsource"],V=function(e,t,n,o){var r=0,i=0,a=F(o);a.addNodeFilter("source",(function(e){return r=e.length}));for(var u=a.parse(e),s=u;s;s=s.walk())if(1===s.type){var c=s.name;if(s.attr("data-ephox-embed-iri")){I(t,s);break}switch(c){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(s.attr("width",t.width),s.attr("height",t.height))}if(n)switch(c){case"video":s.attr("poster",t.poster),s.attr("src",null);for(var l=r;l<2;l++)if(t[H[l]]){var d=new P("source",1);d.attr("src",t[H[l]]),d.attr("type",t[H[l]+"mime"]||null),s.append(d)}break;case"iframe":s.attr("src",t.src);break;case"object":var f=s.getAll("img").length>0;if(t.poster&&!f){s.attr("src",t.poster);var m=new P("img",1);m.attr("src",t.poster),m.attr("width",t.width),m.attr("height",t.height),s.append(m)}break;case"source":if(i<2&&(s.attr("src",t[H[i]]),s.attr("type",t[H[i]+"mime"]||null),!t[H[i]])){s.remove();continue}i++;break;case"img":t.poster||s.remove()}}return L({},o).serialize(u)},j=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],U=function(e,t){for(var n=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"}(t),o=e.regex.exec(t),r=n+e.url,i=function(e){r=r.replace("$"+e,(function(){return o[e]?o[e]:""}))},a=0;a<o.length;a++)i(a);return r.replace(/\?$/,"")},G=function(e,t){var n=_.extend({},t);if(!n.source&&(_.extend(n,N(n.embed,e.schema)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=z(n.source),n.altsourcemime=z(n.altsource),n.poster=e.convertURL(n.poster,"poster");var o=function(e){var t=j.filter((function(t){return t.regex.test(e)}));return t.length>0?_.extend({},t[0],{url:U(t[0],e)}):null}(n.source);if(o&&(n.source=o.url,n.type=o.type,n.allowfullscreen=o.allowFullscreen,n.width=n.width||String(o.w),n.height=n.height||String(o.h)),n.embed)return V(n.embed,n,!0,e.schema);var r=y(e),i=x(e);return n.width=n.width||"300",n.height=n.height||"150",_.each(n,(function(t,o){n[o]=e.dom.encode(""+t)})),"iframe"===n.type?function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}(n):"application/x-shockwave-flash"===n.sourcemime?function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+"</object>"}(n):-1!==n.sourcemime.indexOf("audio")?function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"}(n,r):"script"===n.type?function(e){return'<script src="'+e.source+'"><\/script>'}(n):function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"}(n,i)},W=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")},$={},K=function(e){return function(t){return G(e,t)}},J=function(e,t){var n=k(e);return n?function(e,t,n){return new Promise((function(o,r){var i=function(n){return n.html&&($[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)})};$[e.source]?i($[e.source]):n({url:e.source},i,r)}))}(t,K(e),n):function(e,t){return Promise.resolve({html:t(e),url:e.source})}(t,K(e))},Y=function(e,t){var n=t?function(e,t){return h(t,e).bind((function(e){return h(e,"meta")}))}(t,e).getOr({}):{},i=function(e,t,n){return function(r){var i=function(){return h(e,r)},a=function(){return h(t,r)},s=function(e){return h(e,"value").bind((function(e){return e.length>0?l.some(e):l.none()}))};return o({},r,(r===n?i().bind((function(e){return u(e)?s(e).orThunk(a):a().orThunk((function(){return l.from(e)}))})):a().orThunk((function(){return i().bind((function(e){return u(e)?s(e):l.from(e)}))}))).getOr(""))}}(e,n,t);return r(r(r(r(r({},i("source")),i("altsource")),i("poster")),i("embed")),function(e,t){var n={};return h(e,"dimensions").each((function(e){f(["width","height"],(function(o){h(t,o).orThunk((function(){return h(e,o)})).each((function(e){return n[o]=e}))}))})),n}(e,n))},X=function(e){var t=r(r({},e),{},{source:{value:h(e,"source").getOr("")},altsource:{value:h(e,"altsource").getOr("")},poster:{value:h(e,"poster").getOr("")}});return f(["width","height"],(function(n){h(e,n).each((function(e){var o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Q=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Z=function(e,t){return function(o){if(n(o.url)&&o.url.trim().length>0){var i=o.html,a=N(i,t.schema),u=r(r({},a),{},{source:o.url,embed:i});e.setData(X(u))}}},ee=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("*[data-mce-object]"),o=0;o<t.length;o++)for(var r=n.length-1;r>=0;r--)t[o]===n[r]&&n.splice(r,1);e.selection.select(n[0])}(e,n),e.nodeChanged()},te=function(e,t,n){var o;t.embed=V(t.embed,t,!1,n.schema),t.embed&&(e.source===t.source||(o=t.source,v($,o)))?ee(n,t.embed):J(n,t).then((function(e){ee(n,e.html)})).catch(Q(n))},ne=function(e){var t=function(e){var t=e.selection.getNode(),n=W(t)?e.serializer.serialize(t,{selection:!0}):"";return r({embed:n},N(n,e.schema))}(e),n=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}(t),o=X(t),i=O(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:m([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],i])},u={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},s=[];S(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),E(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var c={title:"Advanced",name:"advanced",items:s},l=[a,u];s.length>0&&l.push(c);var d={type:"tabpanel",tabs:l},f=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var o=Y(t.getData());te(n.get(),o,e),t.close()},onChange:function(t,o){switch(o.name){case"source":!function(t,n){var o=Y(n.getData(),"source");t.source!==o.source&&(Z(f,e)({url:o.source,html:""}),J(e,o).then(Z(f,e)).catch(Q(e)))}(n.get(),t);break;case"embed":!function(t){var n=Y(t.getData()),o=N(n.embed,e.schema);t.setData(X(o))}(t);break;case"dimensions":case"altsource":case"poster":!function(t,n){var o=Y(t.getData(),n),i=G(e,o);t.setData(X(r(r({},o),{},{embed:i})))}(t,o.name)}n.set(Y(t.getData()))},initialData:o})},oe=tinymce.util.Tools.resolve("tinymce.Env"),re=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},ie=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.attr(n);return c(r)?r:v(t,n)?null:o},ae=function(e,t,n){var o="img"===t.name||"video"===e.name,r=o?"300":null,i="audio"===e.name?"30":"150",a=o?i:null;t.attr({width:ie(e,n,"width",r),height:ie(e,n,"height",a)})},ue=function(e,t){var n=t.name,o=new P("img",1);return ce(e,t,o),ae(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},se=function(e,t){var n=t.name,o=new P("span",1);o.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),ce(e,t,o);var r=e.dom.parseStyle(t.attr("style")),i=new P(n,1);if(ae(t,i,r),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{f(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){i.attr(e,t.attr(e))}));var a=o.attr("data-mce-html");c(a)&&function(e,t,n,o){for(var r=F(e.schema).parse(o,{context:t});r.firstChild;)n.append(r.firstChild)}(e,n,i,unescape(a))}var u=new P("span",1);return u.attr("class","mce-shim"),o.append(i),o.append(u),o},ce=function(e,t,n){for(var o=t.attributes,r=o.length;r--;){var i=o[r].name,a=o[r].value;"width"===i||"height"===i||"style"===i||function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(i,"data-mce-",0)||("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}var u=L({inner:!0},e.schema),s=new P("div",1);f(t.children(),(function(e){return s.append(e)}));var c=u.serialize(s);c&&(n.attr("data-mce-html",escape(c)),n.empty())},le=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},de=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||le(e))return!0;return!1},fe=function(e){e.on("PreInit",(function(){var t=e.schema,n=e.serializer,o=e.parser,r=t.getBoolAttrs();f("webkitallowfullscreen mozallowfullscreen".split(" "),(function(e){r[e]={}})),function(e,t){for(var n=p(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}}({embed:["wmode"]},(function(e,n){var o=t.getElementRule(n);f(e,(function(e){o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed,script",function(e){return function(t){for(var n,o=t.length;o--;)(n=t[o]).parent&&(n.parent.attr("data-mce-object")||(re(n)&&w(e)?de(n)||n.replace(se(e,n)):de(n)||n.replace(ue(e,n))))}}(e)),n.addAttributeFilter("data-mce-object",(function(t,n){for(var o=t.length,r=function(){var r=t[o];if(!r.parent)return"continue";var i=r.attr(n),a=new P(i,1);if("audio"!==i&&"script"!==i){var u=r.attr("class");u&&-1!==u.indexOf("mce-preview-object")?a.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):a.attr({width:r.attr("width"),height:r.attr("height")})}a.attr({style:r.attr("style")});for(var s=r.attributes,c=s.length;c--;){var l=s[c].name;0===l.indexOf("data-mce-p-")&&a.attr(l.substr(11),s[c].value)}"script"===i&&a.attr("type","text/javascript");var d=r.attr("data-mce-html");if(d){var m=function(e,t,n){var o=C(e);return F(e.schema,{validate:o}).parse(n,{context:t})}(e,i,unescape(d));f(m.children(),(function(e){return a.append(e)}))}r.replace(a)};o--;)r()}))})),e.on("SetContent",(function(){var t=e.dom;f(t.select("span.mce-preview-object"),(function(e){0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))};e.add("media",(function(e){return function(e){var t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})}(e),function(e){e.addCommand("mceMedia",(function(){ne(e)}))}(e),function(e){var t=function(){return e.execCommand("mceMedia")};e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:function(t){var n=e.selection;return t.setActive(W(n.getNode())),n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t})}(e),function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}(e),fe(e),function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),e.on("ObjectResized",(function(t){var n=t.target;if(n.getAttribute("data-mce-object")){var o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(V(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))}(e),function(e){return{showDialog:function(){ne(e)}}}(e)}))}()},7935:function(e,t,n){n(9135)},9135:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return typeof t===e}},n=t("boolean"),o=t("number"),r=function(e){return function(t){return t.options.get(e)}},i=r("nonbreaking_force_tab"),a=r("nonbreaking_wrap"),u=function(e,t){for(var n="",o=0;o<t;o++)n+=e;return n},s=function(e,t){var n=a(e)||e.plugins.visualchars?'<span class="'.concat(function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()}(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",'" contenteditable="false">').concat(u("&nbsp;",t),"</span>"):u("&nbsp;",t);e.undoManager.transact((function(){return e.insertContent(n)}))},c=tinymce.util.Tools.resolve("tinymce.util.VK");e.add("nonbreaking",(function(e){!function(e){var t=e.options.register;t("nonbreaking_force_tab",{processor:function(e){return n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."}},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})}(e),function(e){e.addCommand("mceNonBreaking",(function(){s(e,1)}))}(e),function(e){var t=function(){return e.execCommand("mceNonBreaking")};e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})}(e),function(e){var t=i(e);t>0&&e.on("keydown",(function(n){if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),s(e,t)}}))}(e)}))}()},5637:function(e,t,n){n(735)},735:function(e,t,n){var o=n(1109).default,r=n(319).default,i=n(4575).default,a=n(3913).default;!function(){"use strict";var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},u=function(e){return function(t){return typeof t===e}},s=n("string"),c=n("array"),l=u("boolean"),d=u("number"),f=function(){},m=function(e){return function(){return e}},p=m(!0),g=m("[!-#%-*,-\\/:;?@\\[-\\]_{}\xa1\xab\xb7\xbb\xbf;\xb7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]"),h=function(){function e(t,n){i(this,e),this.tag=t,this.value=n}return a(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();h.singletonNone=new h(!1);var v=g,b=tinymce.util.Tools.resolve("tinymce.Env"),y=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=Array.prototype.slice,w=Array.prototype.push,C=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},k=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},S=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},E=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(C(e,t))},O=Object.hasOwnProperty,_=function(e,t){return O.call(e,t)};"undefined"!==typeof window?window:Function("return this;")();var T,A=(T=3,function(e){return function(e){return e.dom.nodeType}(e)===T}),R=function(e,t,n){!function(e,t,n){if(!(s(n)||l(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},D=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},M={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return D(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return D(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return D(n)},fromDom:D,fromPoint:function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(D)}},N=function(e,t){return{element:e,offset:t}},z=function(e,t){var n=function(e){return C(e.dom.childNodes,M.fromDom)}(e);return n.length>0&&t<n.length?N(n[t],0):N(e,t)},P=function(e,t){var n=function(e){return h.from(e.dom.parentNode).map(M.fromDom)}(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},L=function(e,t){P(e,t),function(e,t){e.dom.appendChild(t.dom)}(t,e)},F=function(e,t){var n=function(t){return e(t)?h.from(t.dom.nodeValue):h.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(A,"text"),B=function(e){return F.get(e)},q=function(e,t){return function(e,t){var n,o=void 0===t?document:t.dom;return 1!==(n=o).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:C(o.querySelectorAll(e),M.fromDom)}(t,e)},I=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),H=function(e,t){return e.isBlock(t)||_(e.schema.getVoidElements(),t.nodeName)},V=function(e,t){return"false"===e.getContentEditable(t)},j=function(e,t){return!e.isBlock(t)&&_(e.schema.getWhitespaceElements(),t.nodeName)},U=function(e){return 3===e.nodeType},G=function(e,t){return z(M.fromDom(e),t)},W=function(e,t,n,o,r){for(var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=i?t(!1):n;a;){var u=V(e,a);if(u||j(e,a)){var s=u?o.cef(a):o.boundary(a);if(s)break;a=t(!0)}else{if(H(e,a)){if(o.boundary(a))break}else U(a)&&o.text(a);if(a===r)break;a=t(!1)}}},$=function(e,t,n,o,r){if(!function(e,t){return H(e,t)||V(e,t)||j(e,t)||function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)}(e,t)}(e,n)){var i=e.getParent(o,e.isBlock),a=new I(n,i),u=r?a.next.bind(a):a.prev.bind(a);W(e,u,n,{boundary:p,cef:p,text:function(e){r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(M.fromDom(e))}})}},K=function(e,t,n,o,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=new I(n,t),s=[],c={sOffset:0,fOffset:0,elements:[]};$(e,c,n,t,!1);var l=function(){return c.elements.length>0&&(s.push(c),c={sOffset:0,fOffset:0,elements:[]}),!1};return W(e,u.next.bind(u),n,{boundary:l,cef:function(e){return l(),i&&s.push.apply(s,r(i.cef(e))),!1},text:function(e){c.elements.push(M.fromDom(e)),i&&i.text(e,c)}},o,a),o&&$(e,c,o,t,!0),l(),s},J=function(e,t){var n=G(t.startContainer,t.startOffset),o=n.element.dom,r=G(t.endContainer,t.endOffset),i=r.element.dom;return K(e,t.commonAncestorContainer,o,i,{text:function(e,t){e===i?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:function(t){return function(e,t){var n=x.call(e,0);return n.sort(t),n}(E(q(M.fromDom(t),"*[contenteditable=true]"),(function(t){var n=t.dom;return K(e,n,n)})),(function(e,t){return function(e,t){return function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_PRECEDING)}(e.elements[0].dom,t.elements[0].dom)?1:-1}))}},!1)},Y=function(e,t){return t.collapsed?[]:J(e,t)},X=function(e,t){var n=e.createRng();return n.selectNode(t),Y(e,n)},Q=function(e,t){var n,o,r,i=(n=e,o=function(e,n){var o=B(n),r=e.last,i=r+o.length,a=E(t,(function(e,t){return e.start<i&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(i,e.finish)-r,matchId:t}]:[]}));return{results:e.results.concat(a),last:i}},r={results:[],last:0},k(n,(function(e,t){r=o(r,e,t)})),r).results;return function(e,t){if(0===e.length)return[];for(var n=t(e[0]),o=[],r=[],i=0,a=e.length;i<a;i++){var u=e[i],s=t(u);s!==n&&(o.push(r),r=[]),n=s,r.push(u)}return 0!==r.length&&o.push(r),o}(i,(function(e){return e.matchId}))},Z=function(e,t){return E(t,(function(t){var n=t.elements,o=C(n,B).join(""),r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,r=t.regex;r.lastIndex=n;for(var i,a=[];i=r.exec(e);){var u=i[t.matchIndex],s=i.index+i[0].indexOf(u),c=s+u.length;if(c>o)break;a.push({start:s,finish:c}),r.lastIndex=c}return a}(o,e,t.sOffset,o.length-t.fOffset);return Q(n,r)}))},ee=function(e,t){S(e,(function(e,n){S(e,(function(e){var o=M.fromDom(t.cloneNode(!1));R(o,"data-mce-index",n);var r=e.element.dom;if(r.length===e.finish&&0===e.start)L(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);var i=r.splitText(e.start);L(M.fromDom(i),o)}}))}))},te=function(e,t,n,o){var r=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?function(e,t){return E(t,(function(t){return X(e,t)}))}(e,i):Y(e,n.getRng()),u=Z(t,a);return ee(u,o),n.moveToBookmark(r),u.length},ne=function(e){var t=e.getAttribute("data-mce-index");return"number"===typeof t?""+t:t},oe=function(e,t,n,o){var r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";var i=e.getBody();return me(e,t,!1),o?te(e.dom,n,e.selection,r):function(e,t,n,o){var r=X(e,n),i=Z(t,r);return ee(i,o),i.length}(e.dom,n,i,r)},re=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},ie=function(e,t){var n=[],o=y.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(var r=0;r<o.length;r++){var i=ne(o[r]);null!==i&&i.length&&(i===t.toString()&&n.push(o[r]))}return n},ae=function(e,t,n){var o=t.get(),r=o.index,i=e.dom;(n=!1!==n)?r+1===o.count?r=0:r++:r-1===-1?r=o.count-1:r--,i.removeClass(ie(e,o.index),"mce-match-marker-selected");var a=ie(e,r);return a.length?(i.addClass(ie(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),r):-1},ue=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},se=function(e,t,n,o,r,i){var a=e.selection,u=function(e,t){var n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?"(?:^|\\s|".concat(v(),")")+n+"(?=$|\\s|".concat(v(),")"):n}(n,r),s=a.isForward(),c={regex:new RegExp(u,o?"g":"gi"),matchIndex:1},l=oe(e,t,c,i);if(b.browser.isSafari()&&a.setRng(a.getRng(),s),l){var d=ae(e,t,!0);t.set({index:d,count:l,text:n,matchCase:o,wholeWord:r,inSelection:i})}return l},ce=function(e,t){var n=ae(e,t,!0);t.set(o(o({},t.get()),{},{index:n}))},le=function(e,t){var n=ae(e,t,!1);t.set(o(o({},t.get()),{},{index:n}))},de=function(e){var t=ne(e);return null!==t&&t.length>0},fe=function(e,t,n,r,i){var a,u=t.get(),s=u.index,c=s;r=!1!==r;for(var l=e.getBody(),d=y.grep(y.toArray(l.getElementsByTagName("span")),de),f=0;f<d.length;f++){var m=ne(d[f]),p=a=parseInt(m,10);if(i||p===u.index){for(n.length?(d[f].firstChild.nodeValue=n,re(d[f])):ue(e.dom,d[f]);d[++f];){if((p=parseInt(ne(d[f]),10))!==a){f--;break}ue(e.dom,d[f])}r&&c--}else a>s&&d[f].setAttribute("data-mce-index",String(a-1))}return t.set(o(o({},u),{},{count:i?0:u.count-1,index:c})),r?ce(e,t):le(e,t),!i&&t.get().count>0},me=function(e,t,n){for(var r,i,a=t.get(),u=y.toArray(e.getBody().getElementsByTagName("span")),s=0;s<u.length;s++){var c=ne(u[s]);null!==c&&c.length&&(c===a.index.toString()&&(r||(r=u[s].firstChild),i=u[s].firstChild),re(u[s]))}if(t.set(o(o({},a),{},{index:-1,count:0,text:""})),r&&i){var l=e.dom.createRng();return l.setStart(r,0),l.setEnd(i,i.data.length),!1!==n&&e.selection.setRng(l),l}},pe=function(){var t=function(t){var n=e(h.none()),o=function(){return n.get().each(t)};return{clear:function(){o(),n.set(h.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){o(),n.set(h.some(e))}}}(f);return o(o({},t),{},{on:function(e){return t.get().each(e)}})},ge=function(e,t){var n=pe();e.undoManager.add();var r=y.trim(e.selection.getContent({format:"text"})),i=function(e){e.setEnabled("next",function(e,t){return t.get().count>1}(0,t)),e.setEnabled("prev",function(e,t){return t.get().count>1}(0,t))},a=function(e,t){k(["replace","replaceall","prev","next"],(function(n){return e.setEnabled(n,!t)}))},u=function(e,t){b.browser.isSafari()&&b.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},s=function(n){me(e,t,!1),a(n,!0),i(n)},c=function(n){var o=n.getData(),r=t.get();if(o.findtext.length){if(r.text===o.findtext&&r.matchCase===o.matchcase&&r.wholeWord===o.wholewords)ce(e,t);else{var u=se(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);u<=0&&function(t){e.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))}(n),a(n,0===u)}i(n)}else s(n)},l=t.get(),d={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:{findtext:r,replacetext:"",wholewords:l.wholeWord,matchcase:l.matchCase,inselection:l.inSelection},onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&s(e)},onAction:function(n,r){var a=n.getData();switch(r.name){case"find":c(n);break;case"replace":fe(e,t,a.replacetext)?i(n):s(n);break;case"replaceall":fe(e,t,a.replacetext,!0,!0),s(n);break;case"prev":le(e,t),i(n);break;case"next":ce(e,t),i(n);break;case"matchcase":case"wholewords":case"inselection":!function(e){var n=e.getData(),r=t.get();t.set(o(o({},r),{},{matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection}))}(n),s(n)}u(n,r.name)},onSubmit:function(e){c(e),u(e,"find")},onClose:function(){e.focus(),me(e,t),e.undoManager.add()}};n.set(e.windowManager.open(d,{inline:"toolbar"}))},he=function(e,t){return function(){ge(e,t)}};t.add("searchreplace",(function(t){var n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return function(e,t){e.addCommand("SearchReplace",(function(){ge(e,t)}))}(t,n),function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:he(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:he(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",he(e,t))}(t,n),function(e,t){return{done:function(n){return me(e,t,n)},find:function(n,o,r){return se(e,t,n,o,r,arguments.length>3&&void 0!==arguments[3]&&arguments[3])},next:function(){return ce(e,t)},prev:function(){return le(e,t)},replace:function(n,o,r){return fe(e,t,n,o,r)}}}(t,n)}))}()},1228:function(e,t,n){n(1909)},1909:function(e,t,n){var o=n(9713).default,r=n(1109).default,i=n(319).default,a=n(4575).default,u=n(3913).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},s=function(e){return function(t){return typeof t===e}},c=n("string"),l=n("array"),d=s("boolean"),f=(e=void 0,function(t){return e===t}),m=function(e){return!function(e){return null===e||void 0===e}(e)},p=s("function"),g=s("number"),h=function(){},v=function(e){return function(){return e}},b=function(e){return e},y=function(e,t){return e===t};function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=n.concat(o);return e.apply(null,i)}}var w=v(!1),C=v(!0),k=function(){function e(t,n){a(this,e),this.tag=t,this.value=n}return u(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return m(t)?e.some(t):e.none()}}]),e}();k.singletonNone=new k(!1);var S=Object.keys,E=Object.hasOwnProperty,O=function(e,t){for(var n=S(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},_=function(e,t){var n,o={};return function(e,t,n,o){O(e,(function(e,r){(t(e,r)?n:o)(e,r)}))}(e,t,(n=o,function(e,t){n[t]=e}),h),o},T=function(e){return function(e,t){var n=[];return O(e,(function(e,o){n.push(t(e,o))})),n}(e,b)},A=function(e){return S(e).length},R=function(e,t){return D(e,t)?k.from(e[t]):k.none()},D=function(e,t){return E.call(e,t)},M=function(e,t){return D(e,t)&&void 0!==e[t]&&null!==e[t]},N=Array.prototype.indexOf,z=Array.prototype.push,P=function(e,t){return function(e,t){return N.call(e,t)}(e,t)>-1},L=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},F=function(e,t){for(var n=[],o=0;o<e;o++)n.push(t(o));return n},B=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},q=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},I=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},H=function(e,t,n){return q(e,(function(e,o){n=t(n,e,o)})),n},V=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return k.some(i);if(n(i,o))break}return k.none()}(e,t,w)},j=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t}(B(e,t))},U=function(e,t){for(var n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},G=function(e,t){return t>=0&&t<e.length?k.some(e[t]):k.none()},W=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return k.none()},$=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},K={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return $(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return $(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return $(n)},fromDom:$,fromPoint:function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map($)}};"undefined"!==typeof window?window:Function("return this;")();var J,Y=function(e){return e.dom.nodeName.toLowerCase()},X=function(e){return e.dom.nodeType},Q=function(e){return function(t){return X(t)===e}},Z=function(e){return 8===X(e)||"#comment"===Y(e)},ee=Q(1),te=Q(3),ne=Q(9),oe=Q(11),re=function(e){return function(t){return ee(t)&&Y(t)===e}},ie=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ae=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},ue=function(e,t){return e.dom===t.dom},se=ie,ce=function(e){return ne(e)?e:(t=e,K.fromDom(t.dom.ownerDocument));var t},le=function(e){return k.from(e.dom.parentNode).map(K.fromDom)},de=function(e,t){for(var n=p(t)?t:w,o=e.dom,r=[];null!==o.parentNode&&void 0!==o.parentNode;){var i=o.parentNode,a=K.fromDom(i);if(r.push(a),!0===n(a))break;o=i}return r},fe=function(e){return k.from(e.dom.previousSibling).map(K.fromDom)},me=function(e){return k.from(e.dom.nextSibling).map(K.fromDom)},pe=function(e){return B(e.dom.childNodes,K.fromDom)},ge=function(e){return function(e,t){var n=e.dom.childNodes;return k.from(n[t]).map(K.fromDom)}(e,0)},he=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),ve=he?function(e){return K.fromDom(e.dom.getRootNode())}:ce,be=function(e){var t,n=ve(e);return oe(t=n)&&m(t.dom.host)?k.some(n):k.none()},ye=function(e){return K.fromDom(e.dom.host)},xe=function e(t){var n=te(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var o,r,i=n.ownerDocument;return be(K.fromDom(n)).fold((function(){return i.body.contains(n)}),(o=e,r=ye,function(e){return o(r(e))}))},we=function e(t,n){var o=[];return q(pe(t),(function(t){n(t)&&(o=o.concat([t])),o=o.concat(e(t,n))})),o},Ce=function(e,t){return function(e,t){return I(pe(e),t)}(e,(function(e){return ie(e,t)}))},ke=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ae(n)?[]:B(n.querySelectorAll(e),K.fromDom)}(t,e)},Se=function(e,t,n){for(var o=e.dom,r=p(n)?n:w;o.parentNode;){o=o.parentNode;var i=K.fromDom(o);if(t(i))return k.some(i);if(r(i))break}return k.none()},Ee=function(e,t,n){return Se(e,(function(e){return ie(e,t)}),n)},Oe=function(e,t){return function(e,t){return V(e.dom.childNodes,(function(e){return t(K.fromDom(e))})).map(K.fromDom)}(e,(function(e){return ie(e,t)}))},_e=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ae(n)?k.none():k.from(n.querySelector(e)).map(K.fromDom)}(t,e)},Te=function(e,t,n){return function(e,t,n,o,r){return e(n,o)?k.some(n):p(r)&&r(n)?k.none():t(n,o,r)}((function(e,t){return ie(e,t)}),Ee,e,t,n)},Ae=function(e,t,n){if(!(c(n)||d(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Re=function(e,t,n){Ae(e.dom,t,n)},De=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Me=function(e,t){return k.from(De(e,t))},Ne=function(e,t){e.dom.removeAttribute(t)},ze=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return e.exists((function(e){return n(e,t)}))},Pe=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},Le=function(e,t){return function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(e,t,0)},Fe=(J=/^\s+|\s+$/g,function(e){return e.replace(J,"")}),Be=function(e){return e.length>0},qe=function(e){return void 0!==e.style&&p(e.style.getPropertyValue)},Ie=function(e,t,n){!function(e,t,n){if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);qe(e)&&e.style.setProperty(t,n)}(e.dom,t,n)},He=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||xe(e)?o:Ve(n,t)},Ve=function(e,t){return qe(e)?e.style.getPropertyValue(t):""},je=function(e,t){var n=e.dom,o=Ve(n,t);return k.from(o).filter((function(e){return e.length>0}))},Ue=function(e,t){!function(e,t){qe(e)&&e.style.removeProperty(t)}(e.dom,t),ze(Me(e,"style").map(Fe),"")&&Ne(e,"style")},Ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Me(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},We=function(e,t){return $e(e,t,C)},$e=function e(t,n,o){return j(pe(t),(function(t){return ie(t,n)?o(t)?[t]:[]:e(t,n,o)}))},Ke=["tfoot","thead","tbody","colgroup"],Je=function(e,t,n){return{element:e,rowspan:t,colspan:n}},Ye=function(e,t,n){return{element:e,cells:t,section:n}},Xe=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;if(n(t))return k.none();if(P(e,Y(t)))return k.some(t);var o=function(e){return ie(e,"table")||n(e)};return Ee(t,e.join(","),o)}(["td","th"],e,t)},Qe=function(e,t){return Te(e,"table",t)},Ze=function(e){return We(e,"tr")},et=function(e){return Qe(e).fold(v([]),(function(e){return Ce(e,"colgroup")}))},tt=function(e,t){return B(e,(function(e){if("colgroup"===Y(e)){var n=B(function(e){return ie(e,"colgroup")?Ce(e,"col"):j(et(e),(function(e){return Ce(e,"col")}))}(e),(function(e){var t=Ge(e,"span",1);return Je(e,1,t)}));return Ye(e,n,"colgroup")}var o=B(function(e){return We(e,"th,td")}(e),(function(e){var t=Ge(e,"rowspan",1),n=Ge(e,"colspan",1);return Je(e,t,n)}));return Ye(e,o,t(e))}))},nt=function(e){return le(e).map((function(e){var t=Y(e);return function(e){return P(Ke,e)}(t)?t:"tbody"})).getOr("tbody")},ot=function(e){return Me(e,"data-snooker-locked-cols").bind((function(e){return k.from(e.match(/\d+/g))})).map((function(e){return function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var i=e[o];n[String(i)]=t(i,o)}return n}(e,C)}))},rt=function(e,t){return e+","+t},it=function(e,t){var n=j(e.all,(function(e){return e.cells}));return I(n,t)},at=function(e){var t,n={},o=[],r=(t=e,G(t,0)).map((function(e){return e.element})).bind(Qe).bind(ot).getOr({}),i=0,a=0,u=0,s=function(e,t){for(var n=[],o=[],r=0,i=e.length;r<i;r++){var a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}}(e,(function(e){return"colgroup"===e.section})),c=s.pass,l=s.fail;q(l,(function(e){var t=[];q(e.cells,(function(e){for(var o=0;void 0!==n[rt(u,o)];)o++;for(var i=M(r,o.toString()),s=function(e,t,n,o,r,i){return{element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:i}}(e.element,e.rowspan,e.colspan,u,o,i),c=0;c<e.colspan;c++)for(var l=0;l<e.rowspan;l++){var d=o+c,f=rt(u+l,d);n[f]=s,a=Math.max(a,d+1)}t.push(s)})),i++,o.push(Ye(e.element,t,e.section)),u++}));var d=function(e){return G(e,e.length-1)}(c).map((function(e){var t=function(e){var t={},n=0;return q(e.cells,(function(e){var o=e.colspan;F(o,(function(r){var i=n+r;t[i]=function(e,t,n){return{element:e,colspan:t,column:n}}(e.element,o,i)})),n+=o})),t}(e),n=function(e,t){return{element:e,columns:t}}(e.element,T(t));return{colgroups:[n],columns:t}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),f=d.columns,m=d.colgroups,p=function(e,t){return{rows:e,columns:t}}(i,a);return{grid:p,access:n,all:o,columns:f,colgroups:m}},ut=function(e){var t=function(e){var t=Ze(e),n=et(e),o=[].concat(i(n),i(t));return tt(o,nt)}(e);return at(t)},st=function(e,t,n){return k.from(e.access[rt(t,n)])},ct=function(e,t,n){var o=it(e,(function(e){return n(t,e.element)}));return o.length>0?k.some(o[0]):k.none()},lt=function(e){return j(e.all,(function(e){return e.cells}))},dt=function(e,t){return k.from(e.columns[t])},ft=tinymce.util.Tools.resolve("tinymce.util.Tools"),mt=function(e,t,n){return function(t,o){for(var r=0;r<o.length;r++){var i=e.getStyle(o[r],n);if("undefined"===typeof t&&(t=i),t!==i)return""}return t}(undefined,e.select("td,th",t))},pt=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},gt=function(e,t){ft.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},ht=function(e,t,n){e.dispatch("TableModified",r(r({},n),{},{table:t}))},vt=function(e,t){return function(e){var t=parseFloat(e);return isNaN(t)?k.none():k.some(t)}(e).getOr(t)},bt=function(e,t,n){return vt(He(e,t),n)},yt=function(e,t){var n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:function(e,t,n,o){return t-bt(e,"padding-".concat(n),0)-bt(e,"padding-".concat(o),0)-bt(e,"border-".concat(n,"-width"),0)-bt(e,"border-".concat(o,"-width"),0)}(e,o,"left","right")},xt=function(e){return yt(e,"content-box")},wt=tinymce.util.Tools.resolve("tinymce.Env"),Ct=F(5,(function(e){var t="".concat(e+1,"px");return{title:t,value:t}})),kt=B(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}})),St=function(e){return function(t){return t.options.get(e)}},Et=St("table_sizing_mode"),Ot=St("table_border_widths"),_t=St("table_border_styles"),Tt=St("table_default_attributes"),At=St("table_cell_advtab"),Rt=St("table_row_advtab"),Dt=St("table_advtab"),Mt=St("table_appearance_options"),Nt=St("table_grid"),zt=St("table_style_by_css"),Pt=St("table_cell_class_list"),Lt=St("table_row_class_list"),Ft=St("table_class_list"),Bt=St("table_toolbar"),qt=St("table_background_color_map"),It=St("table_border_color_map"),Ht=function(e){return"fixed"===Et(e)},Vt=function(e){return"responsive"===Et(e)},jt=function(e){var t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:function(e,t){var n;if(Ht(e)){var o=e.dom,i=null!==(n=o.getParent(e.selection.getStart(),o.isBlock))&&void 0!==n?n:e.getBody(),a=xt(K.fromDom(i));return r(r({},t),{},{width:a+"px"})}return Vt(e)?_(t,(function(e,t){return"width"!==t})):t}(e,n)},Ut=function(e){return function(t){return ue(t,function(e){return K.fromDom(e.getBody())}(e))}},Gt=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},Wt=function(e){return K.fromDom(e.selection.getStart())},$t=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow},Kt=function(e,t,n){var o=ct(e,t,ue),r=ct(e,n,ue);return o.bind((function(e){return r.map((function(t){return function(e,t){return n=Math.min(e.row,t.row),o=Math.min(e.column,t.column),r=Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),i=Math.max(e.column+e.colspan-1,t.column+t.colspan-1),{startRow:n,startCol:o,finishRow:r,finishCol:i};var n,o,r,i}(e,t)}))}))},Jt=function(e,t,n){return Kt(e,t,n).bind((function(t){return function(e,t){for(var n=!0,o=x($t,t),r=t.startRow;r<=t.finishRow;r++)for(var i=t.startCol;i<=t.finishCol;i++)n=n&&st(e,r,i).exists(o);return n?k.some(t):k.none()}(e,t)}))},Yt=ut,Xt=function(e,t){le(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Qt=function(e,t){me(e).fold((function(){le(e).each((function(e){en(e,t)}))}),(function(e){Xt(e,t)}))},Zt=function(e,t){ge(e).fold((function(){en(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},en=function(e,t){e.dom.appendChild(t.dom)},tn=function(e,t){Xt(e,t),en(t,e)},nn=function(e,t){q(t,(function(n,o){var r=0===o?e:t[o-1];Qt(r,n)}))},on=function(e,t){q(t,(function(t){en(e,t)}))},rn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},an=function(e){var t=pe(e);t.length>0&&nn(e,t),rn(e)},un=function(e,t){var n=function(t){return e(t)?k.from(t.dom.nodeValue):k.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(te,"text"),sn=function(e){return un.get(e)},cn=function(e,t){return un.set(e,t)},ln=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],dn=function(e,t,n,o){var r,i,a=t(e,n);return r=function(n,o){var r=t(e,o);return fn(e,n,r)},i=a,function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(o,(function(e,t){i=r(i,e,t)})),i},fn=function(e,t,n){return t.bind((function(t){return n.filter(x(e.eq,t))}))},mn=function(e,t,n){return n.length>0?function(e,t,n,o){return o(e,t,n[0],n.slice(1))}(e,t,n,dn):k.none()},pn={up:v({selector:Ee,closest:Te,predicate:Se,all:de}),down:v({selector:ke,predicate:we}),styles:v({get:He,getRaw:je,set:Ie,remove:Ue}),attrs:v({get:De,set:Re,remove:Ne,copyTo:function(e,t){!function(e,t){var n=e.dom;O(t,(function(e,t){Ae(n,t,e)}))}(t,H(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{}))}}),insert:v({before:Xt,after:Qt,afterAll:nn,append:en,appendAll:on,prepend:Zt,wrap:tn}),remove:v({unwrap:an,remove:rn}),create:v({nu:K.fromTag,clone:function(e){return K.fromDom(e.dom.cloneNode(!1))},text:K.fromText}),query:v({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:fe,nextSibling:me}),property:v({children:pe,name:Y,parent:le,document:function(e){return ce(e).dom},isText:te,isComment:Z,isElement:ee,isSpecial:function(e){var t=Y(e);return P(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:function(e){return ee(e)?Me(e,"lang"):k.none()},getText:sn,setText:cn,isBoundary:function(e){return!!ee(e)&&("body"===Y(e)||P(ln,Y(e)))},isEmptyTag:function(e){return!!ee(e)&&P(["br","img","hr","input"],Y(e))},isNonEditable:function(e){return ee(e)&&"false"===De(e,"contenteditable")}}),eq:ue,is:se},gn=function(e){return Ee(e,"table")},hn=function(e,t,n){return _e(e,t).bind((function(t){return _e(e,n).bind((function(e){return(n=gn,o=[t,e],mn(pn,(function(e,t){return n(t)}),o)).map((function(n){return{first:t,last:e,table:n}}));var n,o}))}))},vn=function(e,t){return function(e,t){var n=ke(e,t);return n.length>0?k.some(n):k.none()}(e,t)},bn=function(e,t,n){return hn(e,t,n).bind((function(t){var n=function(t){return ue(e,t)},o="thead,tfoot,tbody,table",r=Ee(t.first,o,n),i=Ee(t.last,o,n);return r.bind((function(e){return i.bind((function(n){return ue(e,n)?function(e,t,n){var o=Yt(e);return Jt(o,t,n)}(t.table,t.first,t.last):k.none()}))}))}))},yn=function(e){return B(e,K.fromDom)},xn="data-mce-selected",wn="data-mce-first-selected",Cn="data-mce-last-selected",kn={selected:xn,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:wn,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:Cn,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Sn=function(e){return function(t,n){var o,r=Y(t),i="col"===r||"colgroup"===r?Qe(o=t).bind((function(e){return vn(e,kn.firstSelectedSelector)})).fold(v(o),(function(e){return e[0]})):t;return Te(i,e,n)}},En=Sn("th,td,caption"),On=Sn("th,td"),_n=function(e){return yn(e.model.table.getSelectedCells())},Tn=function(e,t){var n=On(e),o=n.bind((function(e){return Qe(e)})).map((function(e){return Ze(e)}));return Pe(n,o,(function(e,n){return I(n,(function(n){return L(yn(n.dom.cells),(function(n){return"1"===De(n,t)||ue(n,e)}))}))})).getOr([])},An=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Rn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Dn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mn=function(e){return(t=e,n="#",Le(t,n)?function(e,t){return e.substring(t)}(t,n.length):t).toUpperCase();var t,n},Nn=function(e){return function(e){return Rn.test(e)||Dn.test(e)}(e)?k.some({value:Mn(e)}):k.none()},zn=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Pn=function(e){return function(e){return{value:e}}(zn(e.red)+zn(e.green)+zn(e.blue))},Ln=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Fn=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Bn=function(e,t,n,o){return{red:e,green:t,blue:n,alpha:o}},qn=function(e,t,n,o){var r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(o);return Bn(r,i,a,u)},In=function(e){if("transparent"===e)return k.some(Bn(0,0,0,0));var t=Ln.exec(e);if(null!==t)return k.some(qn(t[1],t[2],t[3],"1"));var n=Fn.exec(e);return null!==n?k.some(qn(n[1],n[2],n[3],n[4])):k.none()},Hn=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Vn=function(){return function(e){var t=Hn(k.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(k.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(k.some(e))}}}((function(e){return e.unbind()}))},jn=function(e,t,n){return function(o){var r=Vn(),i=!Be(n),a=function(){var a=_n(e),u=function(o){return e.formatter.match(t,{value:n},o.dom,i)};i?(o.setActive(!L(a,u)),r.set(e.formatter.formatChanged(t,(function(e){return o.setActive(!e)}),!0))):(o.setActive(U(a,u)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?a():e.on("init",a),r.clear}},Un=function(e){return M(e,"menu")},Gn=function e(t){return B(t,(function(t){var n=t.text||t.title;return Un(t)?{text:n,items:e(t.menu)}:{text:n,value:t.value}}))},Wn=function e(t,n,o,r){return B(n,(function(n){var i=n.text||n.title;return Un(n)?{type:"nestedmenuitem",text:i,getSubmenuItems:function(){return e(t,n.menu,o,r)}}:{text:i,type:"togglemenuitem",onAction:function(){return r(n.value)},onSetup:jn(t,o,n.value)}}))},$n=function(e,t){return function(n){e.execCommand("mceTableApplyCellStyle",!1,o({},t,n))}},Kn=function e(t){return j(t,(function(t){return Un(t)?[r(r({},t),{},{menu:e(t.menu)})]:Be(t.value)?[t]:[]}))},Jn=function(e,t,n,o){return function(r){return r(Wn(e,t,n,o))}},Yn=function(e,t,n){var r=B(t,(function(e){return{text:e.title,value:"#"+(t=e.value,Nn(t).orThunk((function(){return In(t).map(Pn)})).getOrThunk((function(){var e=document.createElement("canvas");e.height=1,e.width=1;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);var o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],u=o[3];return Pn(Bn(r,i,a,u))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:function(t){var r="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,o({},n,r))}}]},Xn=function(e){return function(){var t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})}},Qn=function(e){return function(){var t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})}},Zn=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:An}],eo=function(e){return Zn.concat(function(e){var t=Gn(Pt(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},to=function(e,t){var n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Gn(_t(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},no=function(e){return function(t,n){var o=t.dom;return{setAttrib:function(t,r){e&&!r||o.setAttrib(n,t,r)},setStyle:function(t,r){e&&!r||o.setStyle(n,t,r)},setFormat:function(o,r){e&&!r||(""===r?t.formatter.remove(o,{value:null},n,!0):t.formatter.apply(o,{value:r},n))}}}},oo={normal:no(!1),ifTruthy:no(!0)},ro=re("th"),io=function(e,t){return e&&t?"sectionCells":e?"section":"cells"},ao=function(e){var t=I(e,(function(e){return ro(e.element)}));return 0===t.length?k.some("td"):t.length===e.length?k.some("th"):k.none()},uo=function(e){var t=B(e,(function(e){return function(e){var t="thead"===e.section,n=ze(ao(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:io(t,n)}:{type:"body"}}(e).type})),n=P(t,"header"),o=P(t,"footer");if(n||o){var r=P(t,"body");return!n||r||o?n||r||!o?k.none():k.some("footer"):k.some("header")}return k.some("body")},so=function(e,t){return W(e.all,(function(e){return V(e.cells,(function(e){return ue(t,e.element)}))}))},co=function(e,t,n){var o,r,i=function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t}(B(t.selection,(function(t){return Xe(t).bind((function(t){return so(e,t)})).filter(n)})));return o=i.length>0,r=i,o?k.some(r):k.none()},lo=function(e,t){return co(e,t,C)},fo=function(e,t){return U(t,(function(t){return function(e,t){return so(e,t).exists((function(e){return!e.isLocked}))}(e,t)}))},mo=function(e,t){return function(e,t){return t.mergable}(0,t).filter((function(t){return fo(e,t.cells)}))},po=function(e,t){return function(e,t){return t.unmergable}(0,t).filter((function(t){return fo(e,t)}))},go=function(e){if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return q(e,(function(o,r){var i=S(o);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!l(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=o.length;if(s!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+s);var c=function(e){var n=S(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!U(t,(function(e){return P(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,o)};return{fold:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+n.length);var a=n[r];return a.apply(null,o)},match:c,log:function(e){console.log(e,{constructors:t,constructor:a,params:o})}}}})),n},ho=go([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);r({},ho);var vo=function(e,t){var n=ut(e);return lo(n,t).bind((function(e){var t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,i=n.all.slice(o,r);return uo(i)})).getOr("")},bo=function(e){return Le(e,"rgb")?In(t=e).map(Pn).map((function(e){return"#"+e.value})).getOr(t):e;var t},yo=function(e){var t=K.fromDom(e);return{borderwidth:je(t,"border-width").getOr(""),borderstyle:je(t,"border-style").getOr(""),bordercolor:je(t,"border-color").map(bo).getOr(""),backgroundcolor:je(t,"background-color").map(bo).getOr("")}},xo=function(e){var t=e[0],n=e.slice(1);return q(n,(function(e){q(S(t),(function(n){O(e,(function(e,o){var r=t[n];""!==r&&n===o&&r!==e&&(t[n]="")}))}))})),t},wo=function(e,t,n,o){return V(e,(function(e){return!f(n.formatter.matchNode(o,t+e))})).getOr("")},Co=x(wo,["left","center","right"],"align"),ko=x(wo,["top","middle","bottom"],"valign"),So=function(e){return Qe(K.fromDom(e)).map((function(t){var n={selection:yn(e.cells)};return vo(t,n)})).getOr("")},Eo=function(e,t){var n=ut(e),o=lt(n),r=I(o,(function(e){return L(t,(function(t){return ue(e.element,t)}))}));return B(r,(function(e){return{element:e.element.dom,column:dt(n,e.column).map((function(e){return e.element.dom}))}}))},Oo=function(e,t,n){var o=1===t.length;q(t,(function(t){var r=t.element,i=o?oo.normal(e,r):oo.ifTruthy(e,r);!function(e,t,n){e.setAttrib("scope",n.scope),e.setAttrib("class",n.class),e.setStyle("height",Gt(n.height)),t.setStyle("width",Gt(n.width))}(i,t.column.map((function(t){return o?oo.normal(e,t):oo.ifTruthy(e,t)})).getOr(i),n),At(e)&&function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",Gt(t.borderwidth))}(i,n),o&&(gt(e,r),function(e,t){ft.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))}(e,r)),n.halign&&pt(e,r,n.halign),n.valign&&function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)}(e,r,n.valign)}))},_o=function(e,t,n,o){var r=o.getData();o.close(),e.undoManager.transact((function(){!function(e,t,n,o){var r=_(o,(function(e,t){return n[t]!==e}));A(r)>0&&t.length>=1&&Qe(t[0]).each((function(n){var i=Eo(n,t),a=A(_(r,(function(e,t){return"scope"!==t&&"celltype"!==t})))>0,u=D(r,"celltype");(a||D(r,"scope"))&&Oo(e,i,o),u&&function(e,t){e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})}(e,o),ht(e,n.dom,{structure:u,style:a})}))}(e,t,n,r),e.focus()}))},To=function(e,t){var n=Qe(t[0]).map((function(n){return B(Eo(n,t),(function(t){return function(e,t,n,o){var i,a=e.dom,u=o.getOr(t),s=function(e,t){return a.getStyle(e,t)||a.getAttrib(e,t)};return r({width:s(u,"width"),height:s(t,"height"),scope:a.getAttrib(t,"scope"),celltype:(i=t,i.nodeName.toLowerCase()),class:a.getAttrib(t,"class",""),halign:Co(e,t),valign:ko(e,t)},n?yo(t):{})}(e,t.element,At(e),t.column)}))}));return xo(n.getOrDie())},Ao=function(e){var t=_n(e);if(0!==t.length){var n=To(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:eo(e)},to(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:eo(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:At(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:x(_o,e,t,n)})}},Ro=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Do=function(e){return Ro.concat(function(e){var t=Gn(Lt(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},Mo=function(e,t,n,o){var r=1===t.length;q(t,(function(t){var i=r?oo.normal(e,t):oo.ifTruthy(e,t);!function(e,t){e.setAttrib("class",t.class),e.setStyle("height",Gt(t.height))}(i,n),Rt(e)&&function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)}(i,n),n.align!==o.align&&(gt(e,t),pt(e,t,n.align))}))},No=function(e,t,n,o){var r=o.getData();o.close(),e.undoManager.transact((function(){!function(e,t,n,o){var r=_(o,(function(e,t){return n[t]!==e}));if(A(r)>0){var i=D(r,"type"),a=!i||A(r)>1;a&&Mo(e,t,o,n),i&&function(e,t){e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})}(e,o),Qe(K.fromDom(t[0])).each((function(t){return ht(e,t.dom,{structure:i,style:a})}))}}(e,t,n,r),e.focus()}))},zo=function(e){var t=Tn(Wt(e),kn.selected);if(0!==t.length){var n=B(t,(function(t){return function(e,t,n){var o=e.dom;return r({height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:So(t),align:Co(e,t)},n?yo(t):{})}(e,t.dom,Rt(e))})),o=xo(n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Do(e)},to(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Do(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Rt(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:x(No,e,B(t,(function(e){return e.dom})),o)})}},Po=function(e,t,n){var o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Mt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Lo=function e(t,n,o,r){if("TD"===n.tagName||"TH"===n.tagName)c(o)?t.setStyle(n,o,r):t.setStyles(n,o);else if(n.children)for(var i=0;i<n.children.length;i++)e(t,n.children[i],o,r)},Fo=function(e,t,n,o){var i=e.dom,a=o.getData(),u=_(a,(function(e,t){return n[t]!==e}));o.close(),""===a.class&&delete a.class,e.undoManager.transact((function(){if(!t){var n=parseInt(a.cols,10)||1,o=parseInt(a.rows,10)||1;e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=On(Wt(e),Ut(e)).bind((function(t){return Qe(t,Ut(e))})).map((function(e){return e.dom})).getOrUndefined()}if(A(u)>0){!function(e,t,n){var o=e.dom,i={},a={};if(i.class=n.class,a.height=Gt(n.height),o.getAttrib(t,"width")&&!zt(e)?i.width=function(e){return e?e.replace(/px$/,""):""}(n.width):a.width=Gt(n.width),zt(e)?(a["border-width"]=Gt(n.border),a["border-spacing"]=Gt(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),zt(e)&&t.children)for(var u=0;u<t.children.length;u++)Lo(o,t.children[u],{"border-width":Gt(n.border),padding:Gt(n.cellpadding)}),Dt(e)&&Lo(o,t.children[u],{"border-color":n.bordercolor});Dt(e)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(r(r({},jt(e)),a)),o.setAttribs(t,r(r({},Tt(e)),i))}(e,t,a);var s=i.select("caption",t)[0];(s&&!a.caption||!s&&a.caption)&&e.execCommand("mceTableToggleCaption"),""===a.align?gt(e,t):pt(e,t,a.align)}if(e.focus(),e.addVisual(),A(u)>0){var c=D(u,"caption"),l=!c||A(u)>1;ht(e,t,{structure:c,style:l})}}))},Bo=function(e,t){var n,o=e.dom,i=function(e,t){var n=jt(e),o=Tt(e),i=t?{borderstyle:R(n,"border-style").getOr(""),bordercolor:bo(R(n,"border-color").getOr("")),backgroundcolor:bo(R(n,"background-color").getOr(""))}:{};return r(r(r(r(r(r({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),n),o),i),function(){var t=n["border-width"];return zt(e)&&t?{border:t}:R(o,"border").fold((function(){return{}}),(function(e){return{border:e}}))}()),function(){var e=R(n,"border-spacing").or(R(o,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),t=R(n,"border-padding").or(R(o,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}));return r(r({},e),t)}())}(e,Dt(e));!1===t?(n=o.getParent(e.selection.getStart(),"table",e.getBody()))?i=function(e,t,n){var o=e.dom,i=zt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=zt(e)?mt(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||mt(o,t,"padding");return r({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:i,cellpadding:a,border:function(t,n){var o=je(K.fromDom(n),"border-width");return zt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||mt(e.dom,n,"border-width")||mt(e.dom,n,"border")}(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Co(e,t)},n?yo(t):{})}(e,n,Dt(e)):Dt(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""):(i.cols="1",i.rows="1",Dt(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var a=Gn(Ft(e));a.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:Po(e,a,t)},s=Dt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},to(e,"table")]}:{type:"panel",items:[u]};e.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:x(Fo,e,n,i),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},qo=b,Io=function(e){var t=function(e,t){return Me(e,t).exists((function(e){return parseInt(e,10)>1}))};return e.length>0&&U(e,(function(e){return t(e,"rowspan")||t(e,"colspan")}))?k.some(e):k.none()},Ho=function(e,t,n){return t.length<=1?k.none():bn(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))},Vo=function(e){var t=Hn(k.none()),n=Hn([]),o=k.none(),r=re("caption"),i=function(e){return o.forall((function(t){return!t[e]}))},a=function(){return En(function(e){return K.fromDom(e.selection.getEnd())}(e),Ut(e))},u=function(){return En(Wt(e),Ut(e)).bind((function(t){return n=Pe(Qe(t),a().bind(Qe),(function(n,o){return ue(n,o)?r(t)?k.some(function(e){return{element:e,mergable:k.none(),unmergable:k.none(),selection:[e]}}(t)):k.some(function(e,t,n){return{element:n,mergable:Ho(t,e,kn),unmergable:Io(e),selection:qo(e)}}(_n(e),n,t)):k.none()})),n.bind(b);var n}))},s=function(e){return Qe(e.element).map((function(t){var n=ut(t),o=lo(n,e).getOr([]),r=H(o,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:mo(n,e).isSome(),unmergeable:po(n,e).isSome(),locked:r}}))},c=function(){t.set(function(e){var t,n=!1;return function(){if(!n){n=!0;for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=e.apply(null,r)}return t}}(u)()),o=t.get().bind(s),q(n.get(),(function(e){return e()}))},l=function(e){return e(),n.set(n.get().concat([e])),function(){n.set(I(n.get(),(function(t){return t!==e})))}},d=function(e,n){return l((function(){return t.get().fold((function(){e.setEnabled(!1)}),(function(t){e.setEnabled(!n(t))}))}))},f=function(e,n,o){return l((function(){return t.get().fold((function(){e.setEnabled(!1),e.setActive(!1)}),(function(t){e.setEnabled(!n(t)),e.setActive(o(t))}))}))},m=function(e){return o.exists((function(t){return t.locked[e]}))},p=function(t,n){return function(o){return f(o,(function(e){return r(e.element)}),(function(){return e.queryCommandValue(t)===n}))}},g=p("mceTableRowType","header"),h=p("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:function(e){return d(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return d(e,(function(e){return r(e.element)}))},onSetupColumn:function(e){return function(t){return d(t,(function(t){return r(t.element)||m(e)}))}},onSetupPasteable:function(e){return function(t){return d(t,(function(t){return r(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return d(n,(function(n){return r(n.element)||e().isNone()||m(t)}))}},onSetupMergeable:function(e){return d(e,(function(e){return i("mergeable")}))},onSetupUnmergeable:function(e){return d(e,(function(e){return i("unmergeable")}))},resetTargets:c,onSetupTableWithCaption:function(t){return f(t,w,(function(t){return Qe(t.element,Ut(e)).exists((function(e){return Oe(e,"caption").isSome()}))}))},onSetupTableRowHeaders:g,onSetupTableColumnHeaders:h,targets:t.get}},jo=tinymce.util.Tools.resolve("tinymce.FakeClipboard"),Uo=function(e){var t,n=null!==(t=jo.read())&&void 0!==t?t:[];return W(n,(function(t){return k.from(t.getType(e))}))},Go=function(){return Uo("x-tinymce/dom-table-rows")},Wo=function(){return Uo("x-tinymce/dom-table-columns")},$o=function(e){var t=Vo(e);!function(e){var t=e.options.register;t("table_border_widths",{processor:"object[]",default:Ct}),t("table_border_styles",{processor:"object[]",default:kt}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!wt.deviceType.isTouch()}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})}(e),function(e){O({mceTableProps:x(Bo,e,!1),mceTableRowProps:x(zo,e),mceTableCellProps:x(Ao,e)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTableDialog",(function(t){Bo(e,!0)}))}(e),function(e,t){var n=function(t){return function(){return e.execCommand(t)}},o=function(t,o){return!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,r(r({},o),{},{onAction:p(o.onAction)?o.onAction:n(o.command)})),!0)},i=function(t,o){e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,r(r({},o),{},{onAction:p(o.onAction)?o.onAction:n(o.command)}))},a=function(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},u=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Go)})],s=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Wo,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Wo,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Nt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}]}}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog")}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog")}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),P(u,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:v("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),P(s,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:v("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),P(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:v("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold(v(""),(function(e){return"caption"===Y(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var l=Kn(Ft(e));0!==l.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Wn(e,l,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)}))},onSetup:t.onSetupTable});var d=Kn(Pt(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Wn(e,d,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Wn(e,An,"tablecellverticalalign",$n(e,"vertical-align"))},onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Wn(e,Ot(e),"tablecellborderwidth",$n(e,"border-width"))},onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Wn(e,_t(e),"tablecellborderstyle",$n(e,"border-style"))},onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return Yn(e,qt(e),"background-color")},onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return Yn(e,It(e),"border-color")},onSetup:t.onSetupCellOrRow})),i("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),i("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Xn(e),onSetup:t.onSetupTableRowHeaders}),i("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qn(e),onSetup:t.onSetupTableRowHeaders})}(e,t),function(e,t){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var n=function(t){return function(){return e.execCommand(t)}},o=function(t,o){e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,r(r({},o),{},{onAction:p(o.onAction)?o.onAction:n(o.command)}))},i=function(t,o){e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,r(r({},o),{},{onAction:p(o.onAction)?o.onAction:n(o.command)}))};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Go)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Wo,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Wo,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});var a=Kn(Ft(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jn(e,a,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)})),onSetup:t.onSetupTable});var u=Kn(Pt(e));0!==u.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jn(e,u,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jn(e,An,"tablecellverticalalign",$n(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jn(e,Ot(e),"tablecellborderwidth",$n(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jn(e,_t(e),"tablecellborderstyle",$n(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(Yn(e,qt(e),"background-color"))},onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(Yn(e,It(e),"border-color"))},onSetup:t.onSetupCellOrRow})),i("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),i("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Xn(e),onSetup:t.onSetupTableRowHeaders}),i("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qn(e),onSetup:t.onSetupTableColumnHeaders})}(e,t),function(e){var t=Bt(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})}(e)};t.add("table",$o)}()},5278:function(e,t,n){n(1590)},1590:function(e,t,n){var o=n(4575).default,r=n(3913).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name}(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},i=n("string"),a=n("object"),u=n("array"),s=(e="function",function(t){return typeof t===e});var c,l=(c=!1,function(){return c}),d=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function(e){return function(t){return t.options.get(e)}},m=function(e){var t=e.options.register;t("template_cdate_classes",{processor:"string",default:"cdate"}),t("template_mdate_classes",{processor:"string",default:"mdate"}),t("template_selected_content_classes",{processor:"string",default:"selcontent"}),t("template_preview_replace_values",{processor:"object"}),t("template_replace_values",{processor:"object"}),t("templates",{processor:function(e){return i(e)||function(e,t){if(u(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1}(e,a)||s(e)}}),t("template_cdate_format",{processor:"string",default:e.translate("%Y-%m-%d")}),t("template_mdate_format",{processor:"string",default:e.translate("%Y-%m-%d")})},p=f("template_cdate_classes"),g=f("template_mdate_classes"),h=f("template_selected_content_classes"),v=f("template_preview_replace_values"),b=f("template_replace_values"),y=f("templates"),x=f("template_cdate_format"),w=f("template_mdate_format"),C=f("content_style"),k=f("content_css_cors"),S=f("body_class"),E=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" ");return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",E(n.getMonth()+1,2))).replace("%d",E(n.getDate(),2))).replace("%H",""+E(n.getHours(),2))).replace("%M",""+E(n.getMinutes(),2))).replace("%S",""+E(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(a[n.getMonth()]))).replace("%b",""+e.translate(i[n.getMonth()]))).replace("%A",""+e.translate(r[n.getDay()]))).replace("%a",""+e.translate(o[n.getDay()]))).replace("%%","%")},_=function(e,t){return d.each(t,(function(t,n){s(t)&&(t=t(n)),e=e.replace(new RegExp("\\{\\$"+n+"\\}","g"),t)})),e},T=function(e,t){var n=e.dom,o=b(e);d.each(n.select("*",t),(function(e){d.each(o,(function(t,o){n.hasClass(e,o)&&s(t)&&t(e)}))}))},A=function(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)},R=function(e,t,n){var o=e.dom,r=e.selection.getContent();n=_(n,b(e));var i=o.create("div",null,n),a=o.select(".mceTmpl",i);a&&a.length>0&&(i=o.create("div",null)).appendChild(a[0].cloneNode(!0)),d.each(o.select("*",i),(function(t){A(t,p(e).replace(/\s+/g,"|"))&&(t.innerHTML=O(e,x(e))),A(t,g(e).replace(/\s+/g,"|"))&&(t.innerHTML=O(e,w(e))),A(t,h(e).replace(/\s+/g,"|"))&&(t.innerHTML=r)})),T(e,i),e.execCommand("mceInsertContent",!1,i.innerHTML),e.addVisual()},D=function(){function e(t,n){o(this,e),this.tag=t,this.value=n}return r(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return function(e){return null===e||void 0===e}(t)?e.none():e.some(t)}}]),e}();D.singletonNone=new D(!1);var M=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return D.some(i);if(n(i,o))break}return D.none()}(e,t,l)},N=tinymce.util.Tools.resolve("tinymce.Env"),z=Object.hasOwnProperty,P=function(e,t){return z.call(e,t)},L={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},F=function(e){return e.replace(/["'<>&]/g,(function(e){return(t=L,n=e,P(t,n)?D.from(t[n]):D.none()).getOr(e);var t,n}))},B=function(e,t){var n=function(e){return function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o}(e,(function(e){return{text:e.text,value:e.text}}))},o=function(e,t){return M(e,(function(e){return e.text===t}))},r=function(t){e.windowManager.alert("Could not load the specified template.",(function(){return t.focus("template")}))},i=function(e){return e.value.url.fold((function(){return Promise.resolve(e.value.content.getOr(""))}),(function(e){return fetch(e).then((function(e){return e.ok?e.text():Promise.reject()}))}))},a=function(e,t){return function(n,a){if("template"===a.name){var u=n.getData().template;o(e,u).each((function(e){n.block("Loading..."),i(e).then((function(o){t(n,e,o)})).catch((function(){t(n,e,""),n.setEnabled("save",!1),r(n)}))}))}}},u=function(t){return function(n){var a=n.getData();o(t,a.template).each((function(t){i(t).then((function(t){e.execCommand("mceInsertTemplate",!1,t),n.close()})).catch((function(){n.setEnabled("save",!1),r(n)}))}))}};(function(){if(!t||0===t.length){var n=e.translate("No templates defined.");return e.notificationManager.open({text:n,type:"info"}),D.none()}return D.from(d.map(t,(function(e,t){var n=function(e){return void 0!==e.url};return{selected:0===t,text:e.title,value:{url:n(e)?D.from(e.url):D.none(),content:n(e)?D.none():D.from(e.content),description:e.description}}})))})().each((function(t){var o=n(t),s=function(e,n){return{title:"Insert Template",size:"large",body:{type:"panel",items:e},initialData:n,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:u(t),onChange:a(t,c)}},c=function(t,n,r){var i=function(e,t){var n;if(-1===t.indexOf("<html>")){var o="",r=null!==(n=C(e))&&void 0!==n?n:"",i=k(e)?' crossorigin="anonymous"':"";d.each(e.contentCSS,(function(t){o+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'"'+i+">"})),r&&(o+='<style type="text/css">'+r+"</style>");var a=S(e),u=e.dom.encode,s='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(N.os.isMacOS()||N.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",c=e.getBody().dir,l=c?' dir="'+u(c)+'"':"";t='<!DOCTYPE html><html><head><base href="'+u(e.documentBaseURI.getURI())+'">'+o+s+'</head><body class="'+u(a)+'"'+l+">"+t+"</body></html>"}return _(t,v(e))}(e,r),a=[{type:"selectbox",name:"template",label:"Templates",items:o},{type:"htmlpanel",html:'<p aria-live="polite">'.concat(F(n.value.description),"</p>")},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],u={template:n.text,preview:i};t.unblock(),t.redial(s(a,u)),t.focus("template")},l=e.windowManager.open(s([],{template:"",preview:""}));l.block("Loading..."),i(t[0]).then((function(e){c(l,t[0],e)})).catch((function(){c(l,t[0],""),l.setEnabled("save",!1),r(l)}))}))},q=function(e){e.addCommand("mceInsertTemplate",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=n.concat(o);return e.apply(null,i)}}(R,e)),e.addCommand("mceTemplate",function(e,t){return function(){var n=y(e);s(n)?n(t):i(n)?fetch(n).then((function(e){e.ok&&e.json().then(t)})):t(n)}}(e,function(e){return function(t){B(e,t)}}(e)))};t.add("template",(function(e){m(e),function(e){var t=function(){return e.execCommand("mceTemplate")};e.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:t}),e.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:t})}(e),q(e),function(e){e.on("PreProcess",(function(t){var n=e.dom,o=w(e);d.each(n.select("div",t.node),(function(t){n.hasClass(t,"mceTmpl")&&(d.each(n.select("*",t),(function(t){n.hasClass(t,g(e).replace(/\s+/g,"|"))&&(t.innerHTML=O(e,o))})),T(e,t))}))}))}(e)}))}()},499:function(e,t,n){n(4661)},4661:function(e,t,n){var o=n(1109).default;!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=(e=null,function(t){return e===t}),r=function(e){return e},i="[-'\\.\u2018\u2019\u2024\ufe52\uff07\uff0e]",a="[:\xb7\xb7\u05f4\u2027\ufe13\ufe55\uff1a]",u="[\xb1+*/,;;\u0589\u060c\u060d\u066c\u07f8\u2044\ufe10\ufe14\ufe50\ufe54\uff0c\uff1b]",s="[0-9\u0660-\u0669\u066b\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9]",c="\\r",l="\\n",d="[\v\f\x85\u2028\u2029]",f="[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1baa\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]",m="[\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200e\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",p="[\u3031-\u3035\u309b\u309c\u30a0-\u30fa\u30fc-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff9d]",g="[=_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f\u2200-\u22ff<>]",h="[!-#%-*,-\\/:;?@\\[-\\]_{}\xa1\xab\xb7\xbb\xbf;\xb7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]",v=0,b=1,y=2,x=3,w=4,C=5,k=6,S=7,E=8,O=9,_=10,T=11,A=12,R=13,D=[new RegExp("[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f3\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u303b\u303c\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790\ua791\ua7a0-\ua7a9\ua7fa-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),new RegExp(i),new RegExp(a),new RegExp(u),new RegExp(s),new RegExp(c),new RegExp(l),new RegExp(d),new RegExp(f),new RegExp(m),new RegExp(p),new RegExp(g),new RegExp("@")],M=new RegExp("^"+h+"$"),N=D,z=R,P=function(e){for(var t=z,n=N.length,o=0;o<n;++o){var r=N[o];if(r&&r.test(e)){t=o;break}}return t},L=function(e){return function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o}(e,function(e){var t={};return function(n){if(t[n])return t[n];var o=e(n);return t[n]=o,o}}(P))},F=function(e,t){var n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===v&&o===v)return!1;var r=e[t+2];if(n===v&&(o===y||o===b||o===A)&&r===v)return!1;var i=e[t-1];return(n!==y&&n!==b&&o!==A||o!==v||i!==v)&&((n!==w&&n!==v||o!==w&&o!==v)&&((n!==x&&n!==b||o!==w||i!==w)&&((n!==w||o!==x&&o!==b||r!==w)&&(n!==E&&n!==O&&i!==E&&i!==O&&o!==E&&o!==O&&((n!==C||o!==k)&&(n===S||n===C||n===k||(o===S||o===C||o===k||(n!==_||o!==_)&&((o!==T||n!==v&&n!==w&&n!==_&&n!==T)&&((n!==T||o!==v&&o!==w&&o!==_)&&n!==A)))))))))},B=/^\s+$/,q=M,I=function(e){return"http"===e||"https"===e},H=function(e,t){var n=function(e,t){var n;for(n=t;n<e.length&&!B.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},V=function(e,t,n){n=o(o({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var r=[],i=[],a=0;a<e.length;a++){var u=t(e[a]);"\ufeff"!==u&&(r.push(e[a]),i.push(u))}return function(e,t,n,o){for(var r=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),F(n,a)){var u=t[a];if((o.includeWhitespace||!B.test(u))&&(o.includePunctuation||!q.test(u))){var s=a-i.length+1,c=a+1,l=t.slice(s,c).join("");if(I(l)){var d=H(t,a),f=e.slice(c,d);Array.prototype.push.apply(i,f),a=d}r.push(i)}i=[]}return r}(r,i,L(i),n)},j=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),U=function(e,t){for(var n=t.getBlockElements(),o=t.getVoidElements(),r=function(e){return n[e.nodeName]||o[e.nodeName]},i=[],a="",u=new j(e,e);e=u.next();)3===e.nodeType?a+=e.data.replace(/\uFEFF/g,""):r(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},G=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},W=function(e,t){var n=function(e){return e.replace(/\u200B/g,"")}(U(e,t).join("\n"));return V(n.split(""),r).length},$=function(e,t){var n=U(e,t).join("");return G(n)},K=function(e,t){var n=U(e,t).join("").replace(/\s/g,"");return G(n)},J=function(e,t){return function(){return t(e.getBody(),e.schema)}},Y=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},X=function(e){return J(e,W)},Q=function(e){return{body:{getWordCount:X(e),getCharacterCount:J(e,$),getCharacterCountWithoutSpaces:J(e,K)},selection:{getWordCount:Y(e,W),getCharacterCount:Y(e,$),getCharacterCountWithoutSpaces:Y(e,K)},getCount:X(e)}},Z=function(e,t){e.addCommand("mceWordCount",(function(){return function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})}(e,t)}))},ee=tinymce.util.Tools.resolve("tinymce.util.Delay"),te=function(e,t){!function(e,t){e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}(e,t)},ne=function(e,t,o){var r=function(e,t){var o=null;return{cancel:function(){n(o)||(clearTimeout(o),o=null)},throttle:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n(o)&&(o=setTimeout((function(){o=null,e.apply(null,i)}),t))}}}((function(){return te(e,t)}),o);e.on("init",(function(){te(e,t),ee.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))},oe=function(e){var t=function(){return e.execCommand("mceWordCount")};e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;t.add("wordcount",(function(t){var n=Q(t);return Z(t,n),oe(t),ne(t,n,e),n}))}()}()},3342:function(e,t,n){n(9340)},9340:function(e,t,n){var o=n(6479).default,r=n(1109).default,i=n(9713).default,a=n(319).default,u=n(3269).default,s=n(4575).default,c=n(3913).default,l=["class","style"],d=["events"],f=["attributes"],m=["primary"],p=["primary"];!function(){"use strict";var e,t=Object.getPrototypeOf,n=function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},g=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&n(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},h=function(e){return function(t){return typeof t===e}},v=function(e){return function(t){return e===t}},b=g("string"),y=g("object"),x=function(e){return function(e,o){return y(e)&&n(e,o,(function(e,n){return t(e)===n}))}(e,Object)},w=g("array"),C=v(null),k=h("boolean"),S=v(void 0),E=function(e){return null===e||void 0===e},O=function(e){return!E(e)},_=h("function"),T=h("number"),A=function(e,t){if(w(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},R=function(){},D=function(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e(t.apply(null,o))}},M=function(e){return function(){return e}},N=function(e){return e},z=function(e,t){return e===t};function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=n.concat(o);return e.apply(null,i)}}var L=function(e){return function(t){return!e(t)}},F=function(e){return function(){throw new Error(e)}},B=function(e){return e()},q=M(!1),I=M(!0),H=tinymce.util.Tools.resolve("tinymce.ThemeManager"),V=function(){function e(t,n){s(this,e),this.tag=t,this.value=n}return c(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return O(t)?e.some(t):e.none()}}]),e}();V.singletonNone=new V(!1);var j=Array.prototype.slice,U=Array.prototype.indexOf,G=Array.prototype.push,W=function(e,t){return U.call(e,t)},$=function(e,t){var n=W(e,t);return-1===n?V.none():V.some(n)},K=function(e,t){return W(e,t)>-1},J=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},Y=function(e,t){for(var n=[],o=0;o<e;o++)n.push(t(o));return n},X=function(e,t){for(var n=[],o=0;o<e.length;o+=t){var r=j.call(e,o,o+t);n.push(r)}return n},Q=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},Z=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},ee=function(e,t){for(var n=[],o=[],r=0,i=e.length;r<i;r++){var a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}},te=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},ne=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(e,(function(e,o){n=t(n,e,o)})),n},oe=function(e,t,n){return Z(e,(function(e,o){n=t(n,e,o)})),n},re=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return V.some(i);if(n(i,o))break}return V.none()}(e,t,q)},ie=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return V.some(n)}return V.none()},ae=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);G.apply(t,e[n])}return t},ue=function(e,t){return ae(Q(e,t))},se=function(e,t){for(var n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},ce=function(e){var t=j.call(e,0);return t.reverse(),t},le=function(e,t){return te(e,(function(e){return!K(t,e)}))},de=function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var i=e[o];n[String(i)]=t(i,o)}return n},fe=function(e){return[e]},me=function(e,t){var n=j.call(e,0);return n.sort(t),n},pe=function(e,t){return t>=0&&t<e.length?V.some(e[t]):V.none()},ge=function(e){return pe(e,0)},he=function(e){return pe(e,e.length-1)},ve=_(Array.from)?Array.from:function(e){return j.call(e)},be=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return V.none()},ye=Object.keys,xe=Object.hasOwnProperty,we=function(e,t){for(var n=ye(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},Ce=function(e,t){return ke(e,(function(e,n){return{k:n,v:t(e,n)}}))},ke=function(e,t){var n={};return we(e,(function(e,o){var r=t(e,o);n[r.k]=r.v})),n},Se=function(e){return function(t,n){e[n]=t}},Ee=function(e,t,n,o){return we(e,(function(e,r){(t(e,r)?n:o)(e,r)})),{}},Oe=function(e,t){var n=[];return we(e,(function(e,o){n.push(t(e,o))})),n},_e=function(e,t){for(var n=ye(e),o=0,r=n.length;o<r;o++){var i=n[o],a=e[i];if(t(a,i,e))return V.some(a)}return V.none()},Te=function(e){return Oe(e,N)},Ae=function(e,t){return Re(e,t)?V.from(e[t]):V.none()},Re=function(e,t){return xe.call(e,t)},De=function(e,t){return Re(e,t)&&void 0!==e[t]&&null!==e[t]},Me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;return e.exists((function(e){return n(e,t)}))},Ne=function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t},ze=function(e,t,n){return e.isSome()&&t.isSome()?V.some(n(e.getOrDie(),t.getOrDie())):V.none()},Pe=function(e,t){return e?V.some(t):V.none()},Le=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Fe=function(e,t){return-1!==e.indexOf(t)},Be=function(e,t){return Le(e,t,0)},qe=function(e,t){return Le(e,t,e.length-t.length)},Ie=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),He=function(e){return e.length>0},Ve=function(e){return void 0!==e.style&&_(e.style.getPropertyValue)},je=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ue={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return je(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return je(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return je(n)},fromDom:je,fromPoint:function(e,t,n){return V.from(e.dom.elementFromPoint(t,n)).map(je)}};"undefined"!==typeof window?window:Function("return this;")();var Ge,We=function(e){return e.dom.nodeName.toLowerCase()},$e=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},Ke=$e(1),Je=$e(3),Ye=$e(9),Xe=$e(11),Qe=function(e){return function(t){return Ke(t)&&We(t)===e}},Ze=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},et=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},tt=function(e,t){return e.dom===t.dom},nt=function(e,t){var n=e.dom,o=t.dom;return n!==o&&n.contains(o)},ot=function(e){return Ue.fromDom(e.dom.ownerDocument)},rt=function(e){return Ye(e)?e:ot(e)},it=function(e){return Ue.fromDom(rt(e).dom.documentElement)},at=function(e){return Ue.fromDom(rt(e).dom.defaultView)},ut=function(e){return V.from(e.dom.parentNode).map(Ue.fromDom)},st=function(e){return V.from(e.dom.parentElement).map(Ue.fromDom)},ct=function(e){return V.from(e.dom.offsetParent).map(Ue.fromDom)},lt=function(e){return Q(e.dom.childNodes,Ue.fromDom)},dt=function(e,t){var n=e.dom.childNodes;return V.from(n[t]).map(Ue.fromDom)},ft=function(e,t){return{element:e,offset:t}},mt=function(e,t){var n=lt(e);return n.length>0&&t<n.length?ft(n[t],0):ft(e,t)},pt=function(e){return Xe(e)&&O(e.dom.host)},gt=_(Element.prototype.attachShadow)&&_(Node.prototype.getRootNode),ht=M(gt),vt=gt?function(e){return Ue.fromDom(e.dom.getRootNode())}:rt,bt=function(e){return pt(e)?e:Ue.fromDom(rt(e).dom.body)},yt=function(e){var t=vt(e);return pt(t)?V.some(t):V.none()},xt=function(e){return Ue.fromDom(e.dom.host)},wt=function(e){return O(e.dom.shadowRoot)},Ct=function e(t){var n=Je(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var o,r,i=n.ownerDocument;return yt(Ue.fromDom(n)).fold((function(){return i.body.contains(n)}),(o=e,r=xt,function(e){return o(r(e))}))},kt=function(){return St(Ue.fromDom(document))},St=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Ue.fromDom(t)},Et=function(e,t,n){if(!(b(n)||k(n)||T(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ot=function(e,t,n){Et(e.dom,t,n)},_t=function(e,t){var n=e.dom;we(t,(function(e,t){Et(n,t,e)}))},Tt=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},At=function(e,t){return V.from(Tt(e,t))},Rt=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Dt=function(e,t){e.dom.removeAttribute(t)},Mt=function(e,t,n){if(!b(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ve(e)&&e.style.setProperty(t,n)},Nt=function(e,t){Ve(e)&&e.style.removeProperty(t)},zt=function(e,t,n){var o=e.dom;Mt(o,t,n)},Pt=function(e,t){var n=e.dom;we(t,(function(e,t){Mt(n,t,e)}))},Lt=function(e,t){var n=e.dom;we(t,(function(e,t){e.fold((function(){Nt(n,t)}),(function(e){Mt(n,t,e)}))}))},Ft=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ct(e)?o:Bt(n,t)},Bt=function(e,t){return Ve(e)?e.style.getPropertyValue(t):""},qt=function(e,t){var n=e.dom,o=Bt(n,t);return V.from(o).filter((function(e){return e.length>0}))},It=function(e){var t={},n=e.dom;if(Ve(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);t[r]=n.style[r]}return t},Ht=function(e,t,n){var o=Ue.fromTag(e);return zt(o,t,n),qt(o,t).isSome()},Vt=function(e,t){var n=e.dom;Nt(n,t),Me(At(e,"style").map(Ie),"")&&Dt(e,"style")},jt=function(e){return e.dom.offsetWidth},Ut=function(e,t){var n=function(n){var o=t(n);if(o<=0||null===o){var r=Ft(n,e);return parseFloat(r)||0}return o},o=function(e,t){return oe(t,(function(t,n){var o=Ft(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0)};return{set:function(t,n){if(!T(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var o=t.dom;Ve(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(e,t,n){var r=o(e,n);return t>r?t-r:0}}},Gt=Ut("height",(function(e){var t=e.dom;return Ct(e)?t.getBoundingClientRect().height:t.offsetHeight})),Wt=function(e){return Gt.get(e)},$t=function(e){return Gt.getOuter(e)},Kt=function e(t,n){return{left:t,top:n,translate:function(o,r){return e(t+o,n+r)}}},Jt=function(e,t){return void 0!==e?e:void 0!==t?t:0},Yt=function(e){var t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Kt(n.offsetLeft,n.offsetTop);var i=Jt(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),a=Jt(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),u=Jt(r.clientTop,n.clientTop),s=Jt(r.clientLeft,n.clientLeft);return Xt(e).translate(a-s,i-u)},Xt=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Kt(n.offsetLeft,n.offsetTop):Ct(e)?function(e){var t=e.getBoundingClientRect();return Kt(t.left,t.top)}(t):Kt(0,0)},Qt=Ut("width",(function(e){return e.dom.offsetWidth})),Zt=function(e){return Qt.get(e)},en=function(e){return Qt.getOuter(e)},tn=function(e){var t,n=!1;return function(){if(!n){n=!0;for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=e.apply(null,r)}return t}},nn=function(){return on(0,0)},on=function(e,t){return{major:e,minor:t}},rn={nu:on,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?nn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.test(t))return o}}(e,t);if(!n)return{major:0,minor:0};var o=function(e){return Number(t.replace(n,"$"+e))};return on(o(1),o(2))}(e,n)},unknown:nn},an=function(e,t){var n=String(t).toLowerCase();return re(e,(function(e){return e.search(n)}))},un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=function(e){return function(t){return Fe(t,e)}},cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Fe(e,"edge/")&&Fe(e,"chrome")&&Fe(e,"safari")&&Fe(e,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,un],search:function(e){return Fe(e,"chrome")&&!Fe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Fe(e,"msie")||Fe(e,"trident")}},{name:"Opera",versionRegexes:[un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Fe(e,"safari")||Fe(e,"mobile/"))&&Fe(e,"applewebkit")}}],ln=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Fe(e,"iphone")||Fe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:M(cn),oses:M(ln)},fn="Edge",mn="Chromium",pn="Opera",gn="Firefox",hn="Safari",vn=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:o(fn),isChromium:o(mn),isIE:o("IE"),isOpera:o(pn),isFirefox:o(gn),isSafari:o(hn)}},bn={unknown:function(){return vn({current:void 0,version:rn.unknown()})},nu:vn,edge:M(fn),chromium:M(mn),ie:M("IE"),opera:M(pn),firefox:M(gn),safari:M(hn)},yn="Windows",xn="Android",wn="Linux",Cn="macOS",kn="Solaris",Sn="FreeBSD",En="ChromeOS",On=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:o(yn),isiOS:o("iOS"),isAndroid:o(xn),isMacOS:o(Cn),isLinux:o(wn),isSolaris:o(kn),isFreeBSD:o(Sn),isChromeOS:o(En)}},_n={unknown:function(){return On({current:void 0,version:rn.unknown()})},nu:On,windows:M(yn),ios:M("iOS"),android:M(xn),linux:M(wn),macos:M(Cn),solaris:M(kn),freebsd:M(Sn),chromeos:M(En)},Tn=function(e,t,n){var o=dn.browsers(),r=dn.oses(),i=t.bind((function(e){return function(e,t){return be(t.brands,(function(t){var n=t.brand.toLowerCase();return re(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:rn.nu(parseInt(t.version,10),0)}}))}))}(o,e)})).orThunk((function(){return function(e,t){return an(e,t).map((function(e){var n=rn.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e)})).fold(bn.unknown,bn.nu),a=function(e,t){return an(e,t).map((function(e){var n=rn.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e).fold(_n.unknown,_n.nu),u=function(e,t,n,o){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||o("(pointer:coarse)"),s=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!s&&!l;return{isiPad:M(r),isiPhone:M(i),isTablet:M(s),isPhone:M(c),isTouch:M(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:M(l),isDesktop:M(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:u}},An=function(e){return window.matchMedia(e).matches},Rn=tn((function(){return Tn(navigator.userAgent,V.from(navigator.userAgentData),An)})),Dn=function(){return Rn()},Mn=function(e){var t=Ue.fromDom(function(e){if(ht()&&O(e.target)){var t=Ue.fromDom(e.target);if(Ke(t)&&wt(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ge(n)}}return V.from(e.target)}(e).getOr(e.target)),n=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},r=D(o,n);return function(e,t,n,o,r,i,a){return{target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}}(t,e.clientX,e.clientY,n,o,r,e)},Nn=function(e,t,n,o,r){var i=function(e,t){return function(n){e(n)&&t(Mn(n))}}(n,o);return e.dom.addEventListener(t,i,r),{unbind:P(zn,e,t,i,r)}},zn=function(e,t,n,o){e.dom.removeEventListener(t,n,o)},Pn=function(e,t){ut(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Ln=function(e,t){var n=function(e){return V.from(e.dom.nextSibling).map(Ue.fromDom)}(e);n.fold((function(){ut(e).each((function(e){Bn(e,t)}))}),(function(e){Pn(e,t)}))},Fn=function(e,t){var n=function(e){return dt(e,0)}(e);n.fold((function(){Bn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Bn=function(e,t){e.dom.appendChild(t.dom)},qn=function(e,t){Z(t,(function(t){Bn(e,t)}))},In=function(e){e.dom.textContent="",Z(lt(e),(function(e){Hn(e)}))},Hn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Vn=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Kt(n,o)},jn=function(e,t,n){var o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Un=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},Gn=function(e){var t=void 0===e?window:e,n=t.document,o=Vn(Ue.fromDom(n));return function(e){var t=void 0===e?window:e;return Dn().browser.isFirefox()?V.none():V.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Un(o.left,o.top,n,r)}),(function(e){return Un(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)}))},Wn=function(){return Ue.fromDom(document)},$n=function e(t,n){return t.view(n).fold(M([]),(function(n){var o=t.owner(n),r=e(t,o);return[n].concat(r)}))},Kn=function(e,t){var n=t.owner(e),o=$n(t,n);return V.some(o)},Jn=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?V.none():V.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Ue.fromDom)},owner:function(e){return ot(e)}}),Yn=function(e){var t=Wn(),n=Vn(t);return Kn(e,Jn).fold(P(Yt,e),(function(t){var o=Xt(e),r=ne(t,(function(e,t){var n=Xt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Kt(r.left+o.left+n.left,r.top+o.top+n.top)}))},Xn=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},Qn=function(e){var t=Yt(e),n=en(e),o=$t(e);return Xn(t.left,t.top,n,o)},Zn=function(e){var t=Yn(e),n=en(e),o=$t(e);return Xn(t.left,t.top,n,o)},eo=function(){return Gn(window)},to=function(e){var t=function(t){return t(e)},n=M(e),o=function(){return r},r={tag:!0,inner:e,fold:function(t,n){return n(e)},isValue:I,isError:q,map:function(t){return oo.value(t(e))},mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:function(t){t(e)},toOptional:function(){return V.some(e)}};return r},no=function(e){var t=function(){return n},n={tag:!1,inner:e,fold:function(t,n){return t(e)},isValue:q,isError:I,map:t,mapError:function(t){return oo.error(t(e))},bind:t,exists:q,forall:I,getOr:N,or:N,getOrThunk:B,orThunk:B,getOrDie:F(String(e)),each:R,toOptional:V.none};return n},oo={value:to,error:no,fromOption:function(e,t){return e.fold((function(){return no(t)}),to)}};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Ge||(Ge={}));var ro=function(e,t,n){return e.stype===Ge.Error?t(e.serror):n(e.svalue)},io=function(e){return{stype:Ge.Value,svalue:e}},ao=function(e){return{stype:Ge.Error,serror:e}},uo=function(e){return e.fold(ao,io)},so=function(e){return ro(e,oo.error,oo.value)},co=io,lo=function(e){var t=[],n=[];return Z(e,(function(e){ro(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},fo=ao,mo=function(e,t){return e.stype===Ge.Value?t(e.svalue):e},po=function(e,t){return e.stype===Ge.Error?t(e.serror):e},go=function(e,t){return e.stype===Ge.Value?{stype:Ge.Value,svalue:t(e.svalue)}:e},ho=function(e,t){return e.stype===Ge.Error?{stype:Ge.Error,serror:t(e.serror)}:e},vo=ro,bo=function(e,t,n,o){return{tag:"field",key:e,newKey:t,presence:n,prop:o}},yo=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},xo=function(e){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var t={},n=0;n<arguments.length;n++){var o=n<0||arguments.length<=n?void 0:arguments[n];for(var r in o)Re(o,r)&&(t[r]=e(t[r],o[r]))}return t}},wo=xo((function(e,t){return x(e)&&x(t)?wo(e,t):t})),Co=xo((function(e,t){return t})),ko=function(e){return{tag:"defaultedThunk",process:e}},So=function(e){return ko(M(e))},Eo=function(e){return{tag:"mergeWithThunk",process:e}},Oo=function(e){return D(fo,ae)(e)},_o=function(e){var t=lo(e);return t.errors.length>0?Oo(t.errors):co(t.values)},To=function(e){return y(e)&&ye(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Ao=function(e,t){return fo([{path:e,getErrorInfo:t}])},Ro=function(e){return{extract:function(t,n){return po(e(n),(function(e){return function(e,t){return Ao(e,M(t))}(t,e)}))},toString:M("val")}},Do=Ro(co),Mo=function(e,t,n,o){return Ae(t,n).fold((function(){return function(e,t,n){return Ao(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+To(n)}))}(e,n,t)}),o)},No=function(e,t,n,o){return o(Ae(e,t).getOrThunk((function(){return n(e)})))},zo=function(e,t,n,o,r){var i=function(e){return r.extract(t.concat([o]),e)},a=function(e){return e.fold((function(){return co(V.none())}),(function(e){var n=r.extract(t.concat([o]),e);return go(n,V.some)}))};switch(e.tag){case"required":return Mo(t,n,o,i);case"defaultedThunk":return No(n,o,e.process,i);case"option":return function(e,t,n){return n(Ae(e,t))}(n,o,a);case"defaultedOptionThunk":return function(e,t,n,o){return o(Ae(e,t).map((function(t){return!0===t?n(e):t})))}(n,o,e.process,a);case"mergeWithThunk":return No(n,o,M({}),(function(t){var o=wo(e.process(n),t);return i(o)}))}},Po=function(e){return{extract:function(t,n){return e().extract(t,n)},toString:function(){return e().toString()}}},Lo=function(e){return ye(function(e,t){var n={};return Ee(e,t,Se(n),R),n}(e,O))},Fo=function(e){var t=Bo(e),n=ne(e,(function(e,t){return yo(t,(function(t){return wo(e,i({},t,!0))}),M(e))}),{});return{extract:function(e,o){var r=k(o)?[]:Lo(o),i=te(r,(function(e){return!De(n,e)}));return 0===i.length?t.extract(e,o):function(e,t){return Ao(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,i)},toString:t.toString}},Bo=function(e){return{extract:function(t,n){return function(e,t,n){var o,r={},i=[],s=u(n);try{for(s.s();!(o=s.n()).done;){var c=o.value;yo(c,(function(n,o,u,s){var c=zo(u,e,t,n,s);vo(c,(function(e){i.push.apply(i,a(e))}),(function(e){r[o]=e}))}),(function(e,n){r[e]=n(t)}))}}catch(l){s.e(l)}finally{s.f()}return i.length>0?fo(i):co(r)}(t,n,e)},toString:function(){var t=Q(e,(function(e){return yo(e,(function(e,t,n,o){return e+" -> "+o.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"}}},qo=function(e){return{extract:function(t,n){var o=Q(n,(function(n,o){return e.extract(t.concat(["["+o+"]"]),n)}));return _o(o)},toString:function(){return"array("+e.toString()+")"}}},Io=function(e){return{extract:function(t,n){var o,r=[],i=u(e);try{for(i.s();!(o=i.n()).done;){var a=o.value.extract(t,n);if(a.stype===Ge.Value)return a;r.push(a)}}catch(s){i.e(s)}finally{i.f()}return _o(r)},toString:function(){return"oneOf("+Q(e,(function(e){return e.toString()})).join(", ")+")"}}},Ho=function(e,t){return{extract:function(n,o){var r=ye(o),i=function(t,n){return qo(Ro(e)).extract(t,n)}(n,r);return mo(i,(function(e){var r=Q(e,(function(e){return bo(e,e,{tag:"required",process:{}},t)}));return Bo(r).extract(n,o)}))},toString:function(){return"setOf("+t.toString()+")"}}},Vo=D(qo,Bo),jo=M(Do),Uo=function(e,t){return Ro((function(n){var o=typeof n;return e(n)?co(n):fo("Expected type: ".concat(t," but got: ").concat(o))}))},Go=Uo(T,"number"),Wo=Uo(b,"string"),$o=Uo(k,"boolean"),Ko=Uo(_,"function"),Jo=function e(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(n){return e(t[n])}));default:return!1}},Yo=Ro((function(e){return Jo(e)?co(e):fo("Expected value to be acceptable for sending via postMessage")})),Xo=function(e,t,n,o){return Ae(n,o).fold((function(){return function(e,t,n){return Ao(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+To(t)}))}(e,n,o)}),(function(n){return n.extract(e.concat(["branch: "+o]),t)}))},Qo=function(e,t){return{extract:function(n,o){return Ae(o,e).fold((function(){return function(e,t){return Ao(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return Xo(n,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+ye(t)}}},Zo=function(e){return Ro((function(t){return e(t).fold(fo,co)}))},er=function(e,t){return Ho((function(t){return uo(e(t))}),t)},tr=function(e,t,n){return so(function(e,t,n){var o=t.extract([e],n);return ho(o,(function(e){return{input:n,errors:e}}))}(e,t,n))},nr=function(e){return e.fold((function(e){throw new Error(rr(e))}),N)},or=function(e,t,n){return nr(tr(e,t,n))},rr=function(e){return"Errors: \n"+function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:M("... (only showing first ten failures)")}]):e;return Q(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))}(e.errors).join("\n")+"\n\nInput object: "+To(e.input)},ir=function(e,t){return Qo(e,Ce(t,Bo))},ar=bo,ur=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},sr=function(e){return Zo((function(t){return K(e,t)?oo.value(t):oo.error('Unsupported value: "'.concat(t,'", choose one of "').concat(e.join(", "),'".'))}))},cr=function(e){return ar(e,e,{tag:"required",process:{}},jo())},lr=function(e,t){return ar(e,e,{tag:"required",process:{}},t)},dr=function(e){return lr(e,Go)},fr=function(e){return lr(e,Wo)},mr=function(e,t){return ar(e,e,{tag:"required",process:{}},sr(t))},pr=function(e){return lr(e,Ko)},gr=function(e,t){return ar(e,e,{tag:"required",process:{}},Bo(t))},hr=function(e,t){return ar(e,e,{tag:"required",process:{}},Vo(t))},vr=function(e,t){return ar(e,e,{tag:"required",process:{}},qo(t))},br=function(e){return ar(e,e,{tag:"option",process:{}},jo())},yr=function(e,t){return ar(e,e,{tag:"option",process:{}},t)},xr=function(e){return yr(e,Go)},wr=function(e){return yr(e,Wo)},Cr=function(e,t){return yr(e,sr(t))},kr=function(e){return yr(e,Ko)},Sr=function(e,t){return yr(e,qo(t))},Er=function(e,t){return yr(e,Bo(t))},Or=function(e,t){return ar(e,e,So(t),jo())},_r=function(e,t,n){return ar(e,e,So(t),n)},Tr=function(e,t){return _r(e,t,Go)},Ar=function(e,t){return _r(e,t,Wo)},Rr=function(e,t,n){return _r(e,t,sr(n))},Dr=function(e,t){return _r(e,t,$o)},Mr=function(e,t){return _r(e,t,Ko)},Nr=function(e,t,n){return _r(e,t,qo(n))},zr=function(e,t,n){return _r(e,t,Bo(n))},Pr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Lr=function(e){if(!w(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Z(e,(function(o,r){var i=ye(o);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!w(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=o.length;if(s!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+s);var c=function(e){var n=ye(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!se(t,(function(e){return K(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,o)};return{fold:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+n.length);var a=n[r];return a.apply(null,o)},match:c,log:function(e){console.log(e,{constructors:t,constructor:a,params:o})}}}})),n};Lr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Fr,Br=function(e,t){return function(e,t){var n={};return we(e,(function(e,o){K(t,o)||(n[o]=e)})),n}(e,t)},qr=function(e,t){return function(e,t){return i({},e,t)}(e,t)},Ir=function(e){return function(e){var t={};return Z(e,(function(e){t[e.key]=e.value})),t}(e)},Hr=function(e,t){var n,o=function(e){var t=[],n=[];return Z(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(e);return o.errors.length>0?(n=o.errors,oo.error(ae(n))):function(e,t){return 0===e.length?oo.value(t):oo.value(wo(t,Co.apply(void 0,e)))}(o.values,t)},Vr=function(e){return _(e)?e:q},jr=function(e,t,n){for(var o=e.dom,r=Vr(n);o.parentNode;){o=o.parentNode;var i=Ue.fromDom(o),a=t(i);if(a.isSome())return a;if(r(i))break}return V.none()},Ur=function(e,t,n){var o=t(e),r=Vr(n);return o.orThunk((function(){return r(e)?V.none():jr(e,t,r)}))},Gr=function(e,t){return tt(e.element,t.event.target)},Wr={can:I,abort:q,run:R},$r=function(e){if(!De(e,"can")&&!De(e,"abort")&&!De(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return r(r({},Wr),e)},Kr=function(e){var t=function(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return oe(e,(function(e,n){return e&&t(n).apply(void 0,o)}),!0)}}(e,(function(e){return e.can})),n=function(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return oe(e,(function(e,n){return e||t(n).apply(void 0,o)}),!1)}}(e,(function(e){return e.abort}));return{can:t,abort:n,run:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];Z(e,(function(e){e.run.apply(void 0,n)}))}}},Jr=M,Yr=Jr("touchstart"),Xr=Jr("touchmove"),Qr=Jr("touchend"),Zr=Jr("touchcancel"),ei=Jr("mousedown"),ti=Jr("mousemove"),ni=Jr("mouseout"),oi=Jr("mouseup"),ri=Jr("mouseover"),ii=Jr("focusin"),ai=Jr("focusout"),ui=Jr("keydown"),si=Jr("keyup"),ci=Jr("input"),li=Jr("change"),di=Jr("click"),fi=Jr("transitioncancel"),mi=Jr("transitionend"),pi=Jr("transitionstart"),gi=Jr("selectstart"),hi=function(e){return M("alloy."+e)},vi={tap:hi("tap")},bi=hi("focus"),yi=hi("blur.post"),xi=hi("paste.post"),wi=hi("receive"),Ci=hi("execute"),ki=hi("focus.item"),Si=vi.tap,Ei=hi("longpress"),Oi=hi("sandbox.close"),_i=hi("typeahead.cancel"),Ti=hi("system.init"),Ai=hi("system.touchmove"),Ri=hi("system.touchend"),Di=hi("system.scroll"),Mi=hi("system.resize"),Ni=hi("system.attached"),zi=hi("system.detached"),Pi=hi("system.dismissRequested"),Li=hi("system.repositionRequested"),Fi=hi("focusmanager.shifted"),Bi=hi("slotcontainer.visibility"),qi=hi("change.tab"),Ii=hi("dismiss.tab"),Hi=hi("highlight"),Vi=hi("dehighlight"),ji=function(e,t){$i(e,e.element,t,{})},Ui=function(e,t,n){$i(e,e.element,t,n)},Gi=function(e){ji(e,Ci())},Wi=function(e,t,n){$i(e,t,n,{})},$i=function(e,t,n,o){var i=r({target:t},o);e.getSystem().triggerEvent(n,t,i)},Ki=function(e,t,n,o){e.getSystem().triggerEvent(n,t,o.event)},Ji=function(e){return Ir(e)},Yi=function(e,t){return{key:e,value:$r({abort:t})}},Xi=function(e){return{key:e,value:$r({run:function(e,t){t.event.prevent()}})}},Qi=function(e,t){return{key:e,value:$r({run:t})}},Zi=function(e,t,n){return{key:e,value:$r({run:function(e,o){t.apply(void 0,[e,o].concat(n))}})}},ea=function(e){return function(t){return{key:e,value:$r({run:function(e,n){Gr(e,n)&&t(e,n)}})}}},ta=function(e,t,n){return function(e,t){return Qi(e,(function(n,o){n.getSystem().getByUid(t).each((function(t){Ki(t,t.element,e,o)}))}))}(e,t.partUids[n])},na=function(e,t){return Qi(e,(function(e,n){var o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((function(){return Ur(o.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),q).getOr(e)}));t(e,r,n)}))},oa=function(e){return Qi(e,(function(e,t){t.cut()}))},ra=function(e){return Qi(e,(function(e,t){t.stop()}))},ia=function(e,t){return ea(e)(t)},aa=ea(Ni()),ua=ea(zi()),sa=ea(Ti()),ca=function(e){return function(t){return Qi(e,t)}}(Ci()),la=function(e){return e.dom.innerHTML},da=function(e,t){var n=ot(e).dom,o=Ue.fromDom(n.createDocumentFragment()),r=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,lt(Ue.fromDom(n))}(t,n);qn(o,r),In(e),Bn(e,o)},fa=function(e){return function(e,t){return Ue.fromDom(e.dom.cloneNode(t))}(e,!1)},ma=function(e){return pt(e)?"#shadow-root":function(e){var t=Ue.fromTag("div"),n=Ue.fromDom(e.dom.cloneNode(!0));return Bn(t,n),la(t)}(fa(e))},pa=function(e){return ma(e)},ga=Ji([function(e,t){return{key:e,value:$r({can:t})}}(bi(),(function(e,t){var n=t.event,o=n.originator,r=n.target;return!function(e,t,n){return tt(t,e.element)&&!tt(t,n)}(e,o,r)||(console.warn(bi()+" did not get interpreted by the desired target. \nOriginator: "+pa(o)+"\nTarget: "+pa(r)+"\nCheck the "+bi()+" event handlers"),!1)}))]),ha=Object.freeze({__proto__:null,events:ga}),va=0,ba=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++va+String(t)},ya=M("alloy-id-"),xa=M("data-alloy-id"),wa=ya(),Ca=xa(),ka=function(e,t){Object.defineProperty(e.dom,Ca,{value:t,writable:!0})},Sa=function(e){var t=Ke(e)?e.dom[Ca]:null;return V.from(t)},Ea=function(e){return ba(e)},Oa=N,_a=function(e){var t=function(t){return"The component must be in a context to execute: ".concat(t)+(e?"\n"+pa(e().element)+" is not in context.":"")},n=function(e){return function(){throw new Error(t(e))}},o=function(e){return function(){console.warn(t(e))}};return{debugInfo:M("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:q}},Ta=_a(),Aa=function(e){return Q(e,(function(e){return qe(e,"/*")?e.substring(0,e.length-"/*".length):e}))},Ra=function(e,t){var n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Aa(i)}},e},Da=ba("alloy-premade"),Ma=function(e){return Object.defineProperty(e.element.dom,Da,{value:e.uid,writable:!0}),qr(Da,e)},Na=function(e){return Ae(e,Da)},za=function(e){return function(e,t){var n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Aa(i.slice(1))}},e}((function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return e.apply(void 0,[t.getApis(),t].concat(o))}),e)},Pa={init:function(){return La({readState:M("No State required")})}},La=function(e){return e},Fa=function(e,t){var n={};return we(e,(function(e,o){we(e,(function(e,r){var i=Ae(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},Ba=function(e){return{classes:S(e.classes)?[]:e.classes,attributes:S(e.attributes)?{}:e.attributes,styles:S(e.styles)?{}:e.styles}},qa=function(e){return e.cHandler},Ia=function(e,t){return{name:e,handler:t}},Ha=function(e,t,n){var o=r(r({},n),function(e,t){var n={};return Z(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return Fa(o,Ia)},Va=function(e){var t=function(e){return _(e)?{can:I,abort:q,run:e}:e}(e);return function(e,n){for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];var a=[e,n].concat(r);t.abort.apply(void 0,a)?n.stop():t.can.apply(void 0,a)&&t.run.apply(void 0,a)}},ja=function(e,t,n){var o=t[n];return o?function(e,t,n,o){try{var r=me(n,(function(n,r){var i=n[t],a=r[t],u=o.indexOf(i),s=o.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(o,null,2));return u<s?-1:s<u?1:0}));return oo.value(r)}catch(i){return oo.error([i])}}("Event: "+n,"name",e,o).map((function(e){var t=Q(e,(function(e){return e.handler}));return Kr(t)})):function(e,t){return oo.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Q(t,(function(e){return e.name})),null,2)])}(n,e)},Ua=function(e,t){var n=Oe(e,(function(e,n){return(1===e.length?oo.value(e[0].handler):ja(e,t,n)).map((function(o){var r=Va(o),i=e.length>1?te(t[n],(function(t){return J(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return qr(n,function(e,t){return{handler:e,purpose:t}}(r,i))}))}));return Hr(n,{})},Ga="alloy.base.behaviour",Wa=Bo([ar("dom","dom",{tag:"required",process:{}},Bo([cr("tag"),Or("styles",{}),Or("classes",[]),Or("attributes",{}),br("value"),br("innerHtml")])),cr("components"),cr("uid"),Or("events",{}),Or("apis",{}),ar("eventOrder","eventOrder",function(e){return Eo(M(e))}((e={},i(e,Ci(),["disabling",Ga,"toggling","typeaheadevents"]),i(e,bi(),[Ga,"focusing","keying"]),i(e,Ti(),[Ga,"disabling","toggling","representing"]),i(e,ci(),[Ga,"representing","streaming","invalidating"]),i(e,zi(),[Ga,"representing","item-events","tooltipping"]),i(e,ei(),["focusing",Ga,"item-type-events"]),i(e,Yr(),["focusing",Ga,"item-type-events"]),i(e,ri(),["item-type-events","tooltipping"]),i(e,wi(),["receiving","reflecting","tooltipping"]),e)),jo()),br("domModification")]),$a=function(e){return e.events},Ka=function(e,t){var n=Tt(e,t);return void 0===n||""===n?[]:n.split(" ")},Ja=function(e){return void 0!==e.dom.classList},Ya=function(e){return Ka(e,"class")},Xa=function(e,t){return function(e,t,n){var o=Ka(e,t).concat([n]);return Ot(e,t,o.join(" ")),!0}(e,"class",t)},Qa=function(e,t){return function(e,t,n){var o=te(Ka(e,t),(function(e){return e!==n}));return o.length>0?Ot(e,t,o.join(" ")):Dt(e,t),!1}(e,"class",t)},Za=function(e,t){Ja(e)?e.dom.classList.add(t):Xa(e,t)},eu=function(e,t){Ja(e)?e.dom.classList.remove(t):Qa(e,t);!function(e){0===(Ja(e)?e.dom.classList:Ya(e)).length&&Dt(e,"class")}(e)},tu=function(e,t){return Ja(e)&&e.dom.classList.contains(t)},nu=function(e,t){Z(t,(function(t){Za(e,t)}))},ou=function(e,t){Z(t,(function(t){eu(e,t)}))},ru=function(e){return Ja(e)?function(e){for(var t=e.dom.classList,n=new Array(t.length),o=0;o<t.length;o++){var r=t.item(o);null!==r&&(n[o]=r)}return n}(e):Ya(e)},iu=function(e){return e.dom.value},au=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},uu=function(e,t,n){n.fold((function(){return Bn(e,t)}),(function(e){tt(e,t)||(Pn(e,t),Hn(e))}))},su=function(e,t,n){var o=Q(t,n),r=lt(e);return Z(r.slice(o.length),Hn),o},cu=function(e,t,n,o){var r=dt(e,t),i=o(n,r),a=function(e,t,n){return dt(e,t).map((function(e){if(n.exists((function(t){return!tt(t,e)}))){var t=n.map(We).getOr("span"),o=Ue.fromTag(t);return Pn(e,o),o}return e}))}(e,t,r);return uu(e,i.element,a),i},lu=function(e,t){var n=ye(e),o=ye(t),r=le(o,n),i=function(e,t){var n={},o={};return Ee(e,t,Se(n),Se(o)),{t:n,f:o}}(e,(function(e,n){return!Re(t,n)||e!==t[n]})).t;return{toRemove:r,toSet:i}},du=function(e,t){var n=function(e){return oe(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}(t),r=(n.class,n.style,o(n,l)),i=lu(e.attributes,r),a=i.toSet,u=i.toRemove,s=It(t),c=lu(e.styles,s),d=c.toSet,f=c.toRemove,m=ru(t),p=le(m,e.classes),g=le(e.classes,m);return Z(u,(function(e){return Dt(t,e)})),_t(t,a),nu(t,g),ou(t,p),Z(f,(function(e){return Vt(t,e)})),Pt(t,d),e.innerHtml.fold((function(){var n=e.domChildren;!function(e,t){su(e,t,(function(t,n){var o=dt(e,n);return uu(e,t,o),t}))}(t,n)}),(function(e){da(t,e)})),function(){var n=t;e.value.filter((function(e){return e!==iu(n)})).each((function(e){return au(n,e)}))}(),t},fu=function(e,t){var n=t.filter((function(t){return We(t)===e.tag&&!function(e){return e.innerHtml.isSome()&&e.domChildren.length>0}(e)&&!function(e){return Re(e.dom,Da)}(t)})).bind((function(t){return function(e,t){try{var n=du(e,t);return V.some(n)}catch(o){return V.none()}}(e,t)})).getOrThunk((function(){return function(e){var t=Ue.fromTag(e.tag);_t(t,e.attributes),nu(t,e.classes),Pt(t,e.styles),e.innerHtml.each((function(e){return da(t,e)}));var n=e.domChildren;return qn(t,n),e.value.each((function(e){au(t,e)})),t}(e)}));return ka(n,e.uid),n},mu=function(e,t){return function(e,t){var n=Q(t,(function(e){return Er(e.name(),[cr("config"),Or("state",Pa)])})),o=tr("component.behaviours",Bo(n),e.behaviours).fold((function(t){throw new Error(rr(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),N);return{list:t,data:Ce(o,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return M(t)}))}}(e,t)},pu=function(e){var t=function(e){var t=Ae(e,"behaviours").getOr({});return ue(ye(t),(function(e){var n=t[e];return O(n)?[n.me]:[]}))}(e);return mu(e,t)},gu=function(e,t,n){var o,i,a,u=r(r({},(o=e).dom),{},{uid:o.uid,domChildren:Q(o.components,(function(e){return e.element}))}),s=function(e){return e.domModification.fold((function(){return Ba({})}),Ba)}(e),c={"alloy.base.modification":s},l=t.length>0?function(e,t,n,o){var i=r({},t);Z(n,(function(t){i[t.name()]=t.exhibit(e,o)}));var a=Fa(i,(function(e,t){return{name:e,modification:t}})),u=function(e){return ne(e,(function(e,t){return r(r({},t.modification),e)}),{})},s=ne(a.classes,(function(e,t){return t.modification.concat(e)}),[]),c=u(a.attributes),l=u(a.styles);return Ba({classes:s,attributes:c,styles:l})}(n,c,t,u):s;return a=l,r(r({},i=u),{},{attributes:r(r({},i.attributes),a.attributes),styles:r(r({},i.styles),a.styles),classes:i.classes.concat(a.classes)})},hu=function(e,t,n){var o={"alloy.base.behaviour":$a(e)};return function(e,t,n,o){var r=Ha(e,n,o);return Ua(r,t)}(n,e.eventOrder,t,o).getOrDie()},vu=function(e,t){var n=function(){return f},o=Pr(Ta),r=nr(function(e){return tr("custom.definition",Wa,e)}(e)),i=pu(e),a=function(e){return e.list}(i),u=function(e){return e.data}(i),s=gu(r,a,u),c=fu(s,t),l=hu(r,a,u),d=Pr(r.components),f={uid:e.uid,getSystem:o.get,config:function(t){var n=u;return(_(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return _(u[e.name()])},spec:e,readState:function(e){return u[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(e){o.set(e)},disconnect:function(){o.set(_a(n))},element:c,syncComponents:function(){var e=lt(c),t=ue(e,(function(e){return o.get().getByDom(e).fold((function(){return[]}),fe)}));d.set(t)},components:d.get,events:l};return f},bu=function(e,t){var n=Oa(e),i=n.events,a=o(n,d),u=function(e,t){var n=Ae(e,"components").getOr([]);return t.fold((function(){return Q(n,ku)}),(function(e){return Q(n,(function(t,n){return Cu(t,dt(e,n))}))}))}(a,t),s=r(r({},a),{},{events:r(r({},ha),i),components:u});return oo.value(vu(s,t))},yu=function(e){var t=Ue.fromText(e);return xu({element:t})},xu=function(e){var t=or("external.component",Fo([cr("element"),br("uid")]),e),n=Pr(_a()),o=t.uid.getOrThunk((function(){return Ea("external")}));ka(t.element,o);var r={uid:o,getSystem:n.get,config:V.none,hasConfigured:q,connect:function(e){n.set(e)},disconnect:function(){n.set(_a((function(){return r})))},getApis:function(){return{}},element:t.element,spec:e,readState:M("No state"),syncComponents:R,components:M([]),events:{}};return Ma(r)},wu=Ea,Cu=function(e,t){return Na(e).getOrThunk((function(){var n=function(e){return Re(e,"uid")}(e)?e:r({uid:wu("")},e);return bu(n,t).getOrDie()}))},ku=function(e){return Cu(e,V.none())},Su=Ma,Eu=function(e,t,n,o,r){return e(n,o)?V.some(n):_(r)&&r(n)?V.none():t(n,o,r)},Ou=function(e,t,n){for(var o=e.dom,r=_(n)?n:q;o.parentNode;){o=o.parentNode;var i=Ue.fromDom(o);if(t(i))return V.some(i);if(r(i))break}return V.none()},_u=function(e,t,n){return Eu((function(e,t){return t(e)}),Ou,e,t,n)},Tu=function(e,t,n){return _u(e,t,n).isSome()},Au=function(e,t,n){return Ou(e,(function(e){return Ze(e,t)}),n)},Ru=function(e,t){return function(e,t){return re(e.dom.childNodes,(function(e){return t(Ue.fromDom(e))})).map(Ue.fromDom)}(e,(function(e){return Ze(e,t)}))},Du=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return et(n)?V.none():V.from(n.querySelector(e)).map(Ue.fromDom)}(t,e)},Mu=function(e,t,n){return Eu((function(e,t){return Ze(e,t)}),Au,e,t,n)},Nu="aria-controls",zu=function(){var e=ba(Nu);return{id:e,link:function(t){Ot(t,Nu,e)},unlink:function(e){Dt(e,Nu)}}},Pu=function(e,t){return function(e){return _u(e,(function(e){if(!Ke(e))return!1;var t=Tt(e,"id");return void 0!==t&&t.indexOf(Nu)>-1})).bind((function(e){var t=Tt(e,"id"),n=vt(e);return Du(n,"[".concat(Nu,'="').concat(t,'"]'))}))}(t).exists((function(t){return Lu(e,t)}))},Lu=function(e,t){return Tu(t,(function(t){return tt(t,e.element)}),q)||Pu(e,t)},Fu="unknown";!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Fr||(Fr={}));var Bu=Pr({}),qu=function(e,t,n){switch(Ae(Bu.get(),e).orThunk((function(){var t=ye(Bu.get());return be(t,(function(t){return e.indexOf(t)>-1?V.some(Bu.get()[t]):V.none()}))})).getOr(Fr.NORMAL)){case Fr.NORMAL:return n(Vu());case Fr.LOGGING:var o=function(e,t){var n=[],o=(new Date).getTime();return{logEventCut:function(e,t,o){n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:function(e,t,o){n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:function(e,t,o){n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,o){n.push({outcome:"response",purpose:o,target:t})},write:function(){var r=(new Date).getTime();K(["mousemove","mouseover","mouseout",Ti()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:Q(n,(function(e){return K(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+pa(e.target)+")":e.outcome}))})}}}(e,t),r=n(o);return o.write(),r;case Fr.STOP:return!0}},Iu=["alloy/data/Fields","alloy/debugging/Debugging"],Hu=function(e,t,n){return qu(e,t,n)},Vu=M({logEventCut:R,logEventStopped:R,logNoParent:R,logEventNoHandlers:R,logEventResponse:R,write:R}),ju=M([cr("menu"),cr("selectedMenu")]),Uu=M([cr("item"),cr("selectedItem")]);M(Bo(Uu().concat(ju())));var Gu=M(Bo(Uu())),Wu=gr("initSize",[cr("numColumns"),cr("numRows")]),$u=function(){return gr("markers",[cr("backgroundMenu")].concat(ju()).concat(Uu()))},Ku=function(e){return gr("markers",Q(e,cr))},Ju=function(e,t,n){return function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return re(t,(function(e){return e.indexOf("alloy")>0&&!J(Iu,(function(t){return e.indexOf(t)>-1}))})).getOr(Fu)}}(),ar(t,t,n,Zo((function(e){return oo.value((function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(void 0,n)}))})))},Yu=function(e){return Ju(0,e,So(R))},Xu=function(e){return Ju(0,e,So(V.none))},Qu=function(e){return Ju(0,e,{tag:"required",process:{}})},Zu=function(e){return Ju(0,e,{tag:"required",process:{}})},es=function(e,t){return ur(e,M(t))},ts=function(e){return ur(e,N)},ns=M(Wu),os=function(e,t,n,o,r,i,a){var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:"".concat(a,"-").concat(r),alwaysFit:u}},rs=Lr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),is=rs.southeast,as=rs.southwest,us=rs.northeast,ss=rs.northwest,cs=rs.south,ls=rs.north,ds=rs.east,fs=rs.west,ms=function(e,t,n,o){var r=e+t;return r>o?n:r<n?o:r},ps=function(e,t,n){return Math.min(Math.max(e,t),n)},gs=function(e,t){return de(["left","right","top","bottom"],(function(n){return Ae(t,n).map((function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)}))}))},hs="layout",vs=function(e){return e.x},bs=function(e,t){return e.x+e.width/2-t.width/2},ys=function(e,t){return e.x+e.width-t.width},xs=function(e,t){return e.y-t.height},ws=function(e){return e.y+e.height},Cs=function(e,t){return e.y+e.height/2-t.height/2},ks=function(e,t,n){return os(vs(e),ws(e),n.southeast(),is(),"southeast",gs(e,{left:1,top:3}),hs)},Ss=function(e,t,n){return os(ys(e,t),ws(e),n.southwest(),as(),"southwest",gs(e,{right:0,top:3}),hs)},Es=function(e,t,n){return os(vs(e),xs(e,t),n.northeast(),us(),"northeast",gs(e,{left:1,bottom:2}),hs)},Os=function(e,t,n){return os(ys(e,t),xs(e,t),n.northwest(),ss(),"northwest",gs(e,{right:0,bottom:2}),hs)},_s=function(e,t,n){return os(bs(e,t),xs(e,t),n.north(),ls(),"north",gs(e,{bottom:2}),hs)},Ts=function(e,t,n){return os(bs(e,t),ws(e),n.south(),cs(),"south",gs(e,{top:3}),hs)},As=function(e,t,n){return os(function(e){return e.x+e.width}(e),Cs(e,t),n.east(),ds(),"east",gs(e,{left:0}),hs)},Rs=function(e,t,n){return os(function(e,t){return e.x-t.width}(e,t),Cs(e,t),n.west(),fs(),"west",gs(e,{right:1}),hs)},Ds=function(){return[ks,Ss,Es,Os,Ts,_s,As,Rs]},Ms=function(){return[Ss,ks,Os,Es,Ts,_s,As,Rs]},Ns=function(){return[Es,Os,ks,Ss,_s,Ts]},zs=function(){return[Os,Es,Ss,ks,_s,Ts]},Ps=function(){return[ks,Ss,Es,Os,Ts,_s]},Ls=function(){return[Ss,ks,Os,Es,Ts,_s]},Fs=Object.freeze({__proto__:null,events:function(e){return Ji([Qi(wi(),(function(t,n){var o=e.channels,r=ye(o),i=n,a=function(e,t){return t.universal?e:te(e,(function(e){return K(t.channels,e)}))}(r,i);Z(a,(function(e){var n=o[e],r=n.schema,a=or("channel["+e+"] data\nReceiver: "+pa(t.element),r,i.data);n.onReceive(t,a)}))}))])}}),Bs=[lr("channels",er(oo.value,Fo([Qu("onReceive"),Or("schema",jo())])))],qs=function(e,t,n){return sa((function(o,r){n(o,e,t)}))},Is=function(e,t,n){return function(e,t,n){var o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Aa(a.slice(0,1).concat(a.slice(3)))}},e}((function(o){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u=[o].concat(i);return o.config({name:M(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(u,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t)},Hs=function(e){return{key:e,value:void 0}},Vs=function(e,t,n,o,i,a,u){var s=function(e){return De(e,n)?e[n]():V.none()},c=Ce(i,(function(e,t){return Is(n,e,t)})),l=Ce(a,(function(e,t){return Ra(e,t)})),d=r(r(r({},l),c),{},{revoke:P(Hs,n),config:function(t){var o=or(n+"-config",e,t);return{key:n,value:{config:o,me:d,configAsRaw:tn((function(){return or(n+"-config",e,t)})),initialConfig:t,state:u}}},schema:M(t),exhibit:function(e,t){return ze(s(e),Ae(o,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return Ba({})}))},name:M(n),handlers:function(e){return s(e).map((function(e){return Ae(o,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return d},js=function(e){return Ir(e)},Us=Fo([cr("fields"),cr("name"),Or("active",{}),Or("apis",{}),Or("state",Pa),Or("extra",{})]),Gs=function(e){var t=or("Creating behaviour: "+e.name,Us,e);return function(e,t,n,o,r,i){var a,u,s=Fo(e),c=Er(t,[(a="config",u=e,yr(a,Fo(u)))]);return Vs(s,c,t,n,o,r,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Ws=Fo([cr("branchKey"),cr("branches"),cr("name"),Or("active",{}),Or("apis",{}),Or("state",Pa),Or("extra",{})]),$s=function(e){var t=or("Creating behaviour: "+e.name,Ws,e);return function(e,t,n,o,r,i){var a=e,u=Er(t,[yr("config",e)]);return Vs(a,u,t,n,o,r,i)}(ir(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Ks=M(void 0),Js=Gs({fields:Bs,name:"receiving",active:Fs}),Ys=Object.freeze({__proto__:null,exhibit:function(e,t){return Ba({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),Xs=function(e){return e.dom.focus()},Qs=function(e){var t=vt(e).dom;return e.dom===t.activeElement},Zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return V.from(e.dom.activeElement).map(Ue.fromDom)},ec=function(e){return Zs(vt(e)).filter((function(t){return e.dom.contains(t.dom)}))},tc=function(e,t){var n=vt(t),o=Zs(n).bind((function(e){var n,o=function(t){return tt(e,t)};return o(t)?V.some(t):(n=o,function e(t){for(var o=0;o<t.childNodes.length;o++){var r=Ue.fromDom(t.childNodes[o]);if(n(r))return V.some(r);var i=e(t.childNodes[o]);if(i.isSome())return i}return V.none()}(t.dom))})),r=e(t);return o.each((function(e){Zs(n).filter((function(t){return tt(t,e)})).fold((function(){Xs(e)}),R)})),r},nc=function(e,t,n,o,r){var i=function(e){return e+"px"};return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},oc=function(e,t){Lt(e,function(e){return r(r({},e),{},{position:V.some(e.position)})}(t))},rc=Lr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ic=function(e,t,n,o,r,i){var a=t.rect,u=a.x-n,s=a.y-o,c=r-(u+a.width),l=i-(s+a.height),d=V.some(u),f=V.some(s),m=V.some(c),p=V.some(l),g=V.none();return function(e,t,n,o,r,i,a,u,s){return e.fold(t,n,o,r,i,a,u,s)}(t.direction,(function(){return nc(e,d,f,g,g)}),(function(){return nc(e,g,f,m,g)}),(function(){return nc(e,d,g,g,p)}),(function(){return nc(e,g,g,m,p)}),(function(){return nc(e,d,f,g,g)}),(function(){return nc(e,d,g,g,p)}),(function(){return nc(e,d,f,g,g)}),(function(){return nc(e,g,f,m,g)}))},ac=function(e,t){return e.fold((function(){var e=t.rect;return nc("absolute",V.some(e.x),V.some(e.y),V.none(),V.none())}),(function(e,n,o,r){return ic("absolute",t,e,n,o,r)}),(function(e,n,o,r){return ic("fixed",t,e,n,o,r)}))},uc=function(e,t){var n=P(Yn,t),o=e.fold(n,n,(function(){var e=Vn();return Yn(t).translate(-e.left,-e.top)})),r=en(t),i=$t(t);return Xn(o.left,o.top,r,i)},sc=function(e,t){return t.fold((function(){return e.fold(eo,eo,Xn)}),(function(t){return e.fold(t,t,(function(){var n=t(),o=cc(e,n.x,n.y);return Xn(o.left,o.top,n.width,n.height)}))}))},cc=function(e,t,n){var o=Kt(t,n);return e.fold(M(o),M(o),(function(){var e=Vn();return o.translate(-e.left,-e.top)}))};rc.none;var lc,dc=rc.relative,fc=rc.fixed,mc=function(e,t){return function(e,t){return{anchorBox:e,origin:t}}(e,t)},pc="data-alloy-placement",gc=function(e){return At(e,pc)},hc=Lr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),vc=function(e,t,n,o){var r=e.bubble,i=r.offset,a=function(e,t,n){var o=function(o,r){return t[o].map((function(t){var i="top"===o||"bottom"===o,a=i?n.top:n.left,u=("left"===o||"top"===o?Math.max:Math.min)(t,r)+a;return i?ps(u,e.y,e.bottom):ps(u,e.x,e.right)})).getOr(r)},r=o("left",e.x),i=o("top",e.y),a=o("right",e.right),u=o("bottom",e.bottom);return Xn(r,i,a-r,u-i)}(o,e.restriction,i),u=e.x+i.left,s=e.y+i.top,c=Xn(u,s,t,n),l=function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.right,c=e.bottom,l=e.width,d=e.height;return{originInBounds:a>=n&&a<=r&&u>=o&&u<=i,sizeInBounds:s<=r&&s>=n&&c<=i&&c>=o,visibleW:Math.min(l,a>=n?r-a:s-n),visibleH:Math.min(d,u>=o?i-u:c-o)}}(c,a),d=l.originInBounds,f=l.sizeInBounds,m=l.visibleW,p=l.visibleH,g=d&&f,h=g?c:function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.width,c=e.height,l=Math.max(n,r-s),d=Math.max(o,i-c),f=ps(a,n,l),m=ps(u,o,d),p=Math.min(f+s,r)-f,g=Math.min(m+c,i)-m;return Xn(f,m,p,g)}(c,a),v=h.width>0&&h.height>0,b=function(e,t,n){var o=M(t.bottom-n.y),r=M(n.bottom-t.y),i=function(e,t,n,o){return e.fold(t,t,o,o,t,o,n,n)}(e,r,r,o),a=M(t.right-n.x),u=M(n.right-t.x),s=function(e,t,n,o){return e.fold(t,o,t,o,n,n,t,o)}(e,u,u,a);return{maxWidth:s,maxHeight:i}}(e.direction,h,o),y=b.maxWidth,x={rect:h,maxHeight:b.maxHeight,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:s};return g||e.alwaysFit?hc.fit(x):hc.nofit(x,m,p,v)},bc=function(e){var t=Pr(V.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(V.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(V.some(e))}}},yc=function(){return bc((function(e){return e.unbind()}))},xc=function(){var e=bc(R);return r(r({},e),{},{on:function(t){return e.get().each(t)}})},wc=I,Cc=function(e,t,n){return function(e,t,n,o){return Nn(e,t,n,o,!1)}(e,t,wc,n)},kc=function(e,t,n){return function(e,t,n,o){return Nn(e,t,n,o,!0)}(e,t,wc,n)},Sc=Mn,Ec=["top","bottom","right","left"],Oc="data-alloy-transition-timer",_c=function(e,t){return function(e,t){return se(t,(function(t){return tu(e,t)}))}(e,t.classes)},Tc=function(e,t){var n=function(e){return parseFloat(e).toFixed(3)};return _e(t,(function(t,o){return!function(e,t){return ze(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:z).getOr(e.isNone()&&t.isNone())}(e[o].map(n),t.map(n))})).isSome()},Ac=function(e,t){var n,o=yc(),r=yc(),i=function(t){var n,o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return tt(t.target,e)&&!He(o)&&K(Ec,t.raw.propertyName)},a=function(a){if(E(a)||i(a)){o.clear(),r.clear();var u=null===a||void 0===a?void 0:a.raw.type;(E(u)||u===mi())&&(clearTimeout(n),Dt(e,Oc),ou(e,t.classes))}},u=Cc(e,pi(),(function(t){i(t)&&(u.unbind(),o.set(Cc(e,mi(),a)),r.set(Cc(e,fi(),a)))})),s=function(e){var t=function(t){var n=Ft(e,t).split(/\s*,\s*/);return te(n,He)},n=function(e){if(b(e)&&/^[\d.]+/.test(e)){var t=parseFloat(e);return qe(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return oe(r,(function(e,t,r){var i=n(o[r])+n(t);return Math.max(e,i)}),0)}(e);requestAnimationFrame((function(){n=setTimeout(a,s+17),Ot(e,Oc,n)}))},Rc=function(e,t,n,o,i,a){var u=function(e,t,n){return n.exists((function(n){var o=e.mode;return"all"===o||n[o]!==t[o]}))}(o,i,a);if(u||_c(e,o)){zt(e,"position",n.position);var s=uc(t,e),c=ac(t,r(r({},i),{},{rect:s})),l=de(Ec,(function(e){return c[e]}));Tc(n,l)&&(Lt(e,l),u&&function(e,t){nu(e,t.classes),At(e,Oc).each((function(t){clearTimeout(parseInt(t,10)),Dt(e,Oc)})),Ac(e,t)}(e,o),jt(e))}else ou(e,o.classes)},Dc=function(e,t,n,o){Vt(t,"max-height"),Vt(t,"max-width");var r,i={width:en(r=t),height:$t(r)};return function(e,t,n,o,r,i){var a=o.width,u=o.height,s=function(t,s,c,l,d){var f=t(n,o,r,e,i),m=vc(f,a,u,i);return m.fold(M(m),(function(e,t,n,o){return(d===o?n>l||t>c:!d&&o)?m:hc.nofit(s,c,l,d)}))},c=oe(t,(function(e,t){var n=P(s,t);return e.fold(M(e),n)}),hc.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:is(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return c.fold(N,N)}(t,o.preference,e,i,n,o.bounds)},Mc=function(e,t){!function(e,t){Ot(e,pc,t)}(e,t.placement)},Nc=function(e,t){!function(e,t){var n=Gt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);zt(e,"max-height",n+"px")}(e,Math.floor(t))},zc=M((function(e,t){Nc(e,t),Pt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Pc=M((function(e,t){Nc(e,t)})),Lc=function(e,t,n){return void 0===e[t]?n:e[t]},Fc=function(e,t,n,o){var r=Dc(e,t,n,o);return function(e,t,n){var o=ac(n.origin,t);n.transition.each((function(r){Rc(e,n.origin,o,r,t,n.lastPlacement)})),oc(e,o)}(t,r,o),Mc(t,r),function(e,t){var n=t.classes;ou(e,n.off),nu(e,n.on)}(t,r),function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)}(t,r,o),function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)}(t,r,o),{layout:r.layout,placement:r.placement}},Bc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],qc=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=e*o,i=t*o,a=function(e){return Ae(n,e).getOr([])},u=function(e,t,n){var o=le(Bc,n);return{offset:Kt(e,t),classesOn:ue(n,a),classesOff:ue(o,a)}};return{southeast:function(){return u(-e,t,["top","alignLeft"])},southwest:function(){return u(e,t,["top","alignRight"])},south:function(){return u(-e/2,t,["top","alignCentre"])},northeast:function(){return u(-e,-t,["bottom","alignLeft"])},northwest:function(){return u(e,-t,["bottom","alignRight"])},north:function(){return u(-e/2,-t,["bottom","alignCentre"])},east:function(){return u(e,-t/2,["valignCentre","left"])},west:function(){return u(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return u(r,i,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-r,i,["top","alignRight","inset"])},insetNorth:function(){return u(-r/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return u(r,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-r,-i,["bottom","alignRight","inset"])},insetSouth:function(){return u(-r/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return u(-r,-i/2,["valignCentre","right","inset"])},insetWest:function(){return u(r,-i/2,["valignCentre","left","inset"])}}},Ic=function(){return qc(0,0,{})},Hc=N,Vc=function(e,t){return function(n){return"rtl"===jc(n)?t:e}},jc=function(e){return"rtl"===Ft(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(lc||(lc={}));var Uc="data-alloy-vertical-dir",Gc=function(e){return Tu(e,(function(e){return Ke(e)&&Tt(e,"data-alloy-vertical-dir")===lc.BottomToTop}))},Wc=function(){return Er("layouts",[cr("onLtr"),cr("onRtl"),br("onBottomLtr"),br("onBottomRtl")])},$c=function(e,t,n,o,r,i,a){var u=a.map(Gc).getOr(!1),s=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)})),l=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(s).getOr(r):s.getOr(n),d=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(i):c.getOr(o);return Vc(l,d)(e)},Kc=[cr("hotspot"),br("bubble"),Or("overrides",{}),Wc(),es("placement",(function(e,t,n){var o=t.hotspot,r=uc(n,o.element),i=$c(e.element,t,Ps(),Ls(),Ns(),zs(),V.some(t.hotspot.element));return V.some(Hc({anchorBox:r,bubble:t.bubble.getOr(Ic()),overrides:t.overrides,layouts:i,placer:V.none()}))}))],Jc=[cr("x"),cr("y"),Or("height",0),Or("width",0),Or("bubble",Ic()),Or("overrides",{}),Wc(),es("placement",(function(e,t,n){var o=cc(n,t.x,t.y),r=Xn(o.left,o.top,t.width,t.height),i=$c(e.element,t,Ds(),Ms(),Ds(),Ms(),V.none());return V.some(Hc({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:V.none()}))}))],Yc=Lr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Xc=function(e){return e.fold(N,(function(e,t,n){return e.translate(-t,-n)}))},Qc=function(e){return e.fold(N,N)},Zc=function(e){return oe(e,(function(e,t){return e.translate(t.left,t.top)}),Kt(0,0))},el=function(e){var t=Q(e,Qc);return Zc(t)},tl=Yc.screen,nl=Yc.absolute,ol=function(e,t,n){var o=ot(e.element),r=Vn(o),i=function(e,t,n){var o=at(n.root).dom;return V.from(o.frameElement).map(Ue.fromDom).filter((function(t){var n=ot(t),o=ot(e.element);return tt(n,o)})).map(Yt)}(e,0,n).getOr(r);return nl(i,r.left,r.top)},rl=function(e,t,n,o){var r=tl(Kt(e,t));return V.some(function(e,t,n){return{point:e,width:t,height:n}}(r,n,o))},il=function(e,t,n,o,r){return e.map((function(e){var i,a,u,s=[t,e.point],c=(i=function(){return el(s)},a=function(){return el(s)},u=function(){return function(e){var t=Q(e,Xc);return Zc(t)}(s)},o.fold(i,a,u)),l=function(e,t,n,o){return{x:e,y:t,width:n,height:o}}(c.left,c.top,e.width,e.height),d=n.showAbove?Ns():Ps(),f=n.showAbove?zs():Ls(),m=$c(r,n,d,f,d,f,V.none());return Hc({anchorBox:l,bubble:n.bubble.getOr(Ic()),overrides:n.overrides,layouts:m,placer:V.none()})}))},al=[cr("node"),cr("root"),br("bubble"),Wc(),Or("overrides",{}),Or("showAbove",!1),es("placement",(function(e,t,n){var o=ol(e,0,t);return t.node.filter(Ct).bind((function(r){var i=r.dom.getBoundingClientRect(),a=rl(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element);return il(a,o,t,n,u)}))}))],ul=function(e,t,n,o){return{start:e,soffset:t,finish:n,foffset:o}},sl=Lr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cl=(sl.before,sl.on,sl.after,function(e){return e.fold(N,N,N)}),ll=Lr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),dl={domRange:ll.domRange,relative:ll.relative,exact:ll.exact,exactFromRange:function(e){return ll.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return Ue.fromDom(e.startContainer)},relative:function(e,t){return cl(e)},exact:function(e,t,n,o){return e}})}(e);return at(t)},range:ul},fl=function(e,t,n){var o,r=e.document.createRange();return o=r,t.fold((function(e){o.setStartBefore(e.dom)}),(function(e,t){o.setStart(e.dom,t)}),(function(e){o.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(r,n),r},ml=function(e,t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},pl=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},gl=Lr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hl=function(e,t,n){return t(Ue.fromDom(n.startContainer),n.startOffset,Ue.fromDom(n.endContainer),n.endOffset)},vl=function(e,t){var n=function(e,t){return t.match({domRange:function(e){return{ltr:M(e),rtl:V.none}},relative:function(t,n){return{ltr:tn((function(){return fl(e,t,n)})),rtl:tn((function(){return V.some(fl(e,n,t))}))}},exact:function(t,n,o,r){return{ltr:tn((function(){return ml(e,t,n,o,r)})),rtl:tn((function(){return V.some(ml(e,o,r,t,n))}))}}})}(e,t);return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return gl.rtl(Ue.fromDom(e.endContainer),e.endOffset,Ue.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return hl(0,gl.ltr,n)})):hl(0,gl.ltr,n)}(0,n)},bl=function(e,t){return vl(e,t).match({ltr:function(t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:function(t,n,o,r){var i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}})};gl.ltr,gl.rtl;var yl,xl=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return et(n)?[]:Q(n.querySelectorAll(e),Ue.fromDom)}(t,e)},wl=function(e,t,n,o){var r=function(e,t,n,o){var r=ot(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r}(e,t,n,o),i=tt(e,n)&&t===o;return r.collapsed&&!i},Cl=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return V.some(ul(Ue.fromDom(t.startContainer),t.startOffset,Ue.fromDom(n.endContainer),n.endOffset))}return V.none()},kl=function(e){if(null===e.anchorNode||null===e.focusNode)return Cl(e);var t=Ue.fromDom(e.anchorNode),n=Ue.fromDom(e.focusNode);return wl(t,e.anchorOffset,n,e.focusOffset)?V.some(ul(t,e.anchorOffset,n,e.focusOffset)):Cl(e)},Sl=function(e){return function(e){return V.from(e.getSelection())}(e).filter((function(e){return e.rangeCount>0})).bind(kl)},El=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?V.some(n).map(pl):V.none()}(bl(e,t))},Ol=function(e,t){return function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?V.some(t).map(pl):V.none()}(bl(e,t))},_l=function(e,t){var n=function(t){return e(t)?V.from(t.dom.nodeValue):V.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(Je,"text"),Tl=function(e,t){return{element:e,offset:t}},Al=function(e,t){var n=lt(e);if(0===n.length)return Tl(e,t);if(t<n.length)return Tl(n[t],0);var o=n[n.length-1],r=Je(o)?function(e){return _l.get(e)}(o).length:lt(o).length;return Tl(o,r)},Rl=function(e,t){return Je(e)?Tl(e,t):Al(e,t)},Dl=function(e,t){return t.getSelection.getOrThunk((function(){return function(){return Sl(e)}}))().map((function(e){var t=Rl(e.start,e.soffset),n=Rl(e.finish,e.foffset);return dl.range(t.element,t.offset,n.element,n.offset)}))},Ml=[br("getSelection"),cr("root"),br("bubble"),Wc(),Or("overrides",{}),Or("showAbove",!1),es("placement",(function(e,t,n){var o=at(t.root).dom,r=ol(e,0,t),i=Dl(o,t).bind((function(e){var t=Ol(o,dl.exactFromRange(e)).orThunk((function(){var t=Ue.fromText("\ufeff");Pn(e.start,t);var n=El(o,dl.exact(t,0,t,1));return Hn(t),n}));return t.bind((function(e){return rl(e.left,e.top,e.width,e.height)}))})),a=Dl(o,t).bind((function(e){return Ke(e.start)?V.some(e.start):st(e.start)})).getOr(e.element);return il(i,r,t,n,a)}))],Nl="link-layout",zl=function(e){return e.x+e.width},Pl=function(e,t){return e.x-t.width},Ll=function(e,t){return e.y-t.height+e.height},Fl=function(e){return e.y},Bl=function(e,t,n){return os(zl(e),Fl(e),n.southeast(),is(),"southeast",gs(e,{left:0,top:2}),Nl)},ql=function(e,t,n){return os(Pl(e,t),Fl(e),n.southwest(),as(),"southwest",gs(e,{right:1,top:2}),Nl)},Il=function(e,t,n){return os(zl(e),Ll(e,t),n.northeast(),us(),"northeast",gs(e,{left:0,bottom:3}),Nl)},Hl=function(e,t,n){return os(Pl(e,t),Ll(e,t),n.northwest(),ss(),"northwest",gs(e,{right:1,bottom:3}),Nl)},Vl=function(){return[Bl,ql,Il,Hl]},jl=function(){return[ql,Bl,Hl,Il]},Ul=[cr("item"),Wc(),Or("overrides",{}),es("placement",(function(e,t,n){var o=uc(n,t.item.element),r=$c(e.element,t,Vl(),jl(),Vl(),jl(),V.none());return V.some(Hc({anchorBox:o,bubble:Ic(),overrides:t.overrides,layouts:r,placer:V.none()}))}))],Gl=ir("type",{selection:Ml,node:al,hotspot:Kc,submenu:Ul,makeshift:Jc}),Wl=[vr("classes",Wo),Rr("mode","all",["all","layout","placement"])],$l=[Or("useFixed",q),br("getBounds")],Kl=[lr("anchor",Gl),Er("transition",Wl)],Jl=function(e,t,n,o,r,i,a){return function(e,t,n,o,r,i,a,u){var s=Lc(a,"maxHeightFunction",zc()),c=Lc(a,"maxWidthFunction",R),l=e.anchorBox,d=e.origin,f={bounds:sc(d,i),origin:d,preference:o,maxHeightFunction:s,maxWidthFunction:c,lastPlacement:r,transition:u};return Fc(l,t,n,f)}(mc(n.anchorBox,t),r.element,n.bubble,n.layouts,i,o,n.overrides,a)},Yl=function(e,t,n,o,r,i){var a=i.map(Qn);return Xl(e,t,n,o,r,a)},Xl=function(e,t,n,o,r,i){var a=or("placement.info",Bo(Kl),r),u=a.anchor,s=o.element,c=n.get(o.uid);tc((function(){zt(s,"position","fixed");var r=qt(s,"visibility");zt(s,"visibility","hidden");var l=t.useFixed()?function(){var e=document.documentElement;return fc(0,0,e.clientWidth,e.clientHeight)}():function(e){var t=Yt(e.element),n=e.element.dom.getBoundingClientRect();return dc(t.left,t.top,n.width,n.height)}(e),d=u.placement,f=i.map(M).or(t.getBounds);d(e,u,l).each((function(t){var r=t.placer.getOr(Jl)(e,l,t,f,o,c,a.transition);n.set(o.uid,r)})),r.fold((function(){Vt(s,"visibility")}),(function(e){zt(s,"visibility",e)})),qt(s,"left").isNone()&&qt(s,"top").isNone()&&qt(s,"right").isNone()&&qt(s,"bottom").isNone()&&Me(qt(s,"position"),"fixed")&&Vt(s,"position")}),s)},Ql=Object.freeze({__proto__:null,position:function(e,t,n,o,r){Yl(e,t,n,o,r,V.none())},positionWithin:Yl,positionWithinBounds:Xl,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"},reset:function(e,t,n,o){var r=o.element;Z(["position","left","right","top","bottom"],(function(e){return Vt(r,e)})),function(e){Dt(e,pc)}(r),n.clear(o.uid)}}),Zl=Object.freeze({__proto__:null,init:function(){var e={};return La({readState:function(){return e},clear:function(t){O(t)?delete e[t]:e={}},set:function(t,n){e[t]=n},get:function(t){return Ae(e,t)}})}}),ed=Gs({fields:$l,name:"positioning",active:Ys,apis:Ql,state:Zl}),td=function(e){return e.getSystem().isConnected()},nd=function e(t){ji(t,zi());var n=t.components();Z(n,e)},od=function e(t){var n=t.components();Z(n,e),ji(t,Ni())},rd=function(e,t){e.getSystem().addToWorld(t),Ct(e.element)&&od(t)},id=function(e){nd(e),e.getSystem().removeFromWorld(e)},ad=function(e,t){Bn(e.element,t.element)},ud=function(e,t,n){var o=e.components();!function(e){Z(e.components(),(function(e){return Hn(e.element)})),In(e.element),e.syncComponents()}(e);var r=n(t),i=le(o,r);Z(i,(function(t){nd(t),e.getSystem().removeFromWorld(t)})),Z(r,(function(t){td(t)?ad(e,t):(e.getSystem().addToWorld(t),ad(e,t),Ct(e.element)&&od(t))})),e.syncComponents()},sd=function(e,t){cd(e,t,Bn)},cd=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),Ct(e.element)&&od(t),e.syncComponents()},ld=function(e){nd(e),Hn(e.element),e.getSystem().removeFromWorld(e)},dd=function(e){var t=ut(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));ld(e),t.each((function(e){e.syncComponents()}))},fd=function(e){var t=e.components();Z(t,ld),In(e.element),e.syncComponents()},md=function(e,t){pd(e,t,Bn)},pd=function(e,t,n){n(e,t.element);var o=lt(t.element);Z(o,(function(e){t.getByDom(e).each(od)}))},gd=function(e){var t=lt(e.element);Z(t,(function(t){e.getByDom(t).each(nd)})),Hn(e.element)},hd=function(e,t,n,o){n.get().each((function(t){fd(e)}));var r=t.getAttachPoint(e);sd(r,e);var i=e.getSystem().build(o);return sd(e,i),n.set(i),i},vd=function(e,t,n,o){var r=hd(e,t,n,o);return t.onOpen(e,r),r},bd=function(e,t,n){n.get().each((function(o){fd(e),dd(e),t.onClose(e,o),n.clear()}))},yd=function(e,t,n){return n.isOpen()},xd=function(e,t,n){var o=t.getAttachPoint(e);zt(e.element,"position",ed.getMode(o)),function(e,t,n,o){qt(e.element,t).fold((function(){Dt(e.element,n)}),(function(t){Ot(e.element,n,t)})),zt(e.element,t,o)}(e,"visibility",t.cloakVisibilityAttr,"hidden")},wd=function(e,t,n){(function(e){return J(["top","left","right","bottom"],(function(t){return qt(e,t).isSome()}))})(e.element)||Vt(e.element,"position"),function(e,t,n){At(e.element,n).fold((function(){return Vt(e.element,t)}),(function(n){return zt(e.element,t,n)}))}(e,"visibility",t.cloakVisibilityAttr)},Cd=Object.freeze({__proto__:null,cloak:xd,decloak:wd,open:vd,openWhileCloaked:function(e,t,n,o,r){xd(e,t),vd(e,t,n,o),r(),wd(e,t)},close:bd,isOpen:yd,isPartOf:function(e,t,n,o){return yd(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,o)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,o){return n.get().map((function(){return hd(e,t,n,o)}))}}),kd=Object.freeze({__proto__:null,events:function(e,t){return Ji([Qi(Oi(),(function(n,o){bd(n,e,t)}))])}}),Sd=[Yu("onOpen"),Yu("onClose"),cr("isPartOf"),cr("getAttachPoint"),Or("cloakVisibilityAttr","data-precloak-visibility")],Ed=Object.freeze({__proto__:null,init:function(){var e=xc(),t=M("not-implemented");return La({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}}),Od=Gs({fields:Sd,name:"sandboxing",active:kd,apis:Cd,state:Ed}),_d=M("dismiss.popups"),Td=M("reposition.popups"),Ad=M("mouse.released"),Rd=Fo([Or("isExtraPart",q),Er("fireEventInstead",[Or("event",Pi())])]),Dd=function(e){var t=or("Dismissal",Rd,e);return i({},_d(),{schema:Fo([cr("target")]),onReceive:function(e,n){Od.isOpen(e)&&(Od.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((function(){return Od.close(e)}),(function(t){return ji(e,t.event)})))}})},Md=Fo([Er("fireEventInstead",[Or("event",Li())]),pr("doReposition")]),Nd=function(e){var t=or("Reposition",Md,e);return i({},Td(),{onReceive:function(e){Od.isOpen(e)&&t.fireEventInstead.fold((function(){return t.doReposition(e)}),(function(t){return ji(e,t.event)}))}})},zd=function(e,t,n){t.store.manager.onLoad(e,t,n)},Pd=function(e,t,n){t.store.manager.onUnload(e,t,n)},Ld=Object.freeze({__proto__:null,onLoad:zd,onUnload:Pd,setValue:function(e,t,n,o){t.store.manager.setValue(e,t,n,o)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),Fd=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[aa((function(n,o){zd(n,e,t)})),ua((function(n,o){Pd(n,e,t)}))]:[qs(e,t,zd)];return Ji(n)}}),Bd=function(){var e=Pr(null);return La({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},qd=function(){var e=Pr({}),t=Pr({});return La({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return Ae(e.get(),n).orThunk((function(){return Ae(t.get(),n)}))},update:function(n){var o=e.get(),i=t.get(),a={},u={};Z(n,(function(e){a[e.value]=e,Ae(e,"meta").each((function(t){Ae(t,"text").each((function(t){u[t]=e}))}))})),e.set(r(r({},o),a)),t.set(r(r({},i),u))},clear:function(){e.set({}),t.set({})}})},Id=Object.freeze({__proto__:null,memory:Bd,dataset:qd,manual:function(){return La({readState:R})},init:function(e){return e.store.manager.state(e)}}),Hd=function(e,t,n,o){var r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)},Vd=[br("initialValue"),cr("getFallbackEntry"),cr("getDataKey"),cr("setValue"),es("manager",{setValue:Hd,getValue:function(e,t,n){var o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((function(){return o.getFallbackEntry(r)}))},onLoad:function(e,t,n){t.store.initialValue.each((function(o){Hd(e,t,n,o)}))},onUnload:function(e,t,n){n.clear()},state:qd})],jd=[cr("getValue"),Or("setValue",R),br("initialValue"),es("manager",{setValue:function(e,t,n,o){t.store.setValue(e,o),t.onSetValue(e,o)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:R,state:Pa.init})],Ud=[br("initialValue"),es("manager",{setValue:function(e,t,n,o){n.set(o),t.onSetValue(e,o)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:Bd})],Gd=[_r("store",{mode:"memory"},ir("mode",{memory:Ud,manual:jd,dataset:Vd})),Yu("onSetValue"),Or("resetOnDom",!1)],Wd=Gs({fields:Gd,name:"representing",active:Fd,apis:Ld,extra:{setValueFrom:function(e,t){var n=Wd.getValue(t);Wd.setValue(e,n)}},state:Id}),$d=function(e,t){return zr(e,{},Q(t,(function(t){return n=t.name(),o="Cannot configure "+t.name()+" for "+e,ar(n,n,{tag:"option",process:{}},Ro((function(e){return fo("The field: "+n+" is forbidden. "+o)})));var n,o})).concat([ur("dump",N)]))},Kd=function(e){return e.dump},Jd=function(e,t){return r(r({},js(t)),e.dump)},Yd=$d,Xd=Jd,Qd="placeholder",Zd=Lr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ef=function(e){return Re(e,"uiType")},tf=function(e,t,n,o){return ef(n)&&n.uiType===Qd?function(e,t,n,o){return e.exists((function(e){return e!==n.owner}))?Zd.single(!0,M(n)):Ae(o,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ye(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,o):Zd.single(!1,M(n))},nf=function e(t,n,o,i){return tf(t,0,o,i).fold((function(a,u){var s=ef(o)?u(n,o.config,o.validated):u(n),c=Ae(s,"components").getOr([]),l=ue(c,(function(o){return e(t,n,o,i)}));return[r(r({},s),{},{components:l})]}),(function(e,t){if(ef(o)){var r=t(n,o.config,o.validated);return o.validated.preprocess.getOr(N)(r)}return t(n)}))},of=function(e,t,n,o){return ue(n,(function(n){return nf(e,t,n,o)}))},rf=function(e,t,n,o){var r=Ce(o,(function(e,t){return function(e,t){var n=!1;return{name:M(e),required:function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return n},replace:function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}}(t,e)})),i=of(e,t,n,r);return we(r,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},af=Zd.single,uf=Zd.multiple,sf=M(Qd),cf=Lr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),lf=Or("factory",{sketch:N}),df=Or("schema",[]),ff=cr("name"),mf=ar("pname","pname",ko((function(e){return"<alloy."+ba(e.name)+">"})),jo()),pf=ur("schema",(function(){return[br("preprocess")]})),gf=Or("defaults",M({})),hf=Or("overrides",M({})),vf=Bo([lf,df,ff,mf,gf,hf]),bf=Bo([lf,df,ff,gf,hf]),yf=Bo([lf,df,ff,mf,gf,hf]),xf=Bo([lf,pf,ff,cr("unit"),mf,gf,hf]),wf=function(e){return e.fold(V.some,V.none,V.some,V.some)},Cf=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},kf=function(e,t){return function(n){var o=or("Converting part type",t,n);return e(o)}},Sf=kf(cf.required,vf),Ef=kf(cf.external,bf),Of=kf(cf.optional,yf),_f=kf(cf.group,xf),Tf=M("entirety"),Af=Object.freeze({__proto__:null,required:Sf,external:Ef,optional:Of,group:_f,asNamedPart:wf,name:Cf,asCommon:function(e){return e.fold(N,N,N,N)},original:Tf}),Rf=function(e,t,n,o){return wo(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o))},Df=function(e,t){var n={};return Z(t,(function(t){wf(t).each((function(t){var o=Mf(e,t.pname);n[t.name]=function(n){var i=or("Part: "+t.name+" in "+e,Bo(t.schema),n);return r(r({},o),{},{config:n,validated:i})}}))})),n},Mf=function(e,t){return{uiType:sf(),owner:e,name:t}},Nf=function(e,t,n){return{uiType:sf(),owner:e,name:t,config:n,validated:{}}},zf=function(e){return ue(e,(function(e){return e.fold(V.none,V.some,V.none,V.none).map((function(e){return gr(e.name,e.schema.concat([ts(Tf())]))})).toArray()}))},Pf=function(e){return Q(e,Cf)},Lf=function(e,t,n){return function(e,t,n){var o={},r={};return Z(n,(function(e){e.fold((function(e){o[e.pname]=af(!0,(function(t,n,o){return e.factory.sketch(Rf(t,e,n,o))}))}),(function(e){var n=t.parts[e.name];r[e.name]=M(e.factory.sketch(Rf(t,e,n[Tf()]),n))}),(function(e){o[e.pname]=af(!1,(function(t,n,o){return e.factory.sketch(Rf(t,e,n,o))}))}),(function(e){o[e.pname]=uf(!0,(function(t,n,o){var r=t[e.name];return Q(r,(function(n){return e.factory.sketch(wo(e.defaults(t,n,o),n,e.overrides(t,n)))}))}))}))})),{internals:M(o),externals:M(r)}}(0,t,n)},Ff=function(e,t,n){return rf(V.some(e),t,t.components,n)},Bf=function(e,t,n){var o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},qf=function(e,t,n){return Bf(e,t,n).getOrDie("Could not find part: "+n)},If=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return Z(n,(function(e){o[e]=M(i.getByUid(r[e]))})),o},Hf=function(e,t){var n=e.getSystem();return Ce(t.partUids,(function(e,t){return M(n.getByUid(e))}))},Vf=function(e){return ye(e.partUids)},jf=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return Z(n,(function(e){o[e]=M(i.getByUid(r[e]).getOrDie())})),o},Uf=function(e,t){var n=Pf(t);return Ir(Q(n,(function(t){return{key:t,value:e+"-"+t}})))},Gf=function(e){return ar("partUids","partUids",Eo((function(t){return Uf(t.uid,e)})),jo())},Wf=Object.freeze({__proto__:null,generate:Df,generateOne:Nf,schemas:zf,names:Pf,substitutes:Lf,components:Ff,defaultUids:Uf,defaultUidsSchema:Gf,getAllParts:Hf,getAllPartNames:Vf,getPart:Bf,getPartOrDie:qf,getParts:If,getPartsOrDie:jf}),$f=function(e,t,n,o,r){var i=function(e,t){return(e.length>0?[gr("parts",e)]:[]).concat([cr("uid"),Or("dom",{}),Or("components",[]),ts("originalSpec"),Or("debug.sketcher",{})]).concat(t)}(o,r);return or(e+" [SpecSchema]",Fo(i.concat(t)),n)},Kf=function(e,t,n,o,r){var i=Jf(r),a=zf(n),u=Gf(n),s=$f(e,t,i,a,[u]),c=Lf(0,s,n);return o(s,Ff(e,s,c.internals()),i,c.externals())},Jf=function(e){return function(e){return Re(e,"uid")}(e)?e:r(r({},e),{},{uid:Ea("uid")})},Yf=Fo([cr("name"),cr("factory"),cr("configFields"),Or("apis",{}),Or("extraApis",{})]),Xf=Fo([cr("name"),cr("factory"),cr("configFields"),cr("partFields"),Or("apis",{}),Or("extraApis",{})]),Qf=function(e){var t=or("Sketcher for "+e.name,Yf,e),n=Ce(t.apis,za),o=Ce(t.extraApis,(function(e,t){return Ra(e,t)}));return r(r({name:t.name,configFields:t.configFields,sketch:function(e){return function(e,t,n,o){var r=Jf(o);return n($f(e,t,r,[],[]),r)}(t.name,t.configFields,t.factory,e)}},n),o)},Zf=function(e){var t=or("Sketcher for "+e.name,Xf,e),n=Df(t.name,t.partFields),o=Ce(t.apis,za),i=Ce(t.extraApis,(function(e,t){return Ra(e,t)}));return r(r({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return Kf(t.name,t.configFields,t.partFields,t.factory,e)},parts:n},o),i)},em=function(e){return Qe("input")(e)&&"radio"!==Tt(e,"type")||Qe("textarea")(e)},tm=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),nm=[cr("find")],om=Gs({fields:nm,name:"composing",apis:tm}),rm=["input","button","textarea","select"],im=function(e,t,n){(t.disabled()?dm:fm)(e,t)},am=function(e,t){return!0===t.useNative&&K(rm,We(e.element))},um=function(e){Ot(e.element,"disabled","disabled")},sm=function(e){Dt(e.element,"disabled")},cm=function(e){Ot(e.element,"aria-disabled","true")},lm=function(e){Ot(e.element,"aria-disabled","false")},dm=function(e,t,n){t.disableClass.each((function(t){Za(e.element,t)})),(am(e,t)?um:cm)(e),t.onDisabled(e)},fm=function(e,t,n){t.disableClass.each((function(t){eu(e.element,t)})),(am(e,t)?sm:lm)(e),t.onEnabled(e)},mm=function(e,t){return am(e,t)?function(e){return Rt(e.element,"disabled")}(e):function(e){return"true"===Tt(e.element,"aria-disabled")}(e)},pm=Object.freeze({__proto__:null,enable:fm,disable:dm,isDisabled:mm,onLoad:im,set:function(e,t,n,o){(o?dm:fm)(e,t)}}),gm=Object.freeze({__proto__:null,exhibit:function(e,t){return Ba({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return Ji([Yi(Ci(),(function(t,n){return mm(t,e)})),qs(e,t,im)])}}),hm=[Mr("disabled",q),Or("useNative",!0),br("disableClass"),Yu("onDisabled"),Yu("onEnabled")],vm=Gs({fields:hm,name:"disabling",active:gm,apis:pm}),bm=function(e,t,n,o){var r=xl(e.element,"."+t.highlightClass);Z(r,(function(n){J(o,(function(e){return e.element===n}))||(eu(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),ji(n,Vi())})))}))},ym=function(e,t,n,o){bm(e,t,0,[o]),xm(e,t,n,o)||(Za(o.element,t.highlightClass),t.onHighlight(e,o),ji(o,Hi()))},xm=function(e,t,n,o){return tu(o.element,t.highlightClass)},wm=function(e,t,n,o){var r=xl(e.element,"."+t.itemClass);return V.from(r[o]).fold((function(){return oo.error(new Error("No element found with index "+o))}),e.getSystem().getByDom)},Cm=function(e,t,n){return Du(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},km=function(e,t,n){var o=xl(e.element,"."+t.itemClass);return(o.length>0?V.some(o[o.length-1]):V.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Sm=function(e,t,n,o){var r=xl(e.element,"."+t.itemClass),i=ie(r,(function(e){return tu(e,t.highlightClass)}));return i.bind((function(t){var n=ms(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Em=function(e,t,n){var o=xl(e.element,"."+t.itemClass);return Ne(Q(o,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Om=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return bm(e,t,0,[])},dehighlight:function(e,t,n,o){xm(e,t,n,o)&&(eu(o.element,t.highlightClass),t.onDehighlight(e,o),ji(o,Vi()))},highlight:ym,highlightFirst:function(e,t,n){Cm(e,t).each((function(o){ym(e,t,n,o)}))},highlightLast:function(e,t,n){km(e,t).each((function(o){ym(e,t,n,o)}))},highlightAt:function(e,t,n,o){wm(e,t,n,o).fold((function(e){throw e}),(function(o){ym(e,t,n,o)}))},highlightBy:function(e,t,n,o){var r=Em(e,t);re(r,o).each((function(o){ym(e,t,n,o)}))},isHighlighted:xm,getHighlighted:function(e,t,n){return Du(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:Cm,getLast:km,getPrevious:function(e,t,n){return Sm(e,t,0,-1)},getNext:function(e,t,n){return Sm(e,t,0,1)},getCandidates:Em}),_m=[cr("highlightClass"),cr("itemClass"),Yu("onHighlight"),Yu("onDehighlight")],Tm=Gs({fields:_m,name:"highlighting",apis:Om}),Am=[8],Rm=[9],Dm=[13],Mm=[27],Nm=[32],zm=[37],Pm=[38],Lm=[39],Fm=[40],Bm=function(e,t,n){var o=ce(e.slice(0,t)),r=ce(e.slice(t+1));return re(o.concat(r),n)},qm=function(e,t,n){var o=ce(e.slice(0,t));return re(o,n)},Im=function(e,t,n){var o=e.slice(0,t),r=e.slice(t+1);return re(r.concat(o),n)},Hm=function(e,t,n){var o=e.slice(t+1);return re(o,n)},Vm=function(e){return function(t){var n=t.raw;return K(e,n.which)}},jm=function(e){return function(t){return se(e,(function(e){return e(t)}))}},Um=function(e){return!0===e.raw.shiftKey},Gm=function(e){return!0===e.raw.ctrlKey},Wm=L(Um),$m=function(e,t){return{matches:e,classification:t}},Km=function(e,t,n){t.exists((function(e){return n.exists((function(t){return tt(t,e)}))}))||Ui(e,Fi(),{prevFocus:t,newFocus:n})},Jm=function(){var e=function(e){return ec(e.element)};return{get:e,set:function(t,n){var o=e(t);t.getSystem().triggerFocus(n,t.element);var r=e(t);Km(t,o,r)}}},Ym=function(){var e=function(e){return Tm.getHighlighted(e).map((function(e){return e.element}))};return{get:e,set:function(t,n){var o=e(t);t.getSystem().getByDom(n).fold(R,(function(e){Tm.highlight(t,e)}));var r=e(t);Km(t,o,r)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(yl||(yl={}));var Xm,Qm,Zm,ep=function(e,t,n,o,r){var i=function(e,t,n,o,r){return function(e,t){var n=re(e,(function(e){return e.matches(t)}));return n.map((function(e){return e.classification}))}(n(e,t,o,r),t.event).bind((function(n){return n(e,t,o,r)}))},a={schema:function(){return e.concat([Or("focusManager",Jm()),_r("focusInside","onFocus",Zo((function(e){return K(["onFocus","onEnterOrSpace","onApi"],e)?oo.value(e):oo.error("Invalid value for focusInside")}))),es("handler",a),es("state",t),es("sendFocusIn",r)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==yl.OnFocusMode?V.none():r(e).map((function(n){return Qi(bi(),(function(o,r){n(o,e,t),r.stop()}))})),u=[Qi(ui(),(function(o,a){i(o,a,n,e,t).fold((function(){!function(n,o){var i=Vm(Nm.concat(Dm))(o.event);e.focusInside===yl.OnEnterOrSpaceMode&&i&&Gr(n,o)&&r(e).each((function(r){r(n,e,t),o.stop()}))}(o,a)}),(function(e){a.stop()}))})),Qi(si(),(function(n,r){i(n,r,o,e,t).each((function(e){r.stop()}))}))];return Ji(a.toArray().concat(u))}};return a},tp=function(e){var t=[br("onEscape"),br("onEnter"),Or("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Or("firstTabstop",0),Or("useTabstopAt",I),br("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return Mu(t,e)})).getOr(t);return Wt(n)>0},o=function(e,t,o){(function(e,t){var o=xl(e.element,t.selector),r=te(o,(function(e){return n(t,e)}));return V.from(r[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},r=function(e,t,o,r,i){return i(t,o,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(r,e)})).fold((function(){return r.cyclic?V.some(!0):V.none()}),(function(t){return r.focusManager.set(e,t),V.some(!0)}))},i=function(e,t,n,o){var i=xl(e.element,n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return Mu(e,t.selector)}))}(e,n).bind((function(t){return ie(i,P(tt,t)).bind((function(t){return r(e,i,t,n,o)}))}))},a=M([$m(jm([Um,Vm(Rm)]),(function(e,t,n){var o=n.cyclic?Bm:qm;return i(e,0,n,o)})),$m(Vm(Rm),(function(e,t,n){var o=n.cyclic?Im:Hm;return i(e,0,n,o)})),$m(Vm(Mm),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),$m(jm([Wm,Vm(Dm)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]),u=M([]);return ep(t,Pa.init,a,u,(function(){return V.some(o)}))},np=tp(ur("cyclic",q)),op=tp(ur("cyclic",I)),rp=function(e,t,n){return em(n)&&Vm(Nm)(t.event)?V.none():function(e,t,n){return Wi(e,n,Ci()),V.some(!0)}(e,0,n)},ip=function(e,t){return V.some(!0)},ap=[Or("execute",rp),Or("useSpace",!1),Or("useEnter",!0),Or("useControlEnter",!1),Or("useDown",!1)],up=function(e,t,n){return n.execute(e,t,e.element)},sp=ep(ap,Pa.init,(function(e,t,n,o){var r=n.useSpace&&!em(e.element)?Nm:[],i=n.useEnter?Dm:[],a=n.useDown?Fm:[],u=r.concat(i).concat(a);return[$m(Vm(u),up)].concat(n.useControlEnter?[$m(jm([Gm,Vm(Dm)]),up)]:[])}),(function(e,t,n,o){return n.useSpace&&!em(e.element)?[$m(Vm(Nm),ip)]:[]}),(function(){return V.none()})),cp=function(){var e=xc();return La({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set({numRows:t,numColumns:n})},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})},lp=Object.freeze({__proto__:null,flatgrid:cp,init:function(e){return e.state(e)}}),dp=function(e){return function(t,n,o,r){var i=e(t.element);return gp(i,t,n,o,r)}},fp=function(e,t){var n=Vc(e,t);return dp(n)},mp=function(e,t){var n=Vc(t,e);return dp(n)},pp=function(e){return function(t,n,o,r){return gp(e,t,n,o,r)}},gp=function(e,t,n,o,r){return o.focusManager.get(t).bind((function(n){return e(t.element,n,o,r)})).map((function(e){return o.focusManager.set(t,e),!0}))},hp=pp,vp=pp,bp=pp,yp=function(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e.dom)},xp=function(e,t,n){var o=xl(e,n);return function(e,t){return ie(e,t).map((function(t){return{index:t,candidates:e}}))}(te(o,yp),(function(e){return tt(e,t)}))},wp=function(e,t){return ie(e,(function(e){return tt(t,e)}))},Cp=function(e,t,n,o){return o(Math.floor(t/n),t%n).bind((function(t){var o=t.row*n+t.column;return o>=0&&o<e.length?V.some(e[o]):V.none()}))},kp=function(e,t,n,o,r){return Cp(e,t,o,(function(t,i){var a=t===n-1?e.length-t*o:o,u=ms(i,r,0,a-1);return V.some({row:t,column:u})}))},Sp=function(e,t,n,o,r){return Cp(e,t,o,(function(t,i){var a=ms(t,r,0,n-1),u=a===n-1?e.length-a*o:o,s=ps(i,0,u-1);return V.some({row:a,column:s})}))},Ep=[cr("selector"),Or("execute",rp),Xu("onEscape"),Or("captureTab",!1),ns()],Op=function(e,t,n){Du(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},_p=function(e){return function(t,n,o,r){return xp(t,n,o.selector).bind((function(t){return e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns))}))}},Tp=function(e,t,n){return n.captureTab?V.some(!0):V.none()},Ap=_p((function(e,t,n,o){return kp(e,t,n,o,-1)})),Rp=_p((function(e,t,n,o){return kp(e,t,n,o,1)})),Dp=_p((function(e,t,n,o){return Sp(e,t,n,o,-1)})),Mp=_p((function(e,t,n,o){return Sp(e,t,n,o,1)})),Np=M([$m(Vm(zm),fp(Ap,Rp)),$m(Vm(Lm),mp(Ap,Rp)),$m(Vm(Pm),hp(Dp)),$m(Vm(Fm),vp(Mp)),$m(jm([Um,Vm(Rm)]),Tp),$m(jm([Wm,Vm(Rm)]),Tp),$m(Vm(Mm),(function(e,t,n){return n.onEscape(e,t)})),$m(Vm(Nm.concat(Dm)),(function(e,t,n,o){return function(e,t){return t.focusManager.get(e).bind((function(e){return Mu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))}))]),zp=M([$m(Vm(Nm),ip)]),Pp=ep(Ep,cp,Np,zp,(function(){return V.some(Op)})),Lp=function(e,t,n,o){var r=function e(t,n,r){var i,a=ms(n,o,0,r.length-1);return a===t?V.none():(i=r[a],"button"===We(i)&&"disabled"===Tt(i,"disabled")?e(t,a,r):V.from(r[a]))};return xp(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return r(t,t,n)}))},Fp=[cr("selector"),Or("getInitial",V.none),Or("execute",rp),Xu("onEscape"),Or("executeOnMove",!1),Or("allowVertical",!0)],Bp=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return Mu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))},qp=function(e,t,n){t.getInitial(e).orThunk((function(){return Du(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},Ip=function(e,t,n){return Lp(e,n.selector,t,-1)},Hp=function(e,t,n){return Lp(e,n.selector,t,1)},Vp=function(e){return function(t,n,o,r){return e(t,n,o,r).bind((function(){return o.executeOnMove?Bp(t,n,o):V.some(!0)}))}},jp=function(e,t,n){return n.onEscape(e,t)},Up=M([$m(Vm(Nm),ip)]),Gp=ep(Fp,Pa.init,(function(e,t,n,o){var r=zm.concat(n.allowVertical?Pm:[]),i=Lm.concat(n.allowVertical?Fm:[]);return[$m(Vm(r),Vp(fp(Ip,Hp))),$m(Vm(i),Vp(mp(Ip,Hp))),$m(Vm(Dm),Bp),$m(Vm(Nm),Bp),$m(Vm(Mm),jp)]}),Up,(function(){return V.some(qp)})),Wp=function(e,t,n){return V.from(e[t]).bind((function(e){return V.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},$p=function(e,t,n,o){var r=e[t].length,i=ms(n,o,0,r-1);return Wp(e,t,i)},Kp=function(e,t,n,o){var r=ms(n,o,0,e.length-1),i=e[r].length,a=ps(t,0,i-1);return Wp(e,r,a)},Jp=function(e,t,n,o){var r=e[t].length,i=ps(n+o,0,r-1);return Wp(e,t,i)},Yp=function(e,t,n,o){var r=ps(n+o,0,e.length-1),i=e[r].length,a=ps(t,0,i-1);return Wp(e,r,a)},Xp=[gr("selectors",[cr("row"),cr("cell")]),Or("cycles",!0),Or("previousSelector",V.none),Or("execute",rp)],Qp=function(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Du(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))},Zp=function(e,t){return function(n,o,r){var i=r.cycles?e:t;return Mu(o,r.selectors.row).bind((function(e){var t=xl(e,r.selectors.cell);return wp(t,o).bind((function(t){var o=xl(n,r.selectors.row);return wp(o,e).bind((function(e){var n=function(e,t){return Q(e,(function(e){return xl(e,t.selectors.cell)}))}(o,r);return i(n,e,t).map((function(e){return e.cell}))}))}))}))}},eg=Zp((function(e,t,n){return $p(e,t,n,-1)}),(function(e,t,n){return Jp(e,t,n,-1)})),tg=Zp((function(e,t,n){return $p(e,t,n,1)}),(function(e,t,n){return Jp(e,t,n,1)})),ng=Zp((function(e,t,n){return Kp(e,n,t,-1)}),(function(e,t,n){return Yp(e,n,t,-1)})),og=Zp((function(e,t,n){return Kp(e,n,t,1)}),(function(e,t,n){return Yp(e,n,t,1)})),rg=M([$m(Vm(zm),fp(eg,tg)),$m(Vm(Lm),mp(eg,tg)),$m(Vm(Pm),hp(ng)),$m(Vm(Fm),vp(og)),$m(Vm(Nm.concat(Dm)),(function(e,t,n){return ec(e.element).bind((function(o){return n.execute(e,t,o)}))}))]),ig=M([$m(Vm(Nm),ip)]),ag=ep(Xp,Pa.init,rg,ig,(function(){return V.some(Qp)})),ug=[cr("selector"),Or("execute",rp),Or("moveOnTab",!1)],sg=function(e,t,n){return n.focusManager.get(e).bind((function(o){return n.execute(e,t,o)}))},cg=function(e,t,n){Du(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},lg=function(e,t,n){return Lp(e,n.selector,t,-1)},dg=function(e,t,n){return Lp(e,n.selector,t,1)},fg=M([$m(Vm(Pm),bp(lg)),$m(Vm(Fm),bp(dg)),$m(jm([Um,Vm(Rm)]),(function(e,t,n,o){return n.moveOnTab?bp(lg)(e,t,n,o):V.none()})),$m(jm([Wm,Vm(Rm)]),(function(e,t,n,o){return n.moveOnTab?bp(dg)(e,t,n,o):V.none()})),$m(Vm(Dm),sg),$m(Vm(Nm),sg)]),mg=M([$m(Vm(Nm),ip)]),pg=ep(ug,Pa.init,fg,mg,(function(){return V.some(cg)})),gg=[Xu("onSpace"),Xu("onEnter"),Xu("onShiftEnter"),Xu("onLeft"),Xu("onRight"),Xu("onTab"),Xu("onShiftTab"),Xu("onUp"),Xu("onDown"),Xu("onEscape"),Or("stopSpaceKeyup",!1),br("focusIn")],hg=ep(gg,Pa.init,(function(e,t,n){return[$m(Vm(Nm),n.onSpace),$m(jm([Wm,Vm(Dm)]),n.onEnter),$m(jm([Um,Vm(Dm)]),n.onShiftEnter),$m(jm([Um,Vm(Rm)]),n.onShiftTab),$m(jm([Wm,Vm(Rm)]),n.onTab),$m(Vm(Pm),n.onUp),$m(Vm(Fm),n.onDown),$m(Vm(zm),n.onLeft),$m(Vm(Lm),n.onRight),$m(Vm(Nm),n.onSpace),$m(Vm(Mm),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[$m(Vm(Nm),ip)]:[]}),(function(e){return e.focusIn})),vg=np.schema(),bg=op.schema(),yg=Gp.schema(),xg=Pp.schema(),wg=ag.schema(),Cg=sp.schema(),kg=pg.schema(),Sg=hg.schema(),Eg=$s({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:vg,cyclic:bg,flow:yg,flatgrid:xg,matrix:wg,execution:Cg,menu:kg,special:Sg}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(o){o(e,t,n)}))},setGridSize:function(e,t,n,o,r){!function(e){return De(e,"setGridSize")}(n)?console.error("Layout does not support setGridSize"):n.setGridSize(o,r)}},state:lp}),Og=function(e,t){tc((function(){ud(e,t,(function(){return Q(t,e.getSystem().build)}))}),e.element)},_g=function(e,t){tc((function(){!function(e,t,n){var o=e.components(),r=ue(t,(function(e){return Na(e).toArray()}));Z(o,(function(e){K(r,e)||id(e)}));var i=n(t),a=le(o,i);Z(a,(function(e){td(e)&&id(e)})),Z(i,(function(t){td(t)||rd(e,t)})),e.syncComponents()}(e,t,(function(){return function(e,t,n){return su(e,t,(function(t,o){return cu(e,o,t,n)}))}(e.element,t,e.getSystem().buildOrPatch)}))}),e.element)},Tg=function(e,t,n,o){id(t);var r=cu(e.element,n,o,e.getSystem().buildOrPatch);rd(e,r),e.syncComponents()},Ag=function(e,t,n){var o=e.getSystem().build(n);cd(e,o,t)},Rg=function(e,t,n,o){dd(t),Ag(e,(function(e,t){return function(e,t,n){dt(e,n).fold((function(){Bn(e,t)}),(function(e){Pn(e,t)}))}(e,t,n)}),o)},Dg=function(e,t){return e.components()},Mg=function(e,t,n,o,r){var i=Dg(e);return V.from(i[o]).map((function(n){return r.fold((function(){return dd(n)}),(function(r){(t.reuseDom?Tg:Rg)(e,n,o,r)})),n}))},Ng=Object.freeze({__proto__:null,append:function(e,t,n,o){Ag(e,Bn,o)},prepend:function(e,t,n,o){Ag(e,Fn,o)},remove:function(e,t,n,o){var r=Dg(e),i=re(r,(function(e){return tt(o.element,e.element)}));i.each(dd)},replaceAt:Mg,replaceBy:function(e,t,n,o,r){var i=Dg(e);return ie(i,o).bind((function(n){return Mg(e,t,0,n,r)}))},set:function(e,t,n,o){return(t.reuseDom?_g:Og)(e,o)},contents:Dg}),zg=Gs({fields:[Dr("reuseDom",!0)],name:"replacing",apis:Ng}),Pg=function(e,t){var n=function(e,t){var n=Ji(t);return Gs({fields:[cr("enabled")],name:e,active:{events:M(n)}})}(e,t);return{key:e,value:{config:{},me:n,configAsRaw:M({}),initialConfig:{},state:Pa}}},Lg=function(e,t){t.ignore||(Xs(e.element),t.onFocus(e))},Fg=Object.freeze({__proto__:null,focus:Lg,blur:function(e,t){t.ignore||function(e){e.dom.blur()}(e.element)},isFocused:function(e){return Qs(e.element)}}),Bg=Object.freeze({__proto__:null,exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ba(n)},events:function(e){return Ji([Qi(bi(),(function(t,n){Lg(t,e),n.stop()}))].concat(e.stopMousedown?[Qi(ei(),(function(e,t){t.event.prevent()}))]:[]))}}),qg=[Yu("onFocus"),Or("stopMousedown",!1),Or("ignore",!1)],Ig=Gs({fields:qg,name:"focusing",active:Bg,apis:Fg}),Hg=function(e,t,n){var o=t.aria;o.update(e,o,n.get())},Vg=function(e,t,n){t.toggleClass.each((function(t){n.get()?Za(e.element,t):eu(e.element,t)}))},jg=function(e,t,n){Wg(e,t,n,!n.get())},Ug=function(e,t,n){n.set(!0),Vg(e,t,n),Hg(e,t,n)},Gg=function(e,t,n){n.set(!1),Vg(e,t,n),Hg(e,t,n)},Wg=function(e,t,n,o){(o?Ug:Gg)(e,t,n)},$g=function(e,t,n){Wg(e,t,n,t.selected)},Kg=Object.freeze({__proto__:null,onLoad:$g,toggle:jg,isOn:function(e,t,n){return n.get()},on:Ug,off:Gg,set:Wg}),Jg=Object.freeze({__proto__:null,exhibit:function(){return Ba({})},events:function(e,t){var n,o,r,i=(n=e,o=t,r=jg,ca((function(e){r(e,n,o)}))),a=qs(e,t,$g);return Ji(ae([e.toggleOnExecute?[i]:[],[a]]))}}),Yg=function(e,t,n){Ot(e.element,"aria-expanded",n)},Xg=[Or("selected",!1),br("toggleClass"),Or("toggleOnExecute",!0),_r("aria",{mode:"none"},ir("mode",{pressed:[Or("syncWithExpanded",!1),es("update",(function(e,t,n){Ot(e.element,"aria-pressed",n),t.syncWithExpanded&&Yg(e,t,n)}))],checked:[es("update",(function(e,t,n){Ot(e.element,"aria-checked",n)}))],expanded:[es("update",Yg)],selected:[es("update",(function(e,t,n){Ot(e.element,"aria-selected",n)}))],none:[es("update",R)]}))],Qg=Gs({fields:Xg,name:"toggling",active:Jg,apis:Kg,state:(Xm=!1,{init:function(){var e=Pr(Xm);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Xm)},readState:function(){return e.get()}}}})}),Zg=function(){var e=function(e,t){t.stop(),Gi(e)};return[Qi(di(),e),Qi(Si(),e),oa(Yr()),oa(ei())]},eh=function(e){return Ji(ae([e.map((function(e){return ca((function(t,n){e(t),n.stop()}))})).toArray(),Zg()]))},th="alloy.item-hover",nh="alloy.item-focus",oh=function(e){(ec(e.element).isNone()||Ig.isFocused(e))&&(Ig.isFocused(e)||Ig.focus(e),Ui(e,th,{item:e}))},rh=function(e){Ui(e,nh,{item:e})},ih=M(th),ah=M(nh),uh=[cr("data"),cr("components"),cr("dom"),Or("hasSubmenu",!1),br("toggling"),Yd("itemBehaviours",[Qg,Ig,Eg,Wd]),Or("ignoreFocus",!1),Or("domModification",{}),es("builder",(function(e){return{dom:e.dom,domModification:r(r({},e.domModification),{},{attributes:r(r({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{},{"aria-haspopup":e.hasSubmenu},e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Xd(e.itemBehaviours,[e.toggling.fold(Qg.revoke,(function(e){return Qg.config(r({aria:{mode:"checked"}},e))})),Ig.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){rh(e)}}),Eg.config({mode:"execution"}),Wd.config({store:{mode:"memory",initialValue:e.data}}),Pg("item-type-events",[].concat(a(Zg()),[Qi(ri(),oh),Qi(ki(),Ig.focus)]))]),components:e.components,eventOrder:e.eventOrder}})),Or("eventOrder",{})],sh=[cr("dom"),cr("components"),es("builder",(function(e){return{dom:e.dom,components:e.components,events:Ji([ra(ki())])}}))],ch=M("item-widget"),lh=M([Sf({name:"widget",overrides:function(e){return{behaviours:js([Wd.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:R}})])}}})]),dh=[cr("uid"),cr("data"),cr("components"),cr("dom"),Or("autofocus",!1),Or("ignoreFocus",!1),Yd("widgetBehaviours",[Wd,Ig,Eg]),Or("domModification",{}),Gf(lh()),es("builder",(function(e){var t=Lf(ch(),e,lh()),n=Ff(ch(),e,t.internals()),o=function(t){return Bf(t,e,"widget").map((function(e){return Eg.focusIn(e),e}))},r=function(t,n){return em(n.event.target)?V.none():e.autofocus?(n.setSource(t.element),V.none()):V.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:Ji([ca((function(e,t){o(e).each((function(e){t.stop()}))})),Qi(ri(),oh),Qi(ki(),(function(t,n){e.autofocus?o(t):Ig.focus(t)}))]),behaviours:Xd(e.widgetBehaviours,[Wd.config({store:{mode:"memory",initialValue:e.data}}),Ig.config({ignore:e.ignoreFocus,onFocus:function(e){rh(e)}}),Eg.config({mode:"special",focusIn:e.autofocus?function(e){o(e)}:Ks(),onLeft:r,onRight:r,onEscape:function(t,n){return Ig.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),V.none()):V.none():(Ig.focus(t),V.some(!0))}})])}}))],fh=ir("type",{widget:dh,item:uh,separator:sh}),mh=M([_f({factory:{sketch:function(e){var t=or("menu.spec item",fh,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return Re(t,"uid")?t:r(r({},t),{},{uid:Ea("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),ph=M([cr("value"),cr("items"),cr("dom"),cr("components"),Or("eventOrder",{}),$d("menuBehaviours",[Tm,Wd,om,Eg]),_r("movement",{mode:"menu",moveOnTab:!0},ir("mode",{grid:[ns(),es("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[es("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),cr("rowSelector")],menu:[Or("moveOnTab",!0),es("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),lr("markers",Gu()),Or("fakeFocus",!1),Or("focusManager",Jm()),Yu("onHighlight")]),gh=M("alloy.menu-focus"),hh=Zf({name:"Menu",configFields:ph(),partFields:mh(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jd(e.menuBehaviours,[Tm.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Wd.config({store:{mode:"memory",initialValue:e.value}}),om.config({find:V.some}),Eg.config(e.movement.config(e,e.movement))]),events:Ji([Qi(ah(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Tm.highlight(e,n),t.stop(),Ui(e,gh(),{menu:e,item:n})}))})),Qi(ih(),(function(e,t){var n=t.event.item;Tm.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),vh=function e(t,n,o,r){return Ae(o,r).bind((function(r){return Ae(t,r).bind((function(r){var i=e(t,n,o,r);return V.some([r].concat(i))}))})).getOr([])},bh=function(e,t){var n={};we(e,(function(e,t){Z(e,(function(e){n[e]=t}))}));var o=t,r=ke(t,(function(e,t){return{k:e,v:t}})),i=Ce(r,(function(e,t){return[t].concat(vh(n,o,r,t))}));return Ce(n,(function(e){return Ae(i,e).getOr([e])}))},yh=function(e){return"prepared"===e.type?V.some(e.menu):V.none()},xh={init:function(){var e=Pr({}),t=Pr({}),n=Pr({}),o=xc(),a=Pr({}),u=function(t,n,o){return s(t).bind((function(r){return function(t){return _e(e.get(),(function(e,n){return e===t}))}(t).bind((function(e){return n(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:o}}))}))}))},s=function(e){return c(e).bind(yh)},c=function(e){return Ae(t.get(),e)},l=function(t){return Ae(e.get(),t)};return{setMenuBuilt:function(e,n){t.set(r(r({},t.get()),{},i({},e,{type:"prepared",menu:n})))},setContents:function(r,i,u,s){o.set(r),e.set(u),t.set(i),a.set(s);var c=bh(s,u);n.set(c)},expand:function(t){return Ae(e.get(),t).map((function(e){var o=Ae(n.get(),t).getOr([]);return[e].concat(o)}))},refresh:function(e){return Ae(n.get(),e)},collapse:function(e){return Ae(n.get(),e).bind((function(e){return e.length>1?V.some(e.slice(1)):V.none()}))},lookupMenu:c,lookupItem:l,otherMenus:function(e){var t=a.get();return le(ye(t),e)},getPrimary:function(){return o.get().bind(s)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),o.clear()},isClear:function(){return o.get().isNone()},getTriggeringPath:function(e,t){var r=te(l(e).toArray(),(function(e){return s(e).isSome()}));return Ae(n.get(),e).bind((function(e){var n=ce(r.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!o.isSome())return V.none();t.push(o.getOrDie())}return V.some(t)}(ue(n,(function(e,r){return u(e,t,n.slice(0,r+1)).fold((function(){return Me(o.get(),e)?[]:[V.none()]}),(function(e){return[V.some(e)]}))})))}))}}},extractPreparedMenu:yh},wh=M("collapse-item"),Ch=Qf({name:"TieredMenu",configFields:[Zu("onExecute"),Zu("onEscape"),Qu("onOpenMenu"),Qu("onOpenSubmenu"),Yu("onRepositionMenu"),Yu("onCollapseMenu"),Or("highlightImmediately",!0),gr("data",[cr("primary"),cr("menus"),cr("expansions")]),Or("fakeFocus",!1),Yu("onHighlight"),Yu("onHover"),$u(),cr("dom"),Or("navigateOnHover",!0),Or("stayInDom",!1),$d("tmenuBehaviours",[Eg,Tm,om,zg]),Or("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,o=xc(),i=xh.init(),a=function(t){var n=function(t,n,o){return Ce(o,(function(o,i){var a=function(){return hh.sketch(r(r({},o),{},{value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Ym():Jm()}))};return i===n?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}(t,e.data.primary,e.data.menus),o=s();return i.setContents(e.data.primary,n,e.data.expansions,o),i.getPrimary()},u=function(e){return Wd.getValue(e).value},s=function(t){return Ce(e.data.menus,(function(e,t){return ue(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},c=function(e,t){Tm.highlight(e,t),Tm.getHighlighted(t).orThunk((function(){return Tm.getFirst(t)})).each((function(t){Wi(e,t.element,ki())}))},l=function(e,t){return Ne(Q(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?V.some(e.menu):V.none()}))})))},d=function(t,n,o){var r=l(n,n.otherMenus(o));Z(r,(function(n){ou(n.element,[e.markers.backgroundMenu]),e.stayInDom||zg.remove(t,n)}))},f=function(t,n){var r=function(t){return o.get().getOrThunk((function(){var n={},r=xl(t.element,".".concat(e.markers.item)),i=te(r,(function(e){return"true"===Tt(e,"aria-haspopup")}));return Z(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=u(e);n[t]=e}))})),o.set(n),n}))}(t);we(r,(function(e,t){var o=K(n,t);Ot(e.element,"aria-expanded",o)}))},m=function(t,n,o){return V.from(o[0]).bind((function(r){return n.lookupMenu(r).bind((function(r){if("notbuilt"===r.type)return V.none();var i=r.menu,a=l(n,o.slice(1));return Z(a,(function(t){Za(t.element,e.markers.backgroundMenu)})),Ct(i.element)||zg.append(t,Su(i)),ou(i.element,[e.markers.backgroundMenu]),c(t,i),d(t,n,o),V.some(i)}))}))};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var p=function(e,t,n){if("notbuilt"===n.type){var o=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,o),o}return n.menu},g=function(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.HighlightSubmenu;if(o.hasConfigured(vm)&&vm.isDisabled(o))return V.some(o);var a=u(o);return i.expand(a).bind((function(a){return f(t,a),V.from(a[0]).bind((function(u){return i.lookupMenu(u).bind((function(s){var c=p(t,u,s);return Ct(c.element)||zg.append(t,Su(c)),e.onOpenSubmenu(t,o,c,ce(a)),r===n.HighlightSubmenu?(Tm.highlightFirst(c),m(t,i,a)):(Tm.dehighlightAll(c),V.some(o))}))}))}))},h=function(t,n){var o=u(n);return i.collapse(o).bind((function(o){return f(t,o),m(t,i,o).map((function(o){return e.onCollapseMenu(t,n,o),o}))}))},v=function(t){return function(n,o){return Mu(o.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(I)}))}))}},b=Ji([Qi(gh(),(function(e,t){var n=t.event.item;i.lookupItem(u(n)).each((function(){var n=t.event.menu;Tm.highlight(e,n);var o=u(t.event.item);i.refresh(o).each((function(t){return d(e,i,t)}))}))})),ca((function(t,o){var r=o.event.target;t.getSystem().getByDom(r).each((function(o){0===u(o).indexOf("collapse-item")&&h(t,o),g(t,o,n.HighlightSubmenu).fold((function(){e.onExecute(t,o)}),R)}))})),aa((function(t,n){a(t).each((function(n){zg.append(t,Su(n)),e.onOpenMenu(t,n),e.highlightImmediately&&c(t,n)}))}))].concat(e.navigateOnHover?[Qi(ih(),(function(t,o){var r=o.event.item;!function(e,t){var n=u(t);i.refresh(n).bind((function(t){return f(e,t),m(e,i,t)}))}(t,r),g(t,r,n.HighlightParent),e.onHover(t,r)}))]:[])),y=function(e){return Tm.getHighlighted(e).bind(Tm.getHighlighted)},x={collapseMenu:function(e){y(e).each((function(t){h(e,t)}))},highlightPrimary:function(e){i.getPrimary().each((function(t){c(e,t)}))},repositionMenus:function(t){var n=i.getPrimary().bind((function(e){return y(t).bind((function(e){var t=u(e),n=Te(i.getMenus()),o=Ne(Q(n,xh.extractPreparedMenu));return i.getTriggeringPath(t,(function(e){return function(e,t,n){return be(t,(function(e){if(!e.getSystem().isConnected())return V.none();var t=Tm.getCandidates(e);return re(t,(function(e){return u(e)===n}))}))}(0,o,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}));n.fold((function(){(function(e){return V.from(e.components()[0]).filter((function(e){return"menu"===Tt(e.element,"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var o=n.primary,r=n.triggeringPath;e.onRepositionMenu(t,o,r)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jd(e.tmenuBehaviours,[Eg.config({mode:"special",onRight:v((function(e,t){return em(t.element)?V.none():g(e,t,n.HighlightSubmenu)})),onLeft:v((function(e,t){return em(t.element)?V.none():h(e,t)})),onEscape:v((function(t,n){return h(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){i.getPrimary().each((function(t){Wi(e,t.element,ki())}))}}),Tm.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),om.config({find:function(e){return Tm.getHighlighted(e)}}),zg.config({})]),eventOrder:e.eventOrder,apis:x,events:b}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:qr(e,t),expansions:{}}},collapseItem:function(e){return{value:ba(wh()),meta:{text:e}}}}}),kh=Qf({name:"InlineView",configFields:[cr("lazySink"),Yu("onShow"),Yu("onHide"),kr("onEscape"),$d("inlineBehaviours",[Od,Wd,Js]),Er("fireDismissalEventInstead",[Or("event",Pi())]),Er("fireRepositionEventInstead",[Or("event",Li())]),Or("getRelated",V.none),Or("isExtraPart",q),Or("eventOrder",V.none)],factory:function(e,t){var n=function(e,t,n,r){o(e,t,n,(function(){return r.map((function(e){return Qn(e)}))}))},o=function(t,n,o,r){var i=e.lazySink(t).getOrDie();Od.openWhileCloaked(t,n,(function(){return ed.positionWithinBounds(i,t,o,r())})),Wd.setValue(t,V.some({mode:"position",config:o,getBounds:r}))},i=function(t,n,o,i){var a=function(e,t,n,o,i){var a=function(){return e.lazySink(t)},u="horizontal"===o.type?{layouts:{onLtr:function(){return Ps()},onRtl:function(){return Ls()}}}:{},s=function(e){return function(e){return 2===e.length}(e)?u:{}};return Ch.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,onEscape:function(){return Od.close(t),e.onEscape.map((function(e){return e(t)})),V.some(!0)},onExecute:function(){return V.some(!0)},onOpenMenu:function(e,t){ed.positionWithinBounds(a().getOrDie(),t,n,i())},onOpenSubmenu:function(e,t,n,o){var i=a().getOrDie();ed.position(i,n,{anchor:r({type:"submenu",item:t},s(o))})},onRepositionMenu:function(e,t,o){var u=a().getOrDie();ed.positionWithinBounds(u,t,n,i()),Z(o,(function(e){var t=s(e.triggeringPath);ed.position(u,e.triggeredMenu,{anchor:r({type:"submenu",item:e.triggeringItem},t)})}))}})}(e,t,n,o,i);Od.open(t,a),Wd.setValue(t,V.some({mode:"menu",menu:a}))},a=function(t){Od.isOpen(t)&&Wd.getValue(t).each((function(n){switch(n.mode){case"menu":Od.getState(t).each(Ch.repositionMenus);break;case"position":var o=e.lazySink(t).getOrDie();ed.positionWithinBounds(o,t,n.config,n.getBounds())}}))},u={setContent:function(e,t){Od.setContent(e,t)},showAt:function(e,t,o){n(e,t,o,V.none())},showWithin:n,showWithinBounds:o,showMenuAt:function(e,t,n){i(e,t,n,V.none)},showMenuWithinBounds:i,hide:function(e){Od.isOpen(e)&&(Wd.setValue(e,V.none()),Od.close(e))},getContent:function(e){return Od.getState(e)},reposition:a,isOpen:Od.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Jd(e.inlineBehaviours,[Od.config({isPartOf:function(t,n,o){return Lu(n,o)||function(t,n){return e.getRelated(t).exists((function(e){return Lu(e,n)}))}(t,o)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Wd.config({store:{mode:"memory",initialValue:V.none()}}),Js.config({channels:r(r({},Dd(r({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Nd(r(r({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{},{doReposition:a})))})]),eventOrder:e.eventOrder,apis:u}},apis:{showAt:function(e,t,n,o){e.showAt(t,n,o)},showWithin:function(e,t,n,o,r){e.showWithin(t,n,o,r)},showWithinBounds:function(e,t,n,o,r){e.showWithinBounds(t,n,o,r)},showMenuAt:function(e,t,n,o){e.showMenuAt(t,n,o)},showMenuWithinBounds:function(e,t,n,o,r){e.showMenuWithinBounds(t,n,o,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Sh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Eh=Qf({name:"Button",factory:function(e){var t=eh(e.action),n=e.dom.tag,o=function(t){return Ae(e.dom,"attributes").bind((function(e){return Ae(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Xd(e.buttonBehaviours,[Ig.config({}),Eg.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=o("type").getOr("button"),t=o("role").map((function(e){return{role:e}})).getOr({});return r({type:e},t)}return{role:o("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[Or("uid",void 0),cr("dom"),Or("components",[]),Yd("buttonBehaviours",[Ig,Eg]),br("action"),br("role"),Or("eventOrder",{})]}),Oh=function(e){var t=function(e){return void 0!==e.uid}(e)&&De(e,"uid")?e.uid:Ea("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return r(r({},e),{},{uid:t})}}},_h=tinymce.util.Tools.resolve("tinymce.util.I18n"),Th={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Ah="temporary-placeholder",Rh=function(e){return function(){return Ae(e,Ah).getOr("!not found!")}},Dh=function(e,t){var n=e.toLowerCase();if(_h.isRtl()){var o=function(e,t){return qe(e,t)?e:function(e,t){return e+t}(e,t)}(n,"-rtl");return Re(t,o)?o:n}return n},Mh=function(e,t){return Ae(t,Dh(e,t))},Nh=function(e,t){var n=t();return Mh(e,n).getOrThunk(Rh(n))},zh=function(){return Pg("add-focusable",[aa((function(e){Ru(e.element,"svg").each((function(e){return Ot(e,"focusable","false")}))}))])},Ph=function(e,t,n,o){var r,i,u=function(e){return!!_h.isRtl()&&Re(Th,e)}(t)?["tox-icon--flip"]:[],s=Ae(n,Dh(t,n)).or(o).getOrThunk(Rh(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(u),innerHtml:s},behaviours:js([].concat(a(null!==(i=e.behaviours)&&void 0!==i?i:[]),[zh()]))}},Lh=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.none();return Ph(t,e,n(),o)},Fh={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Bh=Qf({name:"Notification",factory:function(e){var t=Oh({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:js([zg.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],styles:{width:"".concat(e,"%")}}}},o=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:"".concat(e,"%")}}},r=Oh({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:js([zg.config({})])}),i={updateProgress:function(e,t){e.getSystem().isConnected()&&r.getOpt(e).each((function(e){zg.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},updateText:function(e,n){if(e.getSystem().isConnected()){var o=t.get(e);zg.set(o,[yu(n)])}}},a=ae([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return V.from(Fh[e])})).toArray()]),u=Oh(Eh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Lh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}})),s=function(e,t,n){var o=n(),r=re(e,(function(e){return Re(o,Dh(e,o))}));return Ph(t,r.getOr(Ah),o,V.none())}(a,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),c=[s,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:js([zg.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--".concat(e)]})).getOr(["tox-notification","tox-notification--in"])},behaviours:js([Ig.config({}),Pg("notification-events",[Qi(ii(),(function(e){u.getOpt(e).each(Ig.focus)}))])]),components:c.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[u.asSpec()]:[]),apis:i}},configFields:[br("level"),cr("progress"),cr("icon"),cr("onAction"),cr("text"),cr("iconProvider"),cr("translationProvider"),Dr("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),qh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ih=tinymce.util.Tools.resolve("tinymce.EditorManager"),Hh=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Qm||(Qm={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Zm||(Zm={}));var Vh,jh=function(e){return function(t){return t.options.get(e)}},Uh=function(e){return function(t){return V.from(e(t))}},Gh=function(e){var t=Hh.deviceType.isPhone(),n=Hh.deviceType.isTablet()||t,o=e.options.register,r=function(e){return b(e)||!1===e},i=function(e){return b(e)||T(e)};o("skin",{processor:function(e){return b(e)||!1===e},default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:i,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:i,default:qh.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:function(e){return b(e)||k(e)},default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:function(e){return k(e)||b(e)||w(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."}},default:!0}),Y(9,(function(e){o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:Zm.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("resize",{processor:function(e){return"both"===e||k(e)},default:!Hh.deviceType.isTouch()})},Wh=jh("readonly"),$h=jh("height"),Kh=jh("width"),Jh=Uh(jh("min_width")),Yh=Uh(jh("min_height")),Xh=Uh(jh("max_width")),Qh=Uh(jh("max_height")),Zh=Uh(jh("style_formats")),ev=jh("style_formats_merge"),tv=jh("style_formats_autohide"),nv=jh("content_langs"),ov=jh("removed_menuitems"),rv=jh("toolbar_mode"),iv=jh("toolbar_groups"),av=jh("toolbar_location"),uv=jh("fixed_toolbar_container"),sv=jh("fixed_toolbar_container_target"),cv=jh("toolbar_persist"),lv=jh("toolbar_sticky_offset"),dv=jh("menubar"),fv=jh("toolbar"),mv=jh("file_picker_callback"),pv=jh("file_picker_validator_handler"),gv=jh("file_picker_types"),hv=jh("typeahead_urls"),vv=jh("anchor_top"),bv=jh("anchor_bottom"),yv=jh("draggable_modal"),xv=jh("statusbar"),wv=jh("elementpath"),Cv=jh("branding"),kv=jh("resize"),Sv=jh("paste_as_text"),Ev=function(e){return!1===e.options.get("skin")},Ov=function(e){return!1!==e.options.get("menubar")},_v=function(e){var t=e.options.get("skin_url");if(Ev(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);var n=e.options.get("skin");return Ih.baseURL+"/skins/ui/"+n},Tv=function(e){return e.options.get("line_height_formats").split(" ")},Av=function(e){var t=fv(e),n=b(t),o=w(t)&&t.length>0;return!Dv(e)&&(o||n||!0===t)},Rv=function(e){var t=Y(9,(function(t){return e.options.get("toolbar"+(t+1))})),n=te(t,b);return Pe(n.length>0,n)},Dv=function(e){return Rv(e).fold((function(){var t=fv(e);return A(t,b)&&t.length>0}),I)},Mv=function(e){return av(e)===Zm.bottom},Nv=function(e){if(!e.inline)return V.none();var t=uv(e);if(t.length>0)return Du(kt(),t);var n=sv(e);return O(n)?V.some(Ue.fromDom(n)):V.none()},zv=function(e){return e.inline&&Nv(e).isSome()},Pv=function(e){return Nv(e).getOrThunk((function(){return bt(vt(Ue.fromDom(e.getElement())))}))},Lv=function(e){return e.inline&&!Ov(e)&&!Av(e)&&!Dv(e)},Fv=function(e){var t=e.options.get("toolbar_sticky");return(t||e.inline)&&!zv(e)&&!Lv(e)},Bv=function(e){var t=e.options.get("menu");return Ce(t,(function(e){return r(r({},e),{},{items:e.items})}))},qv=Object.freeze({__proto__:null,get ToolbarMode(){return Qm},get ToolbarLocation(){return Zm},register:Gh,getSkinUrl:_v,isReadOnly:Wh,isSkinDisabled:Ev,getHeightOption:$h,getWidthOption:Kh,getMinWidthOption:Jh,getMinHeightOption:Yh,getMaxWidthOption:Xh,getMaxHeightOption:Qh,getUserStyleFormats:Zh,shouldMergeStyleFormats:ev,shouldAutoHideStyleFormats:tv,getLineHeightFormats:Tv,getContentLanguages:nv,getRemovedMenuItems:ov,isMenubarEnabled:Ov,isMultipleToolbars:Dv,isToolbarEnabled:Av,isToolbarPersist:cv,getMultipleToolbarsOption:Rv,getUiContainer:Pv,useFixedContainer:zv,getToolbarMode:rv,isDraggableModal:yv,isDistractionFree:Lv,isStickyToolbar:Fv,getStickyToolbarOffset:lv,getToolbarLocation:av,isToolbarLocationBottom:Mv,getToolbarGroups:iv,getMenus:Bv,getMenubar:dv,getToolbar:fv,getFilePickerCallback:mv,getFilePickerTypes:gv,useTypeaheadUrls:hv,getAnchorTop:vv,getAnchorBottom:bv,getFilePickerValidatorHandler:pv,useStatusBar:xv,useElementPath:wv,useBranding:Cv,getResize:kv,getPasteAsText:Sv}),Iv="[data-mce-autocompleter]",Hv=function(e){return Mu(e,Iv)},Vv=function(e,t){var n=function(e,t){Ui(e,ui(),{raw:t})},o=function(){return e.getView().bind(Tm.getHighlighted)};t.on("keydown",(function(t){var r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(Gi),t.preventDefault()):40===r?(o().fold((function(){e.getView().each(Tm.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&Hv(Ue.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Vh||(Vh={}));var jv,Uv,Gv,Wv=Vh,$v="tox-menu-nav__js",Kv="tox-collection__item",Jv="tox-swatch",Yv={normal:$v,color:Jv},Xv="tox-collection__item--enabled",Qv="tox-collection__item-icon",Zv="tox-collection__item-label",eb="tox-collection__item-caret",tb="tox-collection__item--active",nb="tox-collection__item-container",ob="tox-collection__item-container--row",rb=function(e){return Ae(Yv,e).getOr($v)},ib=function(e){return"color"===e?"tox-swatches":"tox-menu"},ab=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ib(e),tieredMenu:"tox-tiered-menu"}},ub=function(e){var t=ab(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:rb(e)}},sb=function(e,t,n){var o=ab(n);return{tag:"div",classes:ae([[o.menu,"tox-menu-".concat(t,"-column")],e?[o.hasIcons]:[]])}},cb=[hh.parts.items({})],lb=function(e,t,n){var o=ab(n);return{dom:{tag:"div",classes:ae([[o.tieredMenu]])},markers:ub(n)}},db=function(e,t){return function(n){var o=X(n,t);return Q(o,(function(t){return{dom:e,components:t}}))}},fb=function(e,t){var n=[],o=[];return Z(e,(function(e,r){t(e,r)?(o.length>0&&n.push(o),o=[],(Re(e.dom,"innerHtml")||e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),Q(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},mb=function(e,t){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[hh.parts.items({preprocess:function(n){return"auto"!==e&&e>1?db({tag:"div",classes:["tox-collection__group"]},e)(n):fb(n,(function(e,n){return"separator"===t[n].type}))}})]}},pb=function(e){return J(e,(function(e){return"icon"in e&&void 0!==e.icon}))},gb=function(e){return console.error(rr(e)),console.log(e),V.none()},hb=function(e,t,n,o,r){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[hh.parts.items({preprocess:function(e){return fb(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}},vb=function(e,t,n,o,r){if("color"===r){var i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[hh.parts.items({preprocess:"auto"!==e?db({tag:"div",classes:["tox-swatches__row"]},e):N})]}]}}(o);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===r&&"auto"===o){var a=mb(o,n);return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===r&&1===o){var u=mb(1,n);return{value:e,dom:u.dom,components:u.components,items:n}}if("normal"===r){var s=mb(o,n);return{value:e,dom:s.dom,components:s.components,items:n}}if("listpreview"===r&&"auto"!==o){var c=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[hh.parts.items({preprocess:db({tag:"div",classes:["tox-collection__group"]},e)})]}}(o);return{value:e,dom:c.dom,components:c.components,items:n}}return{value:e,dom:sb(t,o,r),components:cb,items:n}},bb=fr("type"),yb=fr("name"),xb=fr("label"),wb=fr("text"),Cb=fr("title"),kb=fr("icon"),Sb=fr("value"),Eb=pr("fetch"),Ob=pr("getSubmenuItems"),_b=pr("onAction"),Tb=pr("onItemAction"),Ab=Mr("onSetup",(function(){return R})),Rb=wr("name"),Db=wr("text"),Mb=wr("icon"),Nb=wr("tooltip"),zb=wr("label"),Pb=wr("shortcut"),Lb=kr("select"),Fb=Dr("active",!1),Bb=Dr("borderless",!1),qb=Dr("enabled",!0),Ib=Dr("primary",!1),Hb=function(e){return Or("columns",e)},Vb=Or("meta",{}),jb=Mr("onAction",R),Ub=function(e){return Ar("type",e)},Gb=function(e){return ar("name","name",ko((function(){return ba("".concat(e,"-name"))})),Wo)},Wb=Bo([bb,Db]),$b=Bo([Ub("autocompleteitem"),Fb,qb,Vb,Sb,Db,Mb]),Kb=[qb,Nb,Mb,Db,Ab],Jb=Bo([bb,_b].concat(Kb)),Yb=function(e){return tr("toolbarbutton",Jb,e)},Xb=[Fb].concat(Kb),Qb=Bo(Xb.concat([bb,_b])),Zb=function(e){return tr("ToggleButton",Qb,e)},ey=[Mr("predicate",q),Rr("scope","node",["node","editor"]),Rr("position","selection",["node","selection","line"])],ty=Kb.concat([Ub("contextformbutton"),Ib,_b,ur("original",N)]),ny=Xb.concat([Ub("contextformbutton"),Ib,_b,ur("original",N)]),oy=Kb.concat([Ub("contextformbutton")]),ry=Xb.concat([Ub("contextformtogglebutton")]),iy=ir("type",{contextformbutton:ty,contextformtogglebutton:ny}),ay=Bo([Ub("contextform"),Mr("initValue",M("")),zb,vr("commands",iy),yr("launch",ir("type",{contextformbutton:oy,contextformtogglebutton:ry}))].concat(ey)),uy=Bo([Ub("contexttoolbar"),fr("items")].concat(ey)),sy=[bb,fr("src"),wr("alt"),Nr("classes",[],Wo)],cy=Bo(sy),ly=[bb,wb,Rb,Nr("classes",["tox-collection__item-label"],Wo)],dy=Bo(ly),fy=Po((function(){return Qo("type",{cardimage:cy,cardtext:dy,cardcontainer:my})})),my=Bo([bb,Ar("direction","horizontal"),Ar("align","left"),Ar("valign","middle"),vr("items",fy)]),py=[qb,Db,Pb,(jv="menuitem",ar("value","value",ko((function(){return ba("".concat(jv,"-value"))})),jo())),Vb],gy=Bo([bb,zb,vr("items",fy),Ab,jb].concat(py)),hy=Bo([bb,Fb,Mb].concat(py)),vy=[bb,fr("fancytype"),jb],by=[Or("initData",{})].concat(vy),yy=[zr("initData",{},[Dr("allowCustomColors",!0),Sr("colors",jo())])].concat(vy),xy=ir("fancytype",{inserttable:by,colorswatch:yy}),wy=Bo([bb,Ab,jb,Mb].concat(py)),Cy=Bo([bb,Ob,Ab,Mb].concat(py)),ky=Bo([bb,Mb,Fb,Ab,_b].concat(py)),Sy=function(e,t,n){var o=xl(e.element,"."+n);if(o.length>0){var r=ie(o,(function(e){var n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return V.some({numColumns:r,numRows:Math.ceil(o.length/r)})}return V.none()},Ey=function(e,t){return js([Pg(e,t)])},Oy=function(e){return Ey(ba("unnamed-events"),e)},_y=ba("tooltip.exclusive"),Ty=ba("tooltip.show"),Ay=ba("tooltip.hide"),Ry=function(e,t,n){e.getSystem().broadcastOn([_y],{})},Dy=Object.freeze({__proto__:null,hideAllExclusive:Ry,setComponents:function(e,t,n,o){n.getTooltip().each((function(e){e.getSystem().isConnected()&&zg.set(e,o)}))}}),My=Object.freeze({__proto__:null,events:function(e,t){var n=function(n){t.getTooltip().each((function(o){dd(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return Ji(ae([[Qi(Ty,(function(n){t.resetTimer((function(){!function(n){if(!t.isShowing()){Ry(n);var o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ji("normal"===e.mode?[Qi(ri(),(function(e){ji(n,Ty)})),Qi(ni(),(function(e){ji(n,Ay)}))]:[]),behaviours:js([zg.config({})])});t.setTooltip(r),sd(o,r),e.onShow(n,r),ed.position(o,r,{anchor:e.anchor(n)})}}(n)}),e.delay)})),Qi(Ay,(function(o){t.resetTimer((function(){n(o)}),e.delay)})),Qi(wi(),(function(e,t){var o=t;o.universal||K(o.channels,_y)&&n(e)})),ua((function(e){n(e)}))],"normal"===e.mode?[Qi(ii(),(function(e){ji(e,Ty)})),Qi(yi(),(function(e){ji(e,Ay)})),Qi(ri(),(function(e){ji(e,Ty)})),Qi(ni(),(function(e){ji(e,Ay)}))]:[Qi(Hi(),(function(e,t){ji(e,Ty)})),Qi(Vi(),(function(e){ji(e,Ay)}))]]))}}),Ny=[cr("lazySink"),cr("tooltipDom"),Or("exclusive",!0),Or("tooltipComponents",[]),Or("delay",300),Rr("mode","normal",["normal","follow-highlight"]),Or("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:M([Ts,_s,ks,Es,Ss,Os]),onRtl:M([Ts,_s,ks,Es,Ss,Os])}}})),Yu("onHide"),Yu("onShow")],zy=Gs({fields:Ny,name:"tooltipping",active:My,state:Object.freeze({__proto__:null,init:function(){var e=xc(),t=xc(),n=function(){e.on(clearTimeout)},o=M("not-implemented");return La({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:function(t,o){n(),e.set(setTimeout(t,o))},readState:o})}}),apis:Dy}),Py="silver.readonly",Ly=Bo([(Uv="readonly",lr(Uv,$o))]),Fy=function(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([_d()],{target:n}),e.uiMothership.broadcastOn([_d()],{target:n})),e.mothership.broadcastOn([Py],{readonly:t}),e.uiMothership.broadcastOn([Py],{readonly:t})},By=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&Fy(t,!0)})),e.on("SwitchMode",(function(){return Fy(t,e.mode.isReadOnly())})),Wh(e)&&e.mode.set("readonly")},qy=function(){return Js.config({channels:i({},Py,{schema:Ly,onReceive:function(e,t){vm.set(e,t.readonly)}})})},Iy=function(e){return vm.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},Hy=function(e){return vm.config({disabled:e})},Vy=function(e){return vm.config({disabled:e,disableClass:"tox-tbtn--disabled"})},jy=function(e){return vm.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},Uy=function(e,t){var n=e.getApi(t);return function(e){e(n)}},Gy=function(e,t){return aa((function(n){Uy(e,n)((function(n){var o=e.onSetup(n);_(o)&&t.set(o)}))}))},Wy=function(e,t){return ua((function(n){return Uy(e,n)(t.get())}))},$y=function(e,t){return ca((function(n,o){Uy(e,n)(e.onAction),e.triggersSubmenu||t!==Wv.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&ji(n,Oi()),o.stop())}))},Ky=i({},Ci(),["disabling","alloy.base.behaviour","toggling","item-events"]),Jy=Ne,Yy=function(e,t,n,o){var r=Pr(R);return{type:"item",dom:t.dom,components:Jy(t.optComponents),data:e.data,eventOrder:Ky,hasSubmenu:e.triggersSubmenu,itemBehaviours:js([Pg("item-events",[$y(e,n),Gy(e,r),Wy(e,r)]),Iy((function(){return!e.enabled||o.isDisabled()})),qy(),zg.config({})].concat(e.itemBehaviours))}},Xy=function(e){return{value:e.value,meta:r({text:e.text.getOr("")},e.meta)}},Qy=function(e){var t=Hh.os.isMacOS()||Hh.os.isiOS(),n=t?{alt:"\u2325",ctrl:"\u2303",shift:"\u21e7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},o=e.split("+"),r=Q(o,(function(e){var t=e.toLowerCase().trim();return Re(n,t)?n[t]:e}));return t?r.join(""):r.join("+")},Zy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Qv];return Lh(e,{tag:"div",classes:n},t)},ex=function(e){return{dom:{tag:"div",classes:[Zv]},components:[yu(_h.translate(e))]}},tx=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},nx=function(e,t){return{dom:{tag:"div",classes:[Zv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[yu(_h.translate(t))]}]}},ox=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[yu(Qy(e))]}},rx=function(e){return Zy("checkmark",e,["tox-collection__item-checkmark"])},ix=function(e){return Zy("chevron-right",e,[eb])},ax=function(e){return Zy("chevron-down",e,[eb])},ux=function(e,t,n){var o=e.ariaLabel,i=e.value,u=e.iconContent.map((function(e){return function(e,t,n){var o=t();return Mh(e,o).or(n).getOrThunk(Rh(o))}(e,t.icons,n)}));return{dom:function(){var e=u.getOr(""),n=o.map((function(e){return{title:t.translate(e)}})).getOr({}),s={tag:"div",attributes:n,classes:["tox-swatch"]};return r(r({},s),{},"custom"===i?{tag:"button",classes:[].concat(a(s.classes),["tox-swatches__picker-btn"]),innerHtml:e}:"remove"===i?{classes:[].concat(a(s.classes),["tox-swatch--remove"]),innerHtml:e}:{attributes:r(r({},s.attributes),{},{"data-mce-color":i}),styles:{"background-color":i}})}(),optComponents:[]}},sx=function(e){var t=e.map((function(e){return{attributes:{title:_h.translate(e)}}})).getOr({});return r({tag:"div",classes:[$v,Kv]},t)},cx=function(e,t,n,o){var r={tag:"div",classes:[Qv]},i=n?e.iconContent.map((function(e){return Lh(e,r,t.icons,o)})).orThunk((function(){return V.some({dom:r})})):V.none(),a=e.checkMark,u=V.from(e.meta).fold((function(){return ex}),(function(e){return Re(e,"style")?P(nx,e.style):ex})),s=e.htmlContent.fold((function(){return e.textContent.map(u)}),(function(e){return V.some(tx(e,[Zv]))}));return{dom:sx(e.ariaLabel),optComponents:[i,s,e.shortcutContent.map(ox),a,e.caret]}},lx=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.none();return"color"===e.presets?ux(e,t,o):cx(e,t,n,o)},dx=function(e,t){return Ae(e,"tooltipWorker").map((function(e){return[zy.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:Pc}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){zy.setComponents(t,[xu({element:Ue.fromDom(e)})])}))}})]})).getOr([])},fx=function(e,t){var n=function(e){return qh.DOM.encode(e)}(_h.translate(e));if(t.length>0){var o=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"gi");return n.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'.concat(e,"</span>")}))}return n},mx=function e(t,n){return Q(t,(function(t){switch(t.type){case"cardcontainer":return function(e,t){var n="vertical"===e.direction?"tox-collection__item-container--column":ob,o="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[nb,n,o,function(){switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:t}}(t,e(t.items,n));case"cardimage":return function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}}(t.src,t.classes,t.alt);case"cardtext":var o=t.name.exists((function(e){return K(n.cardText.highlightOn,e)})),r=o?V.from(n.cardText.matchText).getOr(""):"";return tx(fx(t.text,r),t.classes)}}))},px=Df(ch(),lh()),gx=function(e){return{value:e}},hx=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,vx=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,bx=function(e){return hx.test(e)||vx.test(e)},yx=function(e){return function(e,t){return Be(e,t)?function(e,t){return e.substring(t)}(e,t.length):e}(e,"#").toUpperCase()},xx=function(e){var t=function(e){var t=e.value.replace(hx,(function(e,t,n,o){return t+t+n+n+o+o}));return{value:t}}(e),n=vx.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},wx=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Cx=function(e){var t=wx(e.red)+wx(e.green)+wx(e.blue);return gx(t)},kx=Math.min,Sx=Math.max,Ex=Math.round,Ox=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,_x=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Tx=function(e,t,n,o){return{red:e,green:t,blue:n,alpha:o}},Ax=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Rx=function(e){var t,n,o,r=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=Sx(0,kx(i,1)),a=Sx(0,kx(a,1)),0===i)return t=n=o=Ex(255*a),Tx(t,n,o,1);var u=r/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,o=0;break;case 1:t=c,n=s,o=0;break;case 2:t=0,n=s,o=c;break;case 3:t=0,n=c,o=s;break;case 4:t=c,n=0,o=s;break;case 5:t=s,n=0,o=c;break;default:t=n=o=0}return t=Ex(255*(t+l)),n=Ex(255*(n+l)),o=Ex(255*(o+l)),Tx(t,n,o,1)},Dx=function(e){var t=xx(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return Tx(n,o,r,1)},Mx=function(e,t,n,o){var r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(o);return Tx(r,i,a,u)},Nx=function(e){if("transparent"===e)return V.some(Tx(0,0,0,0));var t=Ox.exec(e);if(null!==t)return V.some(Mx(t[1],t[2],t[3],"1"));var n=_x.exec(e);return null!==n?V.some(Mx(n[1],n[2],n[3],n[4])):V.none()},zx=function(e){return"rgba(".concat(e.red,",").concat(e.green,",").concat(e.blue,",").concat(e.alpha,")")},Px=Tx(255,0,0,1),Lx=function(e,t){return e.dispatch("ResizeContent",t)},Fx=function(e,t,n){return{hue:e,saturation:t,value:n}},Bx=function(e){var t,n=0,o=0,r=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(r,Math.min(i,a)),s=Math.max(r,Math.max(i,a));return u===s?Fx(0,0,100*(o=u)):(n=60*((n=r===u?3:a===u?1:5)-(r===u?i-a:a===u?r-i:a-r)/(s-u)),t=(s-u)/s,o=s,Fx(Math.round(n),Math.round(100*t),Math.round(100*o)))},qx=function(e){return Cx(Rx(e))},Ix=function(e){return(t=e,bx(t)?V.some({value:yx(t)}):V.none()).orThunk((function(){return Nx(e).map(Cx)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],u=o[3];return Cx(Tx(r,i,a,u))}));var t},Hx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Vx="tinymce-custom-colors",jx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Hx.getItem(Vx),n=b(t)?JSON.parse(t):[],o=function(t){return e-t.length<0?t.slice(0,e):t},r=o(n),i=function(t){$(r,t).each(a),r.unshift(t),r.length>e&&r.pop(),Hx.setItem(Vx,JSON.stringify(r))},a=function(e){r.splice(e,1)},u=function(){return r.slice(0)};return{add:i,state:u}}(10),Ux=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+Ix(e[n]).value,type:"choiceitem"});return t},Gx=function(e){return function(t){return t.options.get(e)}},Wx=Gx("color_cols"),$x=Gx("custom_colors"),Kx=Gx("color_map"),Jx=function(e){jx.add(e)},Yx="#000000",Xx=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},Qx=function(e,t,n,o){"custom"===n?rw(e)((function(n){n.each((function(n){Jx(n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),Yx):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Zx=function(e,t){return e.concat(Q(jx.state(),(function(e){return{type:"choiceitem",text:e,value:e}})).concat(Xx(t)))},ew=function(e,t){return function(n){n(Zx(e,t))}},tw=function(e,t,n){var o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},nw=function(e,t,n,o,r){e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var o=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var o;(o=e.style["forecolor"===t?"color":"background-color"])&&(n=n||o)})),V.from(n)}(e,n);return o.bind((function(e){return Nx(e).map((function(e){var n=Cx(e).value;return Fe(t.toLowerCase(),n)}))})).getOr(!1)},columns:Wx(e),fetch:ew(Kx(e),$x(e)),onAction:function(t){Qx(e,n,r.get(),R)},onItemAction:function(o,i){Qx(e,n,i,(function(n){r.set(n),function(e,t){e.dispatch("TextColorChange",t)}(e,{name:t,color:n})}))},onSetup:function(n){tw(n,t,r.get());var o=function(e){e.name===t&&tw(n,e.name,e.color)};return e.on("TextColorChange",o),function(){e.off("TextColorChange",o)}}})},ow=function(e,t,n,o){e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Qx(e,n,t.value,R)}}]}})},rw=function(e){return function(t,n){var o=!1,r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(e,t){"hex-valid"===t.name&&(o=t.value)},onSubmit:function(n){var r=n.getData().colorpicker;o?(t(V.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:R,onCancel:function(){t(V.none())}})}},iw=function(e,t,n,o,r,i,a,u){var s=pb(t),c=aw(t,n,o,"color"!==r?"normal":"color",i,a,u);return vb(e,s,c,o,r)},aw=function(e,t,n,o,r,i,a){return Ne(Q(e,(function(u){return"choiceitem"===u.type?(s=u,tr("choicemenuitem",hy,s)).fold(gb,(function(s){return V.some(function(e,t,n,o,r,i,a){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=function(e){return{setActive:function(t){Qg.set(e,t)},isActive:function(){return Qg.isOn(e)},isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},c=lx({presets:n,textContent:t?e.text:V.none(),htmlContent:V.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:V.none(),checkMark:t?V.some(rx(a.icons)):V.none(),caret:V.none(),value:e.value},a,u);return wo(Yy({data:Xy(e),enabled:e.enabled,getApi:s,onAction:function(t){return o(e.value)},onSetup:function(e){return e.setActive(r),R},triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:Xv,toggleOnExecute:!1,selected:e.active}})}(s,1===n,o,t,i(u.value),r,a,pb(e)))})):V.none();var s})))},uw=function(e,t){var n=ub(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},sw=function(e,t){var n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((function(){return Zx(t.colorinput.getColors(),n)}),(function(e){return e.concat(Xx(n))}))},cw=ba("cell-over"),lw=ba("cell-execute"),dw=function(e,t,n){var o=function(n){return Ui(n,lw,{row:e,col:t})},r=function(e,t){t.stop(),o(e)};return ku({dom:{tag:"div",attributes:i({role:"button"},"aria-labelledby",n)},behaviours:js([Pg("insert-table-picker-cell",[Qi(ri(),Ig.focus),Qi(Ci(),o),Qi(di(),r),Qi(Si(),r)]),Qg.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ig.config({onFocus:function(n){return Ui(n,cw,{row:e,col:t})}})])})},fw=function(e){return ue(e,(function(e){return Q(e,Su)}))},mw=function(e,t){return yu("".concat(t,"x").concat(e))},pw={inserttable:function(e){var t=ba("size-label"),n=function(e,t,n){for(var o=[],r=0;r<t;r++){for(var i=[],a=0;a<n;a++)i.push(dw(r,a,e));o.push(i)}return o}(t,10,10),o=mw(0,0),r=Oh({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[o],behaviours:js([zg.config({})])});return{type:"widget",data:{value:ba("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[px.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:fw(n).concat(r.asSpec()),behaviours:js([Pg("insert-table-picker",[aa((function(e){zg.set(r.get(e),[o])})),na(cw,(function(e,t,o){var i=o.event,a=i.row,u=i.col;!function(e,t,n,o,r){for(var i=0;i<o;i++)for(var a=0;a<r;a++)Qg.set(e[i][a],i<=t&&a<=n)}(n,a,u,10,10),zg.set(r.get(e),[mw(a+1,u+1)])})),na(lw,(function(t,n,o){var r=o.event,i=r.row,a=r.col;e.onAction({numRows:i+1,numColumns:a+1}),ji(t,Oi())}))]),Eg.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=sw(e,t),o=t.colorinput.getColorCols(),i="color",a=iw(ba("menu-value"),n,(function(t){e.onAction({value:t})}),o,i,Wv.CLOSE_ON_EXECUTE,q,t.shared.providers),u=r(r({},a),{},{markers:ub(i),movement:uw(o,i)});return{type:"widget",data:{value:ba("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[px.widget(hh.sketch(u))]}}},gw=function(e,t,n,o,r,i,a){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=lx({presets:o,textContent:V.none(),htmlContent:n?e.text.map((function(e){return fx(e,t)})):V.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:V.none(),checkMark:V.none(),caret:V.none(),value:e.value},a.providers,u,e.icon);return Yy({data:Xy(e),enabled:e.enabled,getApi:M({}),onAction:function(t){return r(e.value,e.meta)},onSetup:M(R),triggersSubmenu:!1,itemBehaviours:dx(e.meta,a)},s,i,a.providers)},hw=function(e){return{type:"separator",dom:{tag:"div",classes:[Kv,"tox-collection__group-heading"]},components:e.text.map(yu).toArray()}},vw=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},i=lx({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:V.none(),ariaLabel:e.text,caret:V.none(),checkMark:V.none(),shortcutContent:e.shortcut},n,o);return Yy({data:Xy(e),getApi:r,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},bw=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r?ax(n.icons):ix(n.icons),a=function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},u=lx({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:V.none(),ariaLabel:e.text,caret:V.some(i),checkMark:V.none(),shortcutContent:e.shortcut},n,o);return Yy({data:Xy(e),getApi:a,enabled:e.enabled,onAction:R,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},yw=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=function(e){return{setActive:function(t){Qg.set(e,t)},isActive:function(){return Qg.isOn(e)},isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},i=lx({iconContent:e.icon,textContent:e.text,htmlContent:V.none(),ariaLabel:e.text,checkMark:V.some(rx(n.icons)),caret:V.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return wo(Yy({data:Xy(e),enabled:e.enabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:Xv,toggleOnExecute:!1,selected:e.active}})},xw=function(e,t){return Ae(pw,e.fancytype).map((function(n){return n(e,t)}))},ww=function(e,t,n,o){var i={dom:sx(e.label),optComponents:[V.some({dom:{tag:"div",classes:[nb,ob]},components:mx(e.items,o)})]};return Yy({data:Xy(r({text:V.none()},e)),enabled:e.enabled,getApi:function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){vm.set(e,!t),Z(xl(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(vm)&&vm.set(e,!t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:V.from(o.itemBehaviours).getOr([])},i,t,n.providers)};!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(Gv||(Gv={}));var Cw,kw=function(e,t,n,o,i){var a,u=n.shared.providers,s=function(e){return i?r(r({},e),{},{shortcut:V.none(),icon:e.text.isSome()?V.none():e.icon}):e};switch(e.type){case"menuitem":return(a=e,tr("menuitem",wy,a)).fold(gb,(function(e){return V.some(vw(s(e),t,u,o))}));case"nestedmenuitem":return function(e){return tr("nestedmenuitem",Cy,e)}(e).fold(gb,(function(e){return V.some(bw(s(e),t,u,o,i))}));case"togglemenuitem":return function(e){return tr("togglemenuitem",ky,e)}(e).fold(gb,(function(e){return V.some(yw(s(e),t,u,o))}));case"separator":return function(e){return tr("separatormenuitem",Wb,e)}(e).fold(gb,(function(e){return V.some(hw(e))}));case"fancymenuitem":return function(e){return tr("fancymenuitem",xy,e)}(e).fold(gb,(function(e){return xw(s(e),n)}));default:return console.error("Unknown item in general menu",e),V.none()}},Sw=function(e,t,n,o,i,a,u){var s=1===o,c=!s||pb(e);return Ne(Q(e,(function(e){switch(e.type){case"separator":return(o=e,tr("Autocompleter.Separator",Wb,o)).fold(gb,(function(e){return V.some(hw(e))}));case"cardmenuitem":return function(e){return tr("cardmenuitem",gy,e)}(e).fold(gb,(function(e){return V.some(ww(r(r({},e),{},{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),i,a,{itemBehaviours:dx(e.meta,a),cardText:{matchText:t,highlightOn:u}}))}));default:return function(e){return tr("Autocompleter.Item",$b,e)}(e).fold(gb,(function(e){return V.some(gw(e,t,s,"normal",n,i,a,c))}))}var o})))},Ew=function(e,t,n,o,i){var a=pb(t),u=Ne(Q(t,(function(e){var t=function(e){return kw(e,n,o,function(e){return i?!Re(e,"text"):a}(e),i)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(r(r({},e),{},{enabled:!1})):t(e)})));return(i?hb:vb)(e,a,u,1,"normal")},Ow=function(e){return Ch.singleData(e.value,e)},_w=function(e,t){var n=Pr(!1),o=Pr(!1),r=ku(kh.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:js([Pg("dismissAutocompleter",[Qi(Pi(),(function(){return s()}))])]),lazySink:t.getSink})),i=function(){return kh.isOpen(r)},a=o.get,u=function(){i()&&kh.hide(r)},s=function(){return e.execCommand("mceAutocompleterClose")},c=function(o){var r=be(o,(function(e){return V.from(e.columns)})).getOr(1);return ue(o,(function(o){var i=o.items;return Sw(i,o.matchText,(function(t,r){var i=e.selection.getRng();(function(e,t){return Hv(Ue.fromDom(t.startContainer)).map((function(t){var n=e.createRng();return n.selectNode(t.dom),n}))})(e.dom,i).each((function(i){var a={hide:function(){return s()},reload:function(t){u(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(a,i,t,r),n.set(!1)}))}),r,Wv.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))},l=function(t,n){var o;(o=Ue.fromDom(e.getBody()),Du(o,Iv)).each((function(o){var i=be(t,(function(e){return V.from(e.columns)})).getOr(1);kh.showAt(r,hh.sketch(function(e,t,n,o){var r=n===Gv.ContentFocus?Ym():Jm(),i=uw(t,o),a=ub(o);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Gv.ContentFocus,focusManager:r,menuBehaviours:Oy("auto"!==t?[]:[aa((function(e,t){Sy(e,4,a.item).each((function(t){var n=t.numColumns,o=t.numRows;Eg.setGridSize(e,o,n)}))}))])}}(vb("autocompleter-value",!0,n,i,"normal"),i,Gv.ContentFocus,"normal")),{anchor:{type:"node",root:Ue.fromDom(e.getBody()),node:V.from(o)}}),kh.getContent(r).each(Tm.highlightFirst)}))},d=function(e){var t=c(e);t.length>0?l(e,t):u()};e.on("AutocompleterStart",(function(e){var t=e.lookupData;o.set(!0),n.set(!1),d(t)})),e.on("AutocompleterUpdate",(function(e){var t=e.lookupData;return d(t)})),e.on("AutocompleterEnd",(function(){u(),o.set(!1),n.set(!1)}));var f={cancelIfNecessary:s,isMenuOpen:i,isActive:a,isProcessingAction:n.get,getView:function(){return kh.getContent(r)}};Vv(f,e)},Tw=function(e,t,n){return Mu(e,t,n).isSome()},Aw=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=setTimeout((function(){e.apply(null,r),n=null}),t)}}},Rw=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?V.none():V.some(t.touches[0])},Dw=function(e){var t=xc(),n=Pr(!1),o=Aw((function(t){e.triggerEvent(Ei(),t),n.set(!0)}),400),r=Ir([{key:Yr(),value:function(e){return Rw(e).each((function(r){o.cancel();var i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),V.none()}},{key:Xr(),value:function(e){return o.cancel(),Rw(e).each((function(e){t.on((function(n){(function(e,t){var n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),V.none()}},{key:Qr(),value:function(r){o.cancel();return t.get().filter((function(e){return tt(e.target,r.target)})).map((function(t){return n.get()?(r.prevent(),!1):e.triggerEvent(Si(),r)}))}}]);return{fireIfReady:function(e,t){return Ae(r,t).bind((function(t){return t(e)}))}}},Mw=function(e,t){var n=r({stopBackspace:!0},t),o=Dw(n),i=Q(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Cc(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()}))})),a=xc(),u=Cc(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),a.set(setTimeout((function(){n.triggerEvent(xi(),e)}),0))})),s=Cc(e,"keydown",(function(e){n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&function(e){return e.raw.which===Am[0]&&!K(["input","textarea"],We(e.target))&&!Tw(e.target,'[contenteditable="true"]')}(e)&&e.prevent()})),c=Cc(e,"focusin",(function(e){n.triggerEvent("focusin",e)&&e.kill()})),l=xc(),d=Cc(e,"focusout",(function(e){n.triggerEvent("focusout",e)&&e.kill(),l.set(setTimeout((function(){n.triggerEvent(yi(),e)}),0))}));return{unbind:function(){Z(i,(function(e){e.unbind()})),s.unbind(),c.unbind(),d.unbind(),u.unbind(),a.on(clearTimeout),l.on(clearTimeout)}}},Nw=function(e,t){var n=Ae(e,"target").getOr(t);return Pr(n)},zw=Lr([{stopped:[]},{resume:["element"]},{complete:[]}]),Pw=function(e,t,n,o,r,i){var a=e(t,o),u=function(e,t){var n=Pr(!1),o=Pr(!1);return{stop:function(){n.set(!0)},cut:function(){o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}}(n,r);return a.fold((function(){return i.logEventNoHandlers(t,o),zw.complete()}),(function(e){var n=e.descHandler;return qa(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose),zw.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose),zw.complete()):ut(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),zw.complete()}),(function(o){return i.logEventResponse(t,e.element,n.purpose),zw.resume(o)}))}))},Lw=function e(t,n,o,r,i,a){return Pw(t,n,o,r,i,a).fold(I,(function(r){return e(t,n,o,r,i,a)}),q)},Fw=function(e,t,n){var o=function(e){var t=Pr(!1);return{stop:function(){t.set(!0)},cut:R,isStopped:t.get,isCut:q,event:e,setSource:F("Cannot set source of a broadcasted event"),getSource:F("Cannot get source of a broadcasted event")}}(t);return Z(e,(function(e){var t=e.descHandler;qa(t)(o)})),o.isStopped()},Bw=function(e,t,n,o,r){var i=Nw(n,o);return Lw(e,t,n,o,i,r)},qw=function(){var e={};return{registerId:function(t,n,o){we(o,(function(o,r){var i=void 0!==e[r]?e[r]:{};i[n]=function(e,t){return n=P.apply(void 0,[e.handler].concat(t)),o=e.purpose,{cHandler:n,purpose:o};var n,o}(o,t),e[r]=i}))},unregisterId:function(t){we(e,(function(e,n){Re(e,t)&&delete e[t]}))},filterByType:function(t){return Ae(e,t).map((function(e){return Oe(e,(function(e,t){return function(e,t){return{id:e,descHandler:t}}(t,e)}))})).getOr([])},find:function(t,n,o){return Ae(e,n).bind((function(e){return Ur(o,(function(t){return function(e,t){return Sa(t).bind((function(t){return Ae(e,t)})).map((function(e){return function(e,t){return{element:e,descHandler:t}}(t,e)}))}(e,t)}),t)}))}}},Iw=function(){var e=qw(),t={},n=function(e){var t=e.element;return Sa(t).getOrThunk((function(){return function(e,t){var n=ba(wa+e);return ka(t,n),n}("uid-",e.element)}))},o=function(n){Sa(n.element).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,o){return e.find(t,n,o)},filter:function(t){return e.filterByType(t)},register:function(r){var i=n(r);De(t,i)&&function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+pa(r.element)+"\nCannot use it for: "+pa(e.element)+"\nThe conflicting element is"+(Ct(r.element)?" ":" not ")+"already in the DOM");o(e)}(r,i);var a=[r];e.registerId(a,i,r.events),t[i]=r},unregister:o,getById:function(e){return Ae(t,e)}}},Hw=Qf({name:"Container",factory:function(e){var t=e.dom,n=t.attributes,i=o(t,f);return{uid:e.uid,dom:r({tag:"div",attributes:r({role:"presentation"},n)},i),components:e.components,behaviours:Kd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Or("components",[]),$d("containerBehaviours",[]),Or("events",{}),Or("domModification",{}),Or("eventOrder",{})]}),Vw=function(e){var t=function(t){return ut(e.element).fold(I,(function(e){return tt(t,e)}))},n=Iw(),o=function(e,o){return n.find(t,e,o)},r=Mw(e.element,{triggerEvent:function(e,t){return Hu(e,t.target,(function(n){return function(e,t,n,o){return Bw(e,t,n,n.target,o)}(o,e,t,n)}))}}),i={debugInfo:M("real"),triggerEvent:function(e,t,n){Hu(e,t,(function(r){return Bw(o,e,n,t,r)}))},triggerFocus:function(e,t){Sa(e).fold((function(){Xs(e)}),(function(n){Hu(bi(),e,(function(n){return function(e,t,n,o,r){var i=Nw(n,o);Pw(e,t,n,o,i,r)}(o,bi(),{originator:t,kill:R,prevent:R,target:e},e,n),!1}))}))},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return p(e)},getByDom:function(e){return g(e)},build:ku,buildOrPatch:Cu,addToGui:function(e){s(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){d(e)},broadcastOn:function(e,t){f(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:I},a=function e(t){t.connect(i),Je(t.element)||(n.register(t),Z(t.components(),e),i.triggerEvent(Ti(),t.element,{target:t.element}))},u=function e(t){Je(t.element)||(Z(t.components(),e),n.unregister(t)),t.disconnect()},s=function(t){sd(e,t)},c=function(e){dd(e)},l=function(e){var t=n.filter(wi());Z(t,(function(t){var n=t.descHandler;qa(n)(e)}))},d=function(e){l({universal:!0,data:e})},f=function(e,t){l({universal:!1,channels:e,data:t})},m=function(e,t){var o=n.filter(e);return Fw(o,t)},p=function(e){return n.getById(e).fold((function(){return oo.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),oo.value)},g=function(e){var t=Sa(e).getOr("not found");return p(t)};return a(e),{root:e,element:e.element,destroy:function(){r.unbind(),Hn(e.element)},add:s,remove:c,getByUid:p,getByDom:g,addToWorld:a,removeFromWorld:u,broadcast:d,broadcastOn:f,broadcastEvent:m}},jw=M([Or("prefix","form-field"),$d("fieldBehaviours",[om,Wd])]),Uw=M([Of({schema:[cr("dom")],name:"label"}),Of({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[cr("text")],name:"aria-descriptor"}),Sf({factory:{sketch:function(e){var t=Br(e,["factory"]);return e.factory.sketch(t)}},schema:[cr("factory")],name:"field"})]),Gw=Zf({name:"FormField",configFields:jw(),partFields:Uw(),factory:function(e,t,n,o){var r=Jd(e.fieldBehaviours,[om.config({find:function(t){return Bf(t,e,"field")}}),Wd.config({store:{mode:"manual",getValue:function(e){return om.getCurrent(e).bind(Wd.getValue)},setValue:function(e,t){om.getCurrent(e).each((function(e){Wd.setValue(e,t)}))}}})]),i=Ji([aa((function(t,n){var o=If(t,e,["label","field","aria-descriptor"]);o.field().each((function(t){var n=ba(e.prefix);o.label().each((function(e){Ot(e.element,"for",n),Ot(t.element,"id",n)})),o["aria-descriptor"]().each((function(n){var o=ba(e.prefix);Ot(n.element,"id",o),Ot(t.element,"aria-describedby",o)}))}))}))]),a={getField:function(t){return Bf(t,e,"field")},getLabel:function(t){return Bf(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),Ww=Object.freeze({__proto__:null,exhibit:function(e,t){return Ba({attributes:Ir([{key:t.tabAttr,value:"true"}])})}}),$w=[Or("tabAttr","data-alloy-tabstop")],Kw=Gs({fields:$w,name:"tabstopping",active:Ww}),Jw=tinymce.util.Tools.resolve("tinymce.html.Entities"),Yw=function(e,t,n,o){var r=Xw(e,t,n,o);return Gw.sketch(r)},Xw=function(e,t,n,o){return{dom:Qw(n),components:e.toArray().concat([t]),fieldBehaviours:js(o)}},Qw=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Zw=function(e,t){return Gw.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yu(t.translate(e))]})},eC=ba("form-component-change"),tC=ba("form-close"),nC=ba("form-cancel"),oC=ba("form-action"),rC=ba("form-submit"),iC=ba("form-block"),aC=ba("form-unblock"),uC=ba("form-tabchange"),sC=ba("form-resize"),cC=function(e,t,n){var o,r,a=e.label.map((function(e){return Zw(e,t)})),u=function(e){return function(t,n){Mu(n.event.target,"[data-collection-item-value]").each((function(o){e(t,n,o,Tt(o,"data-collection-item-value"))}))}},s=u((function(n,o,r,i){o.stop(),t.isDisabled()||Ui(n,oC,{name:e.name,value:i})})),c=[Qi(ri(),u((function(e,t,n){Xs(n)}))),Qi(di(),s),Qi(Si(),s),Qi(ii(),u((function(e,t,n){Du(e.element,"."+tb).each((function(e){eu(e,tb)})),Za(n,tb)}))),Qi(ai(),u((function(e){Du(e.element,"."+tb).each((function(e){eu(e,tb)}))}))),ca(u((function(t,n,o,r){Ui(t,oC,{name:e.name,value:r})})))],l=function(e,t){return Q(xl(e.element,".tox-collection__item"),t)},d=Gw.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:N},behaviours:js([vm.config({disabled:t.isDisabled,onDisabled:function(e){l(e,(function(e){Za(e,"tox-collection__item--state-disabled"),Ot(e,"aria-disabled",!0)}))},onEnabled:function(e){l(e,(function(e){eu(e,"tox-collection__item--state-disabled"),Dt(e,"aria-disabled")}))}}),qy(),zg.config({}),Wd.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:function(n,o){!function(n,o){var r=Q(o,(function(n){var o=_h.translate(n.text),r=1===e.columns?'<div class="tox-collection__item-label">'.concat(o,"</div>"):"",i='<div class="tox-collection__item-icon">'.concat(n.icon,"</div>"),a={_:" "," - ":" ","-":" "},u=o.replace(/\_| \- |\-/g,(function(e){return a[e]})),s=t.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'.concat(s,'" tabindex="-1" data-collection-item-value="').concat(Jw.encodeAllRaw(n.value),'" title="').concat(u,'" aria-label="').concat(u,'">').concat(i).concat(r,"</div>")})),i="auto"!==e.columns&&e.columns>1?X(r,e.columns):[r],a=Q(i,(function(e){return'<div class="tox-collection__group">'.concat(e.join(""),"</div>")}));da(n.element,a.join(""))}(n,o),"auto"===e.columns&&Sy(n,5,"tox-collection__item").each((function(e){var t=e.numRows,o=e.numColumns;Eg.setGridSize(n,t,o)})),ji(n,sC)}}),Kw.config({}),Eg.config((o=e.columns,r="normal",1===o?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===o?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:".".concat("color"===r?Jv:Kv)}})),Pg("collection-events",c)]),eventOrder:i({},Ci(),["disabling","alloy.base.behaviour","collection-events"])});return Yw(a,d,["tox-form__group--collection"],[])},lC=M([br("data"),Or("inputAttributes",{}),Or("inputStyles",{}),Or("tag","input"),Or("inputClasses",[]),Yu("onSetValue"),Or("styles",{}),Or("eventOrder",{}),$d("inputBehaviours",[Wd,Ig]),Or("selectOnFocus",!0)]),dC=function(e){return js([Ig.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=iu(t);t.dom.setSelectionRange(0,n.length)}:R})])},fC=function(e){return r(r({},dC(e)),Jd(e.inputBehaviours,[Wd.config({store:r(r({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{},{getValue:function(e){return iu(e.element)},setValue:function(e,t){iu(e.element)!==t&&au(e.element,t)}}),onSetValue:e.onSetValue})]))},mC=function(e){return{tag:e.tag,attributes:r({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},pC=Qf({name:"Input",configFields:lC(),factory:function(e,t){return{uid:e.uid,dom:mC(e),components:[],behaviours:fC(e),eventOrder:e.eventOrder}}}),gC=function e(t){var n=V.none(),o=[],r=function(e){i()?u(e):o.push(e)},i=function(){return n.isSome()},a=function(e){Z(e,u)},u=function(e){n.each((function(t){setTimeout((function(){e(t)}),0)}))};return t((function(e){i()||(n=V.some(e),a(o),o=[])})),{get:r,map:function(t){return e((function(e){r((function(n){e(t(n))}))}))},isReady:i}},hC=gC,vC=function(e){setTimeout((function(){throw e}),0)},bC=function e(t){var n=function(e){t().then(e,vC)};return{map:function(n){return e((function(){return t().then(n)}))},bind:function(n){return e((function(){return t().then((function(e){return n(e).toPromise()}))}))},anonBind:function(n){return e((function(){return t().then((function(){return n.toPromise()}))}))},toLazy:function(){return hC(n)},toCached:function(){var n=null;return e((function(){return null===n&&(n=t()),n}))},toPromise:t,get:n}},yC=function(e){return bC((function(){return new Promise(e)}))},xC=function(e){return bC((function(){return Promise.resolve(e)}))},wC=["input","textarea"],CC=function(e){var t=We(e);return K(wC,t)},kC=function(e,t){var n=t.getRoot(e).getOr(e.element);eu(n,t.invalidClass),t.notify.each((function(t){CC(e.element)&&Ot(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){da(e,t.validHtml)})),t.onValid(e)}))},SC=function(e,t,n,o){var r=t.getRoot(e).getOr(e.element);Za(r,t.invalidClass),t.notify.each((function(t){CC(e.element)&&Ot(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){da(e,o)})),t.onInvalid(e,o)}))},EC=function(e,t,n){return t.validator.fold((function(){return xC(oo.value(!0))}),(function(t){return t.validate(e)}))},OC=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),EC(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return SC(e,t,0,n),oo.error(n)}),(function(n){return kC(e,t),oo.value(n)})):oo.error("No longer in system")}))},_C=Object.freeze({__proto__:null,markValid:kC,markInvalid:SC,query:EC,run:OC,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element);return tu(n,t.invalidClass)}}),TC=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map((function(t){return Ji([Qi(t.onEvent,(function(t){OC(t,e).get(N)}))].concat(t.validateOnLoad?[aa((function(t){OC(t,e).get(R)}))]:[]))})).getOr({})}}),AC=[cr("invalidClass"),Or("getRoot",V.none),Er("notify",[Or("aria","alert"),Or("getContainer",V.none),Or("validHtml",""),Yu("onValid"),Yu("onInvalid"),Yu("onValidate")]),Er("validator",[cr("validate"),Or("onEvent","input"),Or("validateOnLoad",!0)])],RC=Gs({fields:AC,name:"invalidating",active:TC,apis:_C,extra:{validation:function(e){return function(t){var n=Wd.getValue(t);return xC(e(n))}}}}),DC=Object.freeze({__proto__:null,getCoupled:function(e,t,n,o){return n.getOrCreate(e,t,o)}}),MC=[lr("others",er(oo.value,jo()))],NC=Object.freeze({__proto__:null,init:function(){var e={},t=M({});return La({readState:t,getOrCreate:function(t,n,o){var r=ye(n.others);if(r)return Ae(e,o).getOrThunk((function(){var r=Ae(n.others,o).getOrDie("No information found for coupled component: "+o)(t),i=t.getSystem().build(r);return e[o]=i,i}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))}})}}),zC=Gs({fields:MC,name:"coupling",apis:DC,state:NC}),PC=M("sink"),LC=M(Of({name:PC(),overrides:M({dom:{tag:"div"},behaviours:js([ed.config({useFixed:I})]),events:Ji([oa(ui()),oa(ei()),oa(di())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(Cw||(Cw={}));var FC,BC=function(e,t){var n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:o,hotspot:n,overrides:r}}),(function(e){return{type:o,hotspot:n,overrides:r,layouts:e}}))},qC=function(e,t,n,o,i,a,u){var s=function(e,t,n,o,i,a,u){var s=function(e,t,n){return(0,e.fetch)(n).map(t)}(e,t,o),c=jC(o,e);return s.map((function(e){return e.bind((function(e){return V.from(Ch.sketch(r(r({},a.menu()),{},{uid:Ea(""),data:e,highlightImmediately:u===Cw.HighlightFirst,onOpenMenu:function(e,t){var o=c().getOrDie();ed.position(o,t,{anchor:n}),Od.decloak(i)},onOpenSubmenu:function(e,t,n){var o=c().getOrDie();ed.position(o,n,{anchor:{type:"submenu",item:t}}),Od.decloak(i)},onRepositionMenu:function(e,t,o){var r=c().getOrDie();ed.position(r,t,{anchor:n}),Z(o,(function(e){ed.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){return Ig.focus(o),Od.close(i),V.some(!0)}})))}))}))}(e,t,BC(e,n),n,o,i,u);return s.map((function(e){return e.fold((function(){Od.isOpen(o)&&Od.close(o)}),(function(e){Od.cloak(o),Od.open(o,e),a(o)})),o}))},IC=function(e,t,n,o,r,i,a){return Od.close(o),xC(o)},HC=function(e,t,n,o,r,i){var a=zC.getCoupled(n,"sandbox");return(Od.isOpen(a)?IC:qC)(e,t,n,a,o,r,i)},VC=function(e,t,n){var o=om.getCurrent(t).getOr(t),r=Zt(e.element);n?zt(o.element,"min-width",r+"px"):function(e,t){Qt.set(e,t)}(o.element,r)},jC=function(e,t){return e.getSystem().getByUid(t.uid+"-"+PC()).map((function(e){return function(){return oo.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return oo.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},UC=function(e){Od.getState(e).each((function(e){Ch.repositionMenus(e)}))},GC=function(e,t,n){var o=zu(),i=jC(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:Xd(e.sandboxBehaviours,[Wd.config({store:{mode:"memory",initialValue:t}}),Od.config({onOpen:function(r,i){var a=BC(e,t);o.link(t.element),e.matchWidth&&VC(a.hotspot,i,e.useMinWidth),e.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:function(e,r){o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:function(e,n,o){return Lu(n,o)||Lu(t,o)},getAttachPoint:function(){return i().getOrDie()}}),om.config({find:function(e){return Od.getState(e).bind((function(e){return om.getCurrent(e)}))}}),Js.config({channels:r(r({},Dd({isExtraPart:q})),Nd({doReposition:UC}))})])}},WC=function(e){var t=zC.getCoupled(e,"sandbox");UC(t)},$C=function(){return[Or("sandboxClasses",[]),Yd("sandboxBehaviours",[om,Js,Od,Wd])]},KC=M([cr("dom"),cr("fetch"),Yu("onOpen"),Xu("onExecute"),Or("getHotspot",V.some),Or("getAnchorOverrides",M({})),Wc(),$d("dropdownBehaviours",[Qg,zC,Eg,Ig]),cr("toggleClass"),Or("eventOrder",{}),br("lazySink"),Or("matchWidth",!1),Or("useMinWidth",!1),br("role")].concat($C())),JC=M([Ef({schema:[$u()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),LC()]),YC=Zf({name:"Dropdown",configFields:KC(),partFields:JC(),factory:function(e,t,n,o){var a,u=function(e){Od.getState(e).each((function(e){Ch.highlightPrimary(e)}))},s={expand:function(t){Qg.isOn(t)||HC(e,N,t,o,R,Cw.HighlightNone).get(R)},open:function(t){Qg.isOn(t)||HC(e,N,t,o,R,Cw.HighlightFirst).get(R)},isOpen:Qg.isOn,close:function(t){Qg.isOn(t)&&HC(e,N,t,o,R,Cw.HighlightFirst).get(R)},repositionMenus:function(e){Qg.isOn(e)&&WC(e)}},c=function(e,t){return Gi(e),V.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.dropdownBehaviours,[Qg.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),zC.config({others:{sandbox:function(t){return GC(e,t,{onOpen:function(){return Qg.on(t)},onClose:function(){return Qg.off(t)}})}}}),Eg.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){if(YC.isOpen(e)){var n=zC.getCoupled(e,"sandbox");u(n)}else YC.open(e);return V.some(!0)},onEscape:function(e,t){return YC.isOpen(e)?(YC.close(e),V.some(!0)):V.none()}}),Ig.config({})]),events:eh(V.some((function(t){HC(e,N,t,o,u,Cw.HighlightFirst).get(R)}))),eventOrder:r(r({},e.eventOrder),{},i({},Ci(),["disabling","toggling","alloy.base.behaviour"])),apis:s,domModification:{attributes:r(r({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(a="type",Ae(e.dom,"attributes").bind((function(e){return Ae(e,a)}))).getOr("button")}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),XC=Object.freeze({__proto__:null,events:function(){return Ji([Yi(gi(),I)])},exhibit:function(){return Ba({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),QC=Gs({fields:[],name:"unselecting",active:XC}),ZC=ba("color-input-change"),ek=ba("color-swatch-change"),tk=ba("color-picker-cancel"),nk=function(e,t,n,o){var r=Gw.parts.field({factory:pC,inputClasses:["tox-textfield"],data:o,onSetValue:function(e){return RC.run(e).get(R)},inputBehaviours:js([vm.config({disabled:t.providers.isDisabled}),qy(),Kw.config({}),RC.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return st(e.element)},notify:{onValid:function(e){var t=Wd.getValue(e);Ui(e,ZC,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=Wd.getValue(e);if(0===t.length)return xC(oo.value(!0));var n=Ue.fromTag("span");zt(n,"background-color",t);var o=qt(n,"background-color").fold((function(){return oo.error("blah")}),(function(e){return oo.value(t)}));return xC(o)}}})]),selectOnFocus:!1}),i=e.label.map((function(e){return Zw(e,t.providers)})),a=function(e,t){Ui(e,ek,{value:t})},u=Oh(function(e,t){return YC.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:js([Hy(t.providers.isDisabled),qy(),QC.config({}),Kw.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return yC((function(t){return e.fetch(t)})).map((function(o){return V.from(Ow(wo(iw(ba("menu-value"),o,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,Wv.CLOSE_ON_EXECUTE,q,t.providers),{movement:uw(e.columns,e.presets)})))}))},parts:{menu:lb(0,0,e.presets)}})}({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Ss,ks,Ts]},onLtr:function(){return[ks,Ss,Ts]}},components:[],fetch:ew(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){u.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return ji(e,tk)}),(function(t){a(e,t),Jx(t)}))}),"#ffffff"):a(e,"remove"===t?"":t)}))}},t));return Gw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:js([Pg("form-field-events",[Qi(ZC,(function(t,n){u.getOpt(t).each((function(e){zt(e.element,"background-color",n.event.color)})),Ui(t,eC,{name:e.name})})),Qi(ek,(function(e,t){Gw.getField(e).each((function(n){Wd.setValue(n,t.event.value),om.getCurrent(e).each(Ig.focus)}))})),Qi(tk,(function(e,t){Gw.getField(e).each((function(t){om.getCurrent(e).each(Ig.focus)}))}))])])})},ok=Of({schema:[cr("dom")],name:"label"}),rk=function(e){return Of({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:Ji([Zi(Yr(),(function(t,n,o){return e(t,o)}),[t]),Zi(ei(),(function(t,n,o){return e(t,o)}),[t]),Zi(ti(),(function(t,n,o){o.mouseIsDown.get()&&e(t,o)}),[t])])}}))}})},ik=rk("top-left"),ak=rk("top"),uk=rk("top-right"),sk=rk("right"),ck=rk("bottom-right"),lk=rk("bottom"),dk=rk("bottom-left"),fk=rk("left"),mk=Sf({name:"thumb",defaults:M({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Ji([ta(Yr(),e,"spectrum"),ta(Xr(),e,"spectrum"),ta(Qr(),e,"spectrum"),ta(ei(),e,"spectrum"),ta(ti(),e,"spectrum"),ta(oi(),e,"spectrum")])}}}),pk=Sf({schema:[ur("mouseIsDown",(function(){return Pr(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,o){return t.getValueFromEvent(o).map((function(o){return t.setValueFrom(n,e,o)}))};return{behaviours:js([Eg.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Ig.config({})]),events:Ji([Qi(Yr(),n),Qi(Xr(),n),Qi(ei(),n),Qi(ti(),(function(t,o){e.mouseIsDown.get()&&n(t,o)}))])}}}),gk=[ok,fk,sk,ak,lk,ik,uk,dk,ck,mk,pk],hk=M("slider.change.value"),vk=function(e){var t=e.event.raw;if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?V.some(n.touches[0]).map((function(e){return Kt(e.clientX,e.clientY)})):V.none()}var o=t;return void 0!==o.clientX?V.some(o).map((function(e){return Kt(e.clientX,e.clientY)})):V.none()},bk=function(e){return e.model.minX},yk=function(e){return e.model.minY},xk=function(e){return e.model.minX-1},wk=function(e){return e.model.minY-1},Ck=function(e){return e.model.maxX},kk=function(e){return e.model.maxY},Sk=function(e){return e.model.maxX+1},Ek=function(e){return e.model.maxY+1},Ok=function(e,t,n){return t(e)-n(e)},_k=function(e){return Ok(e,Ck,bk)},Tk=function(e){return Ok(e,kk,yk)},Ak=function(e){return _k(e)/2},Rk=function(e){return Tk(e)/2},Dk=function(e){return e.stepSize},Mk=function(e){return e.snapToGrid},Nk=function(e){return e.snapStart},zk=function(e){return e.rounded},Pk=function(e,t){return void 0!==e[t+"-edge"]},Lk=function(e){return Pk(e,"left")},Fk=function(e){return Pk(e,"right")},Bk=function(e){return Pk(e,"top")},qk=function(e){return Pk(e,"bottom")},Ik=function(e){return e.model.value.get()},Hk=function(e,t){return{x:e,y:t}},Vk=function(e,t){Ui(e,hk(),{value:t})},jk=function(e,t,n,o){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o)},Uk=function(e,t,n,o){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o)},Gk=function(e,t,n){return Math.max(t,Math.min(n,e))},Wk=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,d=e.minBound,f=e.maxBound,m=e.screenRange,p=c?t-1:t,g=l?n+1:n;if(r<d)return p;if(r>f)return g;var h=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(r,d,f),v=Gk(h/m*o+t,p,g);return a&&v>=t&&v<=n?function(e,t,n,o,r){return r.fold((function(){var r=e-t,i=Math.round(r/o)*o;return Gk(t+i,t-1,n+1)}),(function(t){var r=(e-t)%o,i=Math.round(r/o),a=Math.floor((e-t)/o),u=Math.floor((n-t)/o),s=t+Math.min(u,a+i)*o;return Math.max(t,s)}))}(v,t,n,i,u):s?Math.round(v):v},$k=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return r<t?i?0:c:r>n?a?u:l:(r-t)/o*s},Kk="top",Jk="right",Yk="bottom",Xk="left",Qk=function(e){return e.element.dom.getBoundingClientRect()},Zk=function(e,t){return e[t]},eS=function(e){var t=Qk(e);return Zk(t,Xk)},tS=function(e){var t=Qk(e);return Zk(t,Jk)},nS=function(e){var t=Qk(e);return Zk(t,Kk)},oS=function(e){var t=Qk(e);return Zk(t,Yk)},rS=function(e){var t=Qk(e);return Zk(t,"width")},iS=function(e){var t=Qk(e);return Zk(t,"height")},aS=function(e,t,n){return(e+t)/2-n},uS=function(e,t){var n=Qk(e),o=Qk(t),r=Zk(n,Xk),i=Zk(n,Jk),a=Zk(o,Xk);return aS(r,i,a)},sS=function(e,t){var n=Qk(e),o=Qk(t),r=Zk(n,Kk),i=Zk(n,Yk),a=Zk(o,Kk);return aS(r,i,a)},cS=function(e,t){Ui(e,hk(),{value:t})},lS=function(e,t,n){var o={min:bk(t),max:Ck(t),range:_k(t),value:n,step:Dk(t),snap:Mk(t),snapStart:Nk(t),rounded:zk(t),hasMinEdge:Lk(t),hasMaxEdge:Fk(t),minBound:eS(e),maxBound:tS(e),screenRange:rS(e)};return Wk(o)},dS=function(e){return function(t,n){return function(e,t,n){var o=(e>0?Uk:jk)(Ik(n),bk(n),Ck(n),Dk(n));return cS(t,o),V.some(o)}(e,t,n).map(I)}},fS=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=rS(e),a=o.bind((function(t){return V.some(uS(t,e))})).getOr(0),u=r.bind((function(t){return V.some(uS(t,e))})).getOr(i),s={min:bk(t),max:Ck(t),range:_k(t),value:n,hasMinEdge:Lk(t),hasMaxEdge:Fk(t),minBound:eS(e),minOffset:0,maxBound:tS(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return $k(s)}(t,i,n,o,r);return eS(t)-eS(e)+a},mS=dS(-1),pS=dS(1),gS=V.none,hS=V.none,vS={"top-left":V.none(),top:V.none(),"top-right":V.none(),right:V.some((function(e,t){Vk(e,Sk(t))})),"bottom-right":V.none(),bottom:V.none(),"bottom-left":V.none(),left:V.some((function(e,t){Vk(e,xk(t))}))},bS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=lS(e,t,n);return cS(e,o),o},setToMin:function(e,t){var n=bk(t);cS(e,n)},setToMax:function(e,t){var n=Ck(t);cS(e,n)},findValueOfOffset:lS,getValueFromEvent:function(e){return vk(e).map((function(e){return e.left}))},findPositionOfValue:fS,setPositionFromValue:function(e,t,n,o){var r=Ik(n),i=fS(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),a=Zt(t.element)/2;zt(t.element,"left",i-a+"px")},onLeft:mS,onRight:pS,onUp:gS,onDown:hS,edgeActions:vS}),yS=function(e,t){Ui(e,hk(),{value:t})},xS=function(e,t,n){var o={min:yk(t),max:kk(t),range:Tk(t),value:n,step:Dk(t),snap:Mk(t),snapStart:Nk(t),rounded:zk(t),hasMinEdge:Bk(t),hasMaxEdge:qk(t),minBound:nS(e),maxBound:oS(e),screenRange:iS(e)};return Wk(o)},wS=function(e){return function(t,n){return function(e,t,n){var o=(e>0?Uk:jk)(Ik(n),yk(n),kk(n),Dk(n));return yS(t,o),V.some(o)}(e,t,n).map(I)}},CS=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=iS(e),a=o.bind((function(t){return V.some(sS(t,e))})).getOr(0),u=r.bind((function(t){return V.some(sS(t,e))})).getOr(i),s={min:yk(t),max:kk(t),range:Tk(t),value:n,hasMinEdge:Bk(t),hasMaxEdge:qk(t),minBound:nS(e),minOffset:0,maxBound:oS(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return $k(s)}(t,i,n,o,r);return nS(t)-nS(e)+a},kS=V.none,SS=V.none,ES=wS(-1),OS=wS(1),_S={"top-left":V.none(),top:V.some((function(e,t){Vk(e,wk(t))})),"top-right":V.none(),right:V.none(),"bottom-right":V.none(),bottom:V.some((function(e,t){Vk(e,Ek(t))})),"bottom-left":V.none(),left:V.none()},TS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=xS(e,t,n);return yS(e,o),o},setToMin:function(e,t){var n=yk(t);yS(e,n)},setToMax:function(e,t){var n=kk(t);yS(e,n)},findValueOfOffset:xS,getValueFromEvent:function(e){return vk(e).map((function(e){return e.top}))},findPositionOfValue:CS,setPositionFromValue:function(e,t,n,o){var r=Ik(n),i=CS(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),a=Wt(t.element)/2;zt(t.element,"top",i-a+"px")},onLeft:kS,onRight:SS,onUp:ES,onDown:OS,edgeActions:_S}),AS=function(e,t){Ui(e,hk(),{value:t})},RS=function(e,t){return{x:e,y:t}},DS=function(e,t){return function(n,o){return function(e,t,n,o){var r=e>0?Uk:jk,i=t?Ik(o).x:r(Ik(o).x,bk(o),Ck(o),Dk(o)),a=t?r(Ik(o).y,yk(o),kk(o),Dk(o)):Ik(o).y;return AS(n,RS(i,a)),V.some(i)}(e,t,n,o).map(I)}},MS=DS(-1,!1),NS=DS(1,!1),zS=DS(-1,!0),PS=DS(1,!0),LS={"top-left":V.some((function(e,t){Vk(e,Hk(xk(t),wk(t)))})),top:V.some((function(e,t){Vk(e,Hk(Ak(t),wk(t)))})),"top-right":V.some((function(e,t){Vk(e,Hk(Sk(t),wk(t)))})),right:V.some((function(e,t){Vk(e,Hk(Sk(t),Rk(t)))})),"bottom-right":V.some((function(e,t){Vk(e,Hk(Sk(t),Ek(t)))})),bottom:V.some((function(e,t){Vk(e,Hk(Ak(t),Ek(t)))})),"bottom-left":V.some((function(e,t){Vk(e,Hk(xk(t),Ek(t)))})),left:V.some((function(e,t){Vk(e,Hk(xk(t),Rk(t)))}))},FS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=lS(e,t,n.left),r=xS(e,t,n.top),i=RS(o,r);return AS(e,i),i},setToMin:function(e,t){var n=bk(t),o=yk(t);AS(e,RS(n,o))},setToMax:function(e,t){var n=Ck(t),o=kk(t);AS(e,RS(n,o))},getValueFromEvent:function(e){return vk(e)},setPositionFromValue:function(e,t,n,o){var r=Ik(n),i=fS(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=CS(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),u=Zt(t.element)/2,s=Wt(t.element)/2;zt(t.element,"left",i-u+"px"),zt(t.element,"top",a-s+"px")},onLeft:MS,onRight:NS,onUp:zS,onDown:PS,edgeActions:LS}),BS=[Or("stepSize",1),Or("onChange",R),Or("onChoose",R),Or("onInit",R),Or("onDragStart",R),Or("onDragEnd",R),Or("snapToGrid",!1),Or("rounded",!0),br("snapStart"),lr("model",ir("mode",{x:[Or("minX",0),Or("maxX",100),ur("value",(function(e){return Pr(e.mode.minX)})),cr("getInitialValue"),es("manager",bS)],y:[Or("minY",0),Or("maxY",100),ur("value",(function(e){return Pr(e.mode.minY)})),cr("getInitialValue"),es("manager",TS)],xy:[Or("minX",0),Or("maxX",100),Or("minY",0),Or("maxY",100),ur("value",(function(e){return Pr({x:e.mode.minX,y:e.mode.minY})})),cr("getInitialValue"),es("manager",FS)]})),$d("sliderBehaviours",[Eg,Wd]),ur("mouseIsDown",(function(){return Pr(!1)}))],qS=Zf({name:"Slider",configFields:BS,partFields:gk,factory:function(e,t,n,o){var r=function(t){return qf(t,e,"thumb")},a=function(t){return qf(t,e,"spectrum")},u=function(t){return Bf(t,e,"left-edge")},s=function(t){return Bf(t,e,"right-edge")},c=function(t){return Bf(t,e,"top-edge")},l=function(t){return Bf(t,e,"bottom-edge")},d=e.model,f=d.manager,m=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=function(e,t){d.value.set(t);var n=r(e);m(e,n)},g=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Bf(t,e,"thumb").each((function(n){var o=d.value.get();e.onChoose(t,n,o)}))},h=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},v=function(t,n){n.stop(),e.onDragEnd(t,r(t)),g(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.sliderBehaviours,[Eg.config({mode:"special",focusIn:function(t){return Bf(t,e,"spectrum").map(Eg.focusIn).map(I)}}),Wd.config({store:{mode:"manual",getValue:function(e){return d.value.get()},setValue:p}}),Js.config({channels:i({},Ad(),{onReceive:g})})]),events:Ji([Qi(hk(),(function(t,n){!function(t,n){p(t,n);var o=r(t);e.onChange(t,o,n),V.some(!0)}(t,n.event.value)})),aa((function(t,n){var o=d.getInitialValue();d.value.set(o);var i=r(t);m(t,i);var u=a(t);e.onInit(t,i,u,d.value.get())})),Qi(Yr(),h),Qi(Qr(),v),Qi(ei(),h),Qi(oi(),v)]),apis:{resetToMin:function(t){f.setToMin(t,e)},resetToMax:function(t){f.setToMax(t,e)},setValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),IS=ba("rgb-hex-update"),HS=ba("slider-update"),VS=ba("palette-update"),jS="form",US=[$d("formBehaviours",[Wd])],GS=function(e){return"<alloy.field."+e+">"},WS=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.formBehaviours,[Wd.config({store:{mode:"manual",getValue:function(t){var n=Hf(t,e);return Ce(n,(function(e,t){return e().bind((function(e){var n,o,r=om.getCurrent(e);return n=r,o=new Error("Cannot find a current component to extract the value from for form part '".concat(t,"': ")+pa(e.element)),n.fold((function(){return oo.error(o)}),oo.value)})).map(Wd.getValue)}))},setValue:function(t,n){we(n,(function(n,o){Bf(t,e,o).each((function(e){om.getCurrent(e).each((function(e){Wd.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Bf(t,e,n).bind(om.getCurrent)}}}},$S={getField:za((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),Nf(jS,GS(t),n)},record:M(e)}}(),n=e(t),o=t.record(),r=Q(o,(function(e){return Sf({name:e,pname:GS(e)})}));return Kf(jS,US,r,WS,n)}},KS=ba("valid-input"),JS=ba("invalid-input"),YS=ba("validating-input"),XS="colorcustom.rgb.",QS=function(e,t,n,o){var i=function(n,o){return RC.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Ui(e,YS,{type:n})},onValid:function(e){Ui(e,KS,{type:n,value:Wd.getValue(e)})},onInvalid:function(e){Ui(e,JS,{type:n,value:Wd.getValue(e)})}},validator:{validate:function(t){var n=Wd.getValue(t),r=o(n)?oo.value(!0):oo.error(e("aria.input.invalid"));return xC(r)},validateOnLoad:!1}})},a=function(n,o,a,u,s){var c=e("colorcustom.rgb.range"),l=Gw.parts.label({dom:{tag:"label",attributes:{"aria-label":u}},components:[yu(a)]}),d=Gw.parts.field({data:s,factory:pC,inputAttributes:r({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:js([i(o,n),Kw.config({})]),onSetValue:function(e){RC.isInvalid(e)&&RC.run(e).get(R)}}),f=[l,d],m="hex"!==o?[Gw.parts["aria-descriptor"]({text:c})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:f.concat(m)}},u=function(e,t){var n=t.red,o=t.green,r=t.blue;Wd.setValue(e,{red:n,green:o,blue:r})},s=Oh({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(e,t){s.getOpt(e).each((function(e){zt(e.element,"background-color","#"+t.value)}))},l=Qf({factory:function(){var r={red:Pr(V.some(255)),green:Pr(V.some(255)),blue:Pr(V.some(255)),hex:Pr(V.some("ffffff"))},i=function(e){return r[e].get()},l=function(e,t){r[e].set(t)},d=function(e){var t=e.red,n=e.green,o=e.blue;l("red",V.some(t)),l("green",V.some(n)),l("blue",V.some(o))},f=function(e,t){var n=t.event;"hex"!==n.type?l(n.type,V.none()):o(e)},m=function(e,t,n){var o=parseInt(n,10);l(t,V.some(o)),i("red").bind((function(e){return i("green").bind((function(t){return i("blue").map((function(n){return Tx(e,t,n,1)}))}))})).each((function(t){var n=function(e,t){var n=Cx(t);return $S.getField(e,"hex").each((function(t){Ig.isFocused(t)||Wd.setValue(e,{hex:n.value})})),n}(e,t);Ui(e,IS,{hex:n}),c(e,n)}))},p=function(e,t){var o=t.event;!function(e){return"hex"===e.type}(o)?m(e,o.type,o.value):function(e,t){n(e);var o=gx(t);l("hex",V.some(t));var r=Dx(o);u(e,r),d(r),Ui(e,IS,{hex:o}),c(e,o)}(e,o.value)},g=function(t){return{label:e(XS+t+".label"),description:e(XS+t+".description")}},h=g("red"),v=g("green"),b=g("blue"),y=g("hex");return wo($S.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Gw.sketch(a(Ax,"red",h.label,h.description,255))),n.field("green",Gw.sketch(a(Ax,"green",v.label,v.description,255))),n.field("blue",Gw.sketch(a(Ax,"blue",b.label,b.description,255))),n.field("hex",Gw.sketch(a(bx,"hex",y.label,y.description,"ffffff"))),s.asSpec()],formBehaviours:js([RC.config({invalidClass:t("form-invalid")}),Pg("rgb-form-events",[Qi(KS,p),Qi(JS,f),Qi(YS,f)])])}})),{apis:{updateHex:function(e,t){Wd.setValue(e,{hex:t.value}),function(e,t){var n=Dx(t);u(e,n),d(n)}(e,t),c(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return l},ZS=function(e,t){var n=qS.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=qS.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class=".concat(t("sv-palette-inner-thumb"),' role="presentation"></div>')}}),r=function(e,t){var n=e.width,o=e.height,r=e.getContext("2d");if(null!==r){r.fillStyle=t,r.fillRect(0,0,n,o);var i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);var a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)}},i=Qf({factory:function(e){var i=M({x:0,y:0}),a=js([om.config({find:V.some}),Ig.config({})]);return qS.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:function(e,t,n){Ui(e,VS,{value:n})},onInit:function(e,t,n,o){r(n.element.dom,zx(Px))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){!function(e,t){var n=e.components()[0].element.dom,o=Fx(t,100,100),i=Rx(o);r(n,zx(i))}(t,n)},setThumb:function(e,t,n){!function(e,t){var n=Bx(Dx(t));qS.setValue(e,{x:n.saturation,y:100-n.value})}(t,n)}},extraApis:{}});return i},eE=function(e,t){var n=Qf({name:"ColourPicker",configFields:[cr("dom"),Or("onValidHex",R),Or("onInvalidHex",R)],factory:function(n){var o=QS(e,t,n.onValidHex,n.onInvalidHex),r=ZS(0,t),i={paletteRgba:Pr(Px),paletteHue:Pr(0)},a=Oh(function(e,t){var n=qS.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=qS.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return qS.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:M(0)},components:[n,o],sliderBehaviours:js([Ig.config({})]),onChange:function(e,t,n){Ui(e,HS,{value:n})}})}(0,t)),u=Oh(r.sketch({})),s=Oh(o.sketch({})),c=function(e,t,n){u.getOpt(e).each((function(e){r.setHue(e,n)}))},l=function(e,t){s.getOpt(e).each((function(e){o.updateHex(e,t)}))},d=function(e,t,n){a.getOpt(e).each((function(e){qS.setValue(e,function(e){return 100-e/360*100}(n))}))},f=function(e,t){u.getOpt(e).each((function(e){r.setThumb(e,t)}))},m=function(e,t,n,o){!function(e,t){var n=Dx(e);i.paletteRgba.set(n),i.paletteHue.set(t)}(t,n),Z(o,(function(o){o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[u.asSpec(),a.asSpec(),s.asSpec()],behaviours:js([Pg("colour-picker-events",[Qi(IS,function(){var e=[c,d,f];return function(t,n){var o=n.event.hex,r=function(e){return Bx(Dx(e))}(o);m(t,o,r.hue,e)}}()),Qi(VS,function(){var e=[l];return function(t,n){var o=n.event.value,r=i.paletteHue.get(),a=Fx(r,o.x,100-o.y),u=qx(a);m(t,u,r,e)}}()),Qi(HS,function(){var e=[c,l];return function(t,n){var o=function(e){return(100-e)/100*360}(n.event.value),r=i.paletteRgba.get(),a=Bx(r),u=Fx(o,a.saturation,a.value),s=qx(u);m(t,s,o,e)}}())]),om.config({find:function(e){return s.getOpt(e)}}),Eg.config({mode:"acyclic"})])}}});return n},tE=function(){return om.config({find:V.some})},nE=function(e){return om.config({find:e.getOpt})},oE=function(e){return om.config({find:function(t){return dt(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},rE=Bo([Or("preprocess",N),Or("postprocess",N)]),iE=function(e,t,n){return Wd.config({store:r(r({mode:"manual"},e.map((function(e){return{initialValue:e}})).getOr({})),{},{getValue:t,setValue:n})})},aE=function(e,t,n){return iE(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},uE=function(e,t){var n=or("RepresentingConfigs.memento processors",rE,t);return Wd.config({store:{mode:"manual",getValue:function(t){var o=e.get(t),r=Wd.getValue(o);return n.postprocess(r)},setValue:function(t,o){var r=n.preprocess(o),i=e.get(t);Wd.setValue(i,r)}}})},sE=aE,cE=iE,lE=function(e){return aE(e,la,da)},dE=function(e){return Wd.config({store:{mode:"memory",initialValue:e}})},fE={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},mE=function(e,t,n){var o=function(e){return"tox-"+e},r=eE(function(e){return function(t){return e.translate(fE[t])}}(t),o),i=Oh(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(e){Ui(e,oC,{name:"hex-valid",value:!0})},onInvalidHex:function(e){Ui(e,oC,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:js([cE(n,(function(e){var t=i.get(e);return om.getCurrent(t).bind((function(e){return Wd.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")}),(function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),o=i.get(e);om.getCurrent(o).fold((function(){console.log("Can not find form")}),(function(e){Wd.setValue(e,{hex:V.from(n[1]).getOr("")}),$S.getField(e,"hex").each((function(e){ji(e,ci())}))}))})),tE()])}},pE=tinymce.util.Tools.resolve("tinymce.Resource"),gE=tinymce.util.Tools.resolve("tinymce.util.Tools"),hE=function(e,t,n){var o=function(e,t){t.stop()},r=function(e){return function(t,n){Z(e,(function(e){e(t,n)}))}},i=function(e,t){if(!vm.isDisabled(e)){var n=t.event.raw;u(e,n.dataTransfer.files)}},a=function(e,t){var n=t.event.raw.target;u(e,n.files)},u=function(n,o){Wd.setValue(n,function(e,t){var n=gE.explode(t.getOption("images_file_types"));return te(ve(e),(function(e){return J(n,(function(t){return qe(e.name.toLowerCase(),".".concat(t.toLowerCase()))}))}))}(o,t)),Ui(n,eC,{name:e.name})},s=Oh({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:js([Pg("input-file-events",[oa(di()),oa(Si())])])}),c=e.label.map((function(e){return Zw(e,t)})),l=Gw.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:js([dE(n.getOr([])),tE(),vm.config({}),Qg.config({toggleClass:"dragenter",toggleOnExecute:!1}),Pg("dropzone-events",[Qi("dragenter",r([o,Qg.toggle])),Qi("dragleave",r([o,Qg.toggle])),Qi("dragover",o),Qi("drop",r([o,i])),Qi(li(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[yu(t.translate("Drop an image here"))]},Eh.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[yu(t.translate("Browse for an image")),s.asSpec()],action:function(e){s.get(e).element.dom.click()},buttonBehaviours:js([Kw.config({}),Hy(t.isDisabled),qy()])})]}]}}}});return Yw(c,l,["tox-form__group--stretched"],[])},vE=ba("alloy-fake-before-tabstop"),bE=ba("alloy-fake-after-tabstop"),yE=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:js([Ig.config({ignore:!0}),Kw.config({})])}},xE=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[yE([vE]),e,yE([bE])],behaviours:js([oE(1)])}},wE=function(e,t){Ui(e,ui(),{raw:{which:9,shiftKey:t}})},CE=function(e,t){var n=t.element;tu(n,vE)?wE(e,!0):tu(n,bE)&&wE(e,!1)},kE=function(e){return Tw(e,["."+vE,"."+bE].join(","),q)},SE=function(e,t,n){var o=e.sandboxed,i=r(r(r({},e.label.map((function(e){return{title:e}})).getOr({})),n.map((function(e){return{srcdoc:e}})).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),a=function(e){var t=Pr(e.getOr(""));return{getValue:function(e){return t.get()},setValue:function(e,n){t.get()!==n&&Ot(e.element,"srcdoc",n),t.set(n)}}}(n),u=e.label.map((function(e){return Zw(e,t)})),s=Gw.parts.field({factory:{sketch:function(e){return xE({uid:e.uid,dom:{tag:"iframe",attributes:i},behaviours:js([Kw.config({}),Ig.config({}),cE(n,a.getValue,a.setValue)])})}}});return Yw(u,s,["tox-form__group--stretched"],[])},EE=function(e,t){var n=Pr(t.getOr({url:""})),o=Oh({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((function(e){return{src:e.url}})).getOr({})}}),r=Oh({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),i={};e.height.each((function(e){return i.height=e}));var a=t.map((function(e){return{url:e.url,zoom:V.from(e.zoom),cachedWidth:V.from(e.cachedWidth),cachedHeight:V.from(e.cachedHeight)}}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:js([tE(),cE(a,(function(){return n.get()}),(function(e,t){var i={url:t.url};t.zoom.each((function(e){return i.zoom=e})),t.cachedWidth.each((function(e){return i.cachedWidth=e})),t.cachedHeight.each((function(e){return i.cachedHeight=e})),n.set(i);var a=function(){var t=i.cachedWidth,n=i.cachedHeight;if(S(i.zoom)){var o=function(e,t,n){var o=Zt(e),r=Wt(e);return Math.min(o/t,r/n,1)}(e.element,t,n);i.zoom=o}var a=function(e,t,n,o,r){var i=n*r,a=o*r,u=Math.max(0,e/2-i/2),s=Math.max(0,t/2-a/2);return{left:u.toString()+"px",top:s.toString()+"px",width:i.toString()+"px",height:a.toString()+"px"}}(Zt(e.element),Wt(e.element),t,n,i.zoom);r.getOpt(e).each((function(e){Pt(e.element,a)}))};o.getOpt(e).each((function(n){var o,r=n.element;t.url!==Tt(r,"src")&&(Ot(r,"src",t.url),eu(e.element,"tox-imagepreview__loaded")),S(i.cachedWidth)||S(i.cachedHeight)||a(),(o=r,new Promise((function(e,t){var n=function(){i(),e(o)},r=[Cc(o,"load",n),Cc(o,"error",(function(){i(),t("Unable to load data from image: "+o.dom.src)}))],i=function(){return Z(r,(function(e){return e.unbind()}))};o.dom.complete&&n()}))).then((function(t){e.getSystem().isConnected()&&(Za(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,a())}))}))}))])}},OE=ba("toolbar.button.execute"),_E=i({},Ci(),["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]),TE=function(e,t,n){return Lh(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)},AE=function(e,t){return TE(e,t,[])},RE=function(e,t){return TE(e,t,[zg.config({})])},DE=function(e,t,n){return{dom:{tag:"span",classes:["".concat(t,"__select-label")]},components:[yu(n.translate(e))],behaviours:js([zg.config({})])}},ME=ba("update-menu-text"),NE=ba("update-menu-icon"),zE=function(e,t,n){var o=Pr(R),i=e.text.map((function(e){return Oh(DE(e,t,n.providers))})),u=e.icon.map((function(e){return Oh(RE(e,n.providers.icons))})),s=function(e,t){var n=Wd.getValue(e);return Ig.focus(n),Ui(n,"keydown",{raw:t.event.raw}),YC.close(n),V.some(!0)},c=e.role.fold((function(){return{}}),(function(e){return{role:e}})),l=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}})),d=Lh("chevron-down",{tag:"div",classes:["".concat(t,"__select-chevron")]},n.providers.icons);return Oh(YC.sketch(r(r(r({},e.uid?{uid:e.uid}:{}),c),{},{dom:{tag:"button",classes:[t,"".concat(t,"--select")].concat(Q(e.classes,(function(e){return"".concat(t,"--").concat(e)}))),attributes:r({},l)},components:Jy([u.map((function(e){return e.asSpec()})),i.map((function(e){return e.asSpec()})),V.some(d)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:js([].concat(a(e.dropdownBehaviours),[Hy((function(){return e.disabled||n.providers.isDisabled()})),qy(),QC.config({}),zg.config({}),Pg("dropdown-events",[Gy(e,o),Wy(e,o)]),Pg("menubutton-update-display-text",[Qi(ME,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){zg.set(e,[yu(n.providers.translate(t.event.text))])}))})),Qi(NE,(function(e,t){u.bind((function(t){return t.getOpt(e)})).each((function(e){zg.set(e,[RE(t.event.icon,n.providers.icons)])}))}))])])),eventOrder:wo(_E,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:js([Eg.config({mode:"special",onLeft:s,onRight:s})]),lazySink:n.getSink,toggleClass:"".concat(t,"--active"),parts:{menu:lb(0,e.columns,e.presets)},fetch:function(t){return yC(P(e.fetch,t))}}))).asSpec()},PE=function(e){return"separator"===e.type},LE={type:"separator"},FE=function(e,t){var n=oe(e,(function(e,n){return function(e){return b(e)}(n)?""===n?e:"|"===n?e.length>0&&!PE(e[e.length-1])?e.concat([LE]):e:Re(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&PE(n[n.length-1])&&n.pop(),n},BE=function(e,t){return function(e){return Re(e,"getSubmenuItems")}(e)?function(e,t){var n=e.getSubmenuItems(),o=qE(n,t);return{item:e,menus:wo(o.menus,qr(e.value,o.items)),expansions:wo(o.expansions,qr(e.value,e.value))}}(e,t):{item:e,menus:{},expansions:{}}},qE=function(e,t){var n=FE(b(e)?e.split(" "):e,t);return ne(n,(function(e,n){var o=function(e){if(PE(e))return e;var t=Ae(e,"value").getOrThunk((function(){return ba("generated-menu-item")}));return wo({value:t},e)}(n),r=BE(o,t);return{menus:wo(e.menus,r.menus),items:[r.item].concat(e.items),expansions:wo(e.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},IE=function(e,t,n,o){var r=ba("primary-menu"),i=qE(e,n.shared.providers.menuItems());if(0===i.items.length)return V.none();var a=Ew(r,i.items,t,n,o),u=Ce(i.menus,(function(e,o){return Ew(o,e,t,n,!1)})),s=wo(u,qr(r,a));return V.from(Ch.tieredData(r,s,i.expansions))},HE=function(e){return!Re(e,"items")},VE="data-value",jE=function e(t,n,o,r){return Q(o,(function(o){return HE(o)?{type:"togglemenuitem",text:o.text,value:o.value,active:o.value===r,onAction:function(){Wd.setValue(t,o.value),Ui(t,eC,{name:n}),Ig.focus(t)}}:{type:"nestedmenuitem",text:o.text,getSubmenuItems:function(){return e(t,n,o.items,r)}}}))},UE=function e(t,n){return be(t,(function(t){return HE(t)?Pe(t.value===n,t):e(t.items,n)}))},GE=function(e,t,n){var o=t.shared.providers,r=n.bind((function(t){return UE(e.items,t)})).orThunk((function(){return ge(e.items).filter(HE)})),i=e.label.map((function(e){return Zw(e,o)})),a=Gw.parts.field({dom:{},factory:{sketch:function(n){return zE({uid:n.uid,text:r.map((function(e){return e.text})),icon:V.none(),tooltip:e.label,role:V.none(),fetch:function(n,o){var r=jE(n,e.name,e.items,Wd.getValue(n));o(IE(r,Wv.CLOSE_ON_EXECUTE,t,!1))},onSetup:M(R),getApi:M({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Kw.config({}),cE(r.map((function(e){return e.value})),(function(e){return Tt(e.element,VE)}),(function(t,n){UE(e.items,n).each((function(e){Ot(t.element,VE,e.value),Ui(t,ME,{text:e.text})}))}))]},"tox-listbox",t.shared)}}}),u={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return Gw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ae([i.toArray(),[u]]),fieldBehaviours:js([vm.config({disabled:M(!e.enabled),onDisabled:function(e){Gw.getField(e).each(vm.disable)},onEnabled:function(e){Gw.getField(e).each(vm.enable)}})])})},WE=Qf({name:"HtmlSelect",configFields:[cr("options"),$d("selectBehaviours",[Ig,Wd]),Or("selectClasses",[]),Or("selectAttributes",{}),br("data")],factory:function(e,t){var n=Q(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),o=e.data.map((function(e){return qr("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Jd(e.selectBehaviours,[Ig.config({}),Wd.config({store:r({mode:"manual",getValue:function(e){return iu(e.element)},setValue:function(t,n){re(e.options,(function(e){return e.value===n})).isSome()&&au(t.element,n)}},o)})])}}}),$E=M([Or("field1Name","field1"),Or("field2Name","field2"),Qu("onLockedChange"),Ku(["lockClass"]),Or("locked",!1),Yd("coupledFieldBehaviours",[om,Wd])]),KE=function(e,t){return Sf({factory:Gw,name:e,overrides:function(e){return{fieldBehaviours:js([Pg("coupled-input-behaviour",[Qi(ci(),(function(n){(function(e,t,n){return Bf(e,t,n).bind(om.getCurrent)})(n,e,t).each((function(t){Bf(n,e,"lock").each((function(o){Qg.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])}}})},JE=M([KE("field1","field2"),KE("field2","field1"),Sf({factory:Eh,schema:[cr("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:js([Qg.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),YE=Zf({name:"FormCoupledInputs",configFields:$E(),partFields:JE(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:Xd(e.coupledFieldBehaviours,[om.config({find:V.some}),Wd.config({store:{mode:"manual",getValue:function(t){var n,o=jf(t,e,["field1","field2"]);return i(n={},e.field1Name,Wd.getValue(o.field1())),i(n,e.field2Name,Wd.getValue(o.field2())),n},setValue:function(t,n){var o=jf(t,e,["field1","field2"]);De(n,e.field1Name)&&Wd.setValue(o.field1(),n[e.field1Name]),De(n,e.field2Name)&&Wd.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Bf(t,e,"field1")},getField2:function(t){return Bf(t,e,"field2")},getLock:function(t){return Bf(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),XE=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){var n=parseFloat(t[1]),o=t[2];return oo.value({value:n,unit:o})}return oo.error(e)},QE=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=function(e){return Re(n,e)};return e.unit===t?V.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?V.some(e.value):V.some(e.value/n[e.unit]*n[t]):V.none()},ZE=function(e){return V.none()},eO=function(e,t){var n=XE(e).toOptional(),o=XE(t).toOptional();return ze(n,o,(function(e,t){return QE(e,t.unit).map((function(e){return t.value/e})).map((function(e){return n=e,o=t.unit,function(e){return QE(e,o).map((function(e){return{value:e*n,unit:o}}))};var n,o})).getOr(ZE)})).getOr(ZE)},tO=function(e,t){var n=e.label.map((function(e){return Zw(e,t)})),o=[vm.config({disabled:function(){return e.disabled||t.isDisabled()}}),qy(),Eg.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return ji(e,rC),V.some(!0)}}),Pg("textfield-change",[Qi(ci(),(function(t,n){Ui(t,eC,{name:e.name})})),Qi(xi(),(function(t,n){Ui(t,eC,{name:e.name})}))]),Kw.config({})],i=e.validation.map((function(e){return RC.config({getRoot:function(e){return st(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=Wd.getValue(t),o=e.validator(n);return xC(!0===o?oo.value(n):oo.error(o))},validateOnLoad:e.validateOnLoad}})})).toArray(),a=e.placeholder.fold(M({}),(function(e){return{placeholder:t.translate(e)}})),u=e.inputMode.fold(M({}),(function(e){return{inputmode:e}})),s=r(r({},a),u),c=Gw.parts.field(r(r({tag:!0===e.multiline?"textarea":"input"},e.data.map((function(e){return{data:e}})).getOr({})),{},{inputAttributes:s,inputClasses:[e.classname],inputBehaviours:js(ae([o,i])),selectOnFocus:!1,factory:pC})),l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),d=[vm.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){Gw.getField(e).each(vm.disable)},onEnabled:function(e){Gw.getField(e).each(vm.enable)}}),qy()];return Yw(n,c,l,d)},nO=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return Ji([Qi(e.event,n),ua((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[Qi(e,(function(){return t.cancel()}))]})).getOr([])))}}),oO=function(e,t){var n=null,o=function(){C(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o(),n=setTimeout((function(){n=null,e.apply(null,i)}),t)}}},rO=function(e){var t=Pr(null);return La({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},iO=Object.freeze({__proto__:null,throttle:rO,init:function(e){return e.stream.streams.state(e)}}),aO=[lr("stream",ir("mode",{throttle:[cr("delay"),Or("stopEvent",!0),es("streams",{setup:function(e,t){var n=e.stream,o=oO(e.onStream,n.delay);return t.setTimer(o),function(e,t){o.throttle(e,t),n.stopEvent&&t.stop()}},state:rO})]})),Or("event","input"),br("cancelEvent"),Qu("onStream")],uO=Gs({fields:aO,name:"streaming",active:nO,state:iO}),sO=function(e,t,n){var o=Wd.getValue(n);Wd.setValue(t,o),lO(t)},cO=function(e,t){var n=e.element,o=iu(n),r=n.dom;"number"!==Tt(n,"type")&&t(r,o)},lO=function(e){cO(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},dO=function(e,t,n){if(e.selectsOver){var o=Wd.getValue(t),r=e.getDisplayText(o),i=Wd.getValue(n);return 0===e.getDisplayText(i).indexOf(r)?V.some((function(){sO(0,t,n),function(e,t){cO(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}(t,r.length)})):V.none()}return V.none()},fO=M("alloy.typeahead.itemexecute"),mO=M([br("lazySink"),cr("fetch"),Or("minChars",5),Or("responseTime",1e3),Yu("onOpen"),Or("getHotspot",V.some),Or("getAnchorOverrides",M({})),Or("layouts",V.none()),Or("eventOrder",{}),zr("model",{},[Or("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Or("selectsOver",!0),Or("populateFromBrowse",!0)]),Yu("onSetValue"),Xu("onExecute"),Yu("onItemExecute"),Or("inputClasses",[]),Or("inputAttributes",{}),Or("inputStyles",{}),Or("matchWidth",!0),Or("useMinWidth",!1),Or("dismissOnBlur",!0),Ku(["openClass"]),br("initialData"),$d("typeaheadBehaviours",[Ig,Wd,uO,Eg,Qg,zC]),ur("previewing",(function(){return Pr(!0)}))].concat(lC()).concat($C())),pO=M([Ef({schema:[$u()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(o){dO(e.model,o,n).fold((function(){return Tm.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&sO(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return Ui(e,fO(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&sO(e.model,t,n)}))}}}})]),gO=Zf({name:"Typeahead",configFields:mO(),partFields:pO(),factory:function(e,t,n,o){var i=function(t,n,r){e.previewing.set(!1);var i=zC.getCoupled(t,"sandbox");if(Od.isOpen(i))om.getCurrent(i).each((function(e){Tm.getHighlighted(e).fold((function(){r(e)}),(function(){Ki(i,e.element,"keydown",n)}))}));else{qC(e,u(t),t,i,o,(function(e){om.getCurrent(e).each(r)}),Cw.HighlightFirst).get(R)}},a=dC(e),u=function(e){return function(t){return t.map((function(t){var n=Te(t.menus),o=ue(n,(function(e){return te(e.items,(function(e){return"item"===e.type}))}));return Wd.getState(e).update(Q(o,(function(e){return e.data}))),t}))}},s=[Ig.config({}),Wd.config({onSetValue:e.onSetValue,store:r({mode:"dataset",getDataKey:function(e){return iu(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){au(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return qr("initialValue",e)})).getOr({}))}),uO.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var r=zC.getCoupled(t,"sandbox");if(Ig.isFocused(t)&&iu(t.element).length>=e.minChars){var i=om.getCurrent(r).bind((function(e){return Tm.getHighlighted(e).map(Wd.getValue)}));e.previewing.set(!0);qC(e,u(t),t,r,o,(function(t){om.getCurrent(r).each((function(t){i.fold((function(){e.model.selectsOver&&Tm.highlightFirst(t)}),(function(e){Tm.highlightBy(t,(function(t){return Wd.getValue(t).value===e.value})),Tm.getHighlighted(t).orThunk((function(){return Tm.highlightFirst(t),V.none()}))}))}))}),Cw.HighlightFirst).get(R)}},cancelEvent:_i()}),Eg.config({mode:"special",onDown:function(e,t){return i(e,t,Tm.highlightFirst),V.some(!0)},onEscape:function(e){var t=zC.getCoupled(e,"sandbox");return Od.isOpen(t)?(Od.close(t),V.some(!0)):V.none()},onUp:function(e,t){return i(e,t,Tm.highlightLast),V.some(!0)},onEnter:function(t){var n=zC.getCoupled(t,"sandbox"),o=Od.isOpen(n);if(o&&!e.previewing.get())return om.getCurrent(n).bind((function(e){return Tm.getHighlighted(e)})).map((function(e){return Ui(t,fO(),{item:e}),!0}));var r=Wd.getValue(t);return ji(t,_i()),e.onExecute(n,t,r),o&&Od.close(n),V.some(!0)}}),Qg.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),zC.config({others:{sandbox:function(t){return GC(e,t,{onOpen:function(){return Qg.on(t)},onClose:function(){return Qg.off(t)}})}}}),Pg("typeaheadevents",[ca((function(t){var n=R;HC(e,u(t),t,o,n,Cw.HighlightFirst).get(R)})),Qi(fO(),(function(t,n){var o=zC.getCoupled(t,"sandbox");sO(e.model,t,n.event.item),ji(t,_i()),e.onItemExecute(t,o,n.event.item,Wd.getValue(t)),Od.close(o),lO(t)}))].concat(e.dismissOnBlur?[Qi(yi(),(function(e){var t=zC.getCoupled(e,"sandbox");ec(t.element).isNone()&&Od.close(t)}))]:[]))];return{uid:e.uid,dom:mC(wo(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:r(r({},a),Jd(e.typeaheadBehaviours,s)),eventOrder:e.eventOrder}}}),hO=function e(t){return r(r({},t),{},{toCached:function(){return e(t.toCached())},bindFuture:function(n){return e(t.bind((function(e){return e.fold((function(e){return xC(oo.error(e))}),(function(e){return n(e)}))})))},bindResult:function(n){return e(t.map((function(e){return e.bind(n)})))},mapResult:function(n){return e(t.map((function(e){return e.map(n)})))},mapError:function(n){return e(t.map((function(e){return e.mapError(n)})))},foldResult:function(e,n){return t.map((function(t){return t.fold(e,n)}))},withTimeout:function(n,o){return e(yC((function(e){var r=!1,i=setTimeout((function(){r=!0,e(oo.error(o()))}),n);t.get((function(t){r||(clearTimeout(i),e(t))}))})))}})},vO=function(e){return hO(yC(e))},bO=vO,yO=function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)},setActive:function(t){var n=e.element;t?(Za(n,"tox-tbtn--enabled"),Ot(n,"aria-pressed",!0)):(eu(n,"tox-tbtn--enabled"),Dt(n,"aria-pressed"))},isActive:function(){return tu(e.element,"tox-tbtn--enabled")}}},xO=function(e,t,n,o){return zE({text:e.text,icon:e.icon,tooltip:e.tooltip,role:o,fetch:function(t,o){e.fetch((function(e){o(IE(e,Wv.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:yO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Kw.config({})]},t,n.shared)},wO=function(e,t,n){var o=function(e){return function(o){var r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Xs(t.element),Ui(t,oC,{name:e.name,value:e.storage.get()})}))}))}},i=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(Q(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return r(r({type:e.type,active:!1},t),{},{onAction:o(e),onSetup:i(e)})})))}},CO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,u=t.fold((function(){return{}}),(function(e){return{action:e}})),s=r({buttonBehaviours:js([Hy((function(){return!e.enabled||a.isDisabled()})),qy(),Kw.config({}),Pg("button press",[Xi("click"),Xi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},u),c=wo(s,{dom:o});return wo(c,{components:i})},kO=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:r},a=e.icon.map((function(e){return AE(e,n.icons)})),u=Jy([a]);return CO(e,t,o,i,u,n)},SO=function(e){switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},EO=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=n.translate(e.text),u=e.icon.map((function(e){return AE(e,n.icons)})),s=[u.getOrThunk((function(){return yu(i)}))],c=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),l=SO(c),d=[].concat(a(l),a(u.isSome()?["tox-button--icon"]:[]),a(e.borderless?["tox-button--naked"]:[]),a(r)),f={tag:"button",classes:d,attributes:{title:i}};return CO(e,t,o,f,s,n)},OO=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=EO(e,V.some(t),n,o,r);return Eh.sketch(i)},_O=function(e,t){return function(n){"custom"===t?Ui(n,oC,{name:e,value:{}}):"submit"===t?ji(n,rC):"cancel"===t?ji(n,nC):console.error("Unknown button type: ",t)}},TO=function(e,t,n){if(function(e,t){return"menu"===t}(0,t)){var o=e,i=r(r({},e),{},{onSetup:function(t){return t.setEnabled(e.enabled),R},fetch:wO(o.items,(function(){return a}),n)}),a=Oh(xO(i,"tox-tbtn",n,V.none()));return a.asSpec()}if(function(e,t){return"custom"===t||"cancel"===t||"submit"===t}(0,t)){var u=_O(e.name,t),s=r(r({},e),{},{borderless:!1});return OO(s,u,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},AO=function(e,t){var n,o,i=_O(e.name,"custom");return n=V.none(),o=Gw.parts.field(r({factory:Eh},EO(e,V.some(i),t,[dE(""),tE()]))),Yw(n,o,[],[])},RO={type:"separator"},DO=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:R}},MO=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:R}},NO=function(e,t){return function(e){return Q(e,DO)}(function(e,t){return te(t,(function(t){return t.type===e}))}(e,t))},zO=function(e){return NO("header",e.targets)},PO=function(e){return NO("anchor",e.targets)},LO=function(e){return V.from(e.anchorTop).map((function(e){return MO("<top>",e)})).toArray()},FO=function(e){return V.from(e.anchorBottom).map((function(e){return MO("<bottom>",e)})).toArray()},BO=function(e,t){var n=e.toLowerCase();return te(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Fe(t.toLowerCase(),n)||Fe(e.value.toLowerCase(),n)}))},qO=function(e,t,n){var o=Wd.getValue(t),r=void 0!==o.meta.text?o.meta.text:o.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var o,i=BO(r,function(e){return Q(e,(function(e){return MO(e,e)}))}(n.getHistory(e)));return"file"===e?(o=[i,BO(r,zO(t)),BO(r,ae([LO(t),PO(t),FO(t)]))],oe(o,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(RO,t)}),[])):i}))},IO=ba("aria-invalid"),HO=function(e,t){e.dom.checked=t},VO=function(e){return e.dom.checked},jO=function(e){return function(t,n,o,r){return Ae(n,"name").fold((function(){return e(n,r,V.none())}),(function(i){return t.field(i,e(n,r,Ae(o,i)))}))}},UO={bar:jO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Q(e.items,t.interpreter)}}(e,t.shared)})),collection:jO((function(e,t,n){return cC(e,t.shared.providers,n)})),alertbanner:jO((function(e,t){return function(e,t){return Hw.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--".concat(e.level)]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Nh(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Ui(t,oC,{name:"alert-banner",value:e.url})},buttonBehaviours:js([zh()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}(e,t.shared.providers)})),input:jO((function(e,t,n){return function(e,t,n){return tO({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:V.none(),maximized:e.maximized,data:n},t)}(e,t.shared.providers,n)})),textarea:jO((function(e,t,n){return function(e,t,n){return tO({name:e.name,multiline:!0,label:e.label,inputMode:V.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:V.none(),maximized:e.maximized,data:n},t)}(e,t.shared.providers,n)})),label:jO((function(e,t){return function(e,t){var n={dom:{tag:"label",classes:["tox-label"]},components:[yu(t.providers.translate(e.label))]},o=Q(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(a(o)),behaviours:js([tE(),zg.config({}),lE(V.none()),Eg.config({mode:"acyclic"})])}}(e,t.shared)})),iframe:function(e){return function(t,n,o,r){var i=wo(n,{source:"dynamic"});return jO(e)(t,i,o,r)}}((function(e,t,n){return SE(e,t.shared.providers,n)})),button:jO((function(e,t){return AO(e,t.shared.providers)})),checkbox:jO((function(e,t,n){return function(e,t,n){var o=function(e){return e.element.dom.click(),V.some(!0)},r=Gw.parts.field({factory:{sketch:N},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:js([tE(),vm.config({disabled:function(){return!e.enabled||t.isDisabled()}}),Kw.config({}),Ig.config({}),sE(n,VO,HO),Eg.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Pg("checkbox-events",[Qi(li(),(function(t,n){Ui(t,eC,{name:e.name})}))])])}),i=Gw.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[yu(t.translate(e.label))],behaviours:js([QC.config({})])}),a=function(e){return Lh("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},u=Oh({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Gw.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,u.asSpec(),i],fieldBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){Gw.getField(e).each(vm.disable)},onEnabled:function(e){Gw.getField(e).each(vm.enable)}}),qy()])})}(e,t.shared.providers,n)})),colorinput:jO((function(e,t,n){return nk(e,t.shared,t.colorinput,n)})),colorpicker:jO((function(e,t,n){return mE(0,t.shared.providers,n)})),dropzone:jO((function(e,t,n){return hE(e,t.shared.providers,n)})),grid:jO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--".concat(e.columns,"col")]},components:Q(e.items,t.interpreter)}}(e,t.shared)})),listbox:jO((function(e,t,n){return GE(e,t,n)})),selectbox:jO((function(e,t,n){return function(e,t,n){var o=Q(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),i=e.label.map((function(e){return Zw(e,t)})),a=Gw.parts.field(r(r({dom:{}},n.map((function(e){return{data:e}})).getOr({})),{},{selectAttributes:{size:e.size},options:o,factory:WE,selectBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()}}),Kw.config({}),Pg("selectbox-change",[Qi(li(),(function(t,n){Ui(t,eC,{name:e.name})}))])])})),u=e.size>1?V.none():V.some(Lh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),s={dom:{tag:"div",classes:["tox-selectfield"]},components:ae([[a],u.toArray()])};return Gw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ae([i.toArray(),[s]]),fieldBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()},onDisabled:function(e){Gw.getField(e).each(vm.disable)},onEnabled:function(e){Gw.getField(e).each(vm.enable)}}),qy()])})}(e,t.shared.providers,n)})),sizeinput:jO((function(e,t){return function(e,t){var n=ZE,o=ba("ratio-event"),r=function(e){return Lh(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)},i=YE.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()}}),qy(),Kw.config({})])}),a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},u=function(n){return Gw.parts.field({factory:pC,inputClasses:["tox-textfield"],inputBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()}}),qy(),Kw.config({}),Pg("size-input-events",[Qi(ii(),(function(e,t){Ui(e,o,{isField1:n})})),Qi(li(),(function(t,n){Ui(t,eC,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"]},components:[yu(t.translate(e))]}},c=YE.parts.field1(a([Gw.parts.label(s("Width")),u(!0)])),l=YE.parts.field2(a([Gw.parts.label(s("Height")),u(!1)]));return YE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,l,a([s("\xa0"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,o){XE(Wd.getValue(e)).each((function(e){n(e).each((function(e){Wd.setValue(t,function(e){var t,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=e.value.toFixed((t=e.unit)in n?n[t]:1);return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit}(e))}))}))},coupledFieldBehaviours:js([vm.config({disabled:function(){return!e.enabled||t.isDisabled()},onDisabled:function(e){YE.getField1(e).bind(Gw.getField).each(vm.disable),YE.getField2(e).bind(Gw.getField).each(vm.disable),YE.getLock(e).each(vm.disable)},onEnabled:function(e){YE.getField1(e).bind(Gw.getField).each(vm.enable),YE.getField2(e).bind(Gw.getField).each(vm.enable),YE.getLock(e).each(vm.enable)}}),qy(),Pg("size-input-events2",[Qi(o,(function(e,t){var o=t.event.isField1,r=o?YE.getField1(e):YE.getField2(e),i=o?YE.getField2(e):YE.getField1(e),a=r.map(Wd.getValue).getOr(""),u=i.map(Wd.getValue).getOr("");n=eO(a,u)}))])])})}(e,t.shared.providers)})),slider:jO((function(e,t,n){return function(e,t,n){var o=qS.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yu(t.translate(e.label))]}),r=qS.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=qS.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return qS.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:M(n.getOrThunk((function(){return(Math.abs(e.max)-Math.abs(e.min))/2})))},components:[o,r,i],sliderBehaviours:js([tE(),Ig.config({})]),onChoose:function(t,n,o){Ui(t,eC,{name:e.name,value:o})}})}(e,t.shared.providers,n)})),urlinput:jO((function(e,t,n){return function(e,t,n,o){var a=t.shared.providers,u=function(t){var o=Wd.getValue(t);n.addToHistory(o.value,e.filetype)},s=Gw.parts.field(r(r({factory:gO},o.map((function(e){return{initialData:e}})).getOr({})),{},{dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":IO,type:"url"},minChars:0,responseTime:0,fetch:function(o){var r=qO(e.filetype,o,n),i=IE(r,Wv.BUBBLE_TO_SANDBOX,t,!1);return xC(i)},getHotspot:function(e){return p.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(RC)&&RC.run(e).get(R)},typeaheadBehaviours:js(ae([n.getValidationHandler().map((function(t){return RC.config({getRoot:function(e){return st(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){l.getOpt(e).each((function(e){Ot(e.element,"title",a.translate(t))}))}},validator:{validate:function(n){var o=Wd.getValue(n);return bO((function(n){t({type:e.filetype,url:o.value},(function(e){if("invalid"===e.status){var t=oo.error(e.message);n(t)}else{var o=oo.value(e.message);n(o)}}))}))},validateOnLoad:!1}})})).toArray(),[vm.config({disabled:function(){return!e.enabled||a.isDisabled()}}),Kw.config({}),Pg("urlinput-events",ae(["file"===e.filetype?[Qi(ci(),(function(t){Ui(t,eC,{name:e.name})}))]:[],[Qi(li(),(function(t){Ui(t,eC,{name:e.name}),u(t)})),Qi(xi(),(function(t){Ui(t,eC,{name:e.name}),u(t)}))]]))]])),eventOrder:i({},ci(),["streaming","urlinput-events","invalidating"]),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:lb(0,0,"normal")},onExecute:function(e,t,n){Ui(t,rC,{})},onItemExecute:function(t,n,o,r){u(t),Ui(t,eC,{name:e.name})}})),c=e.label.map((function(e){return Zw(e,a)})),l=Oh(function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return Lh(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:r({title:a.translate(n),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))},a.icons)}("invalid",V.some(IO),"warning")),d=Oh({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),f=n.getUrlPicker(e.filetype),m=ba("browser.url.event"),p=Oh({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,d.asSpec()],behaviours:js([vm.config({disabled:function(){return!e.enabled||a.isDisabled()}})])}),g=Oh(OO({name:e.name,icon:V.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:V.none(),borderless:!0},(function(e){return ji(e,m)}),a,[],["tox-browse-url"]));return Gw.sketch({dom:Qw([]),components:c.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ae([[p.asSpec()],f.map((function(){return g.asSpec()})).toArray()])}]),fieldBehaviours:js([vm.config({disabled:function(){return!e.enabled||a.isDisabled()},onDisabled:function(e){Gw.getField(e).each(vm.disable),g.getOpt(e).each(vm.disable)},onEnabled:function(e){Gw.getField(e).each(vm.enable),g.getOpt(e).each(vm.enable)}}),qy(),Pg("url-input-events",[Qi(m,(function(t){om.getCurrent(t).each((function(n){var o=Wd.getValue(n),i=r({fieldname:e.name},o);f.each((function(o){o(i).get((function(o){Wd.setValue(n,o),Ui(t,eC,{name:e.name})}))}))}))}))])])})}(e,t,t.urlinput,n)})),customeditor:jO((function(e){var t=xc(),n=Oh({dom:{tag:e.tag}}),o=xc();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:js([Pg("custom-editor-events",[aa((function(r){n.getOpt(r).each((function(n){(!function(e){return Re(e,"init")}(e)?pE.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)})):e.init(n.element.dom)).then((function(e){o.on((function(t){e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),cE(V.none(),(function(){return t.get().fold((function(){return o.get().getOr("")}),(function(e){return e.getValue()}))}),(function(e,n){t.get().fold((function(){return o.set(n)}),(function(e){return e.setValue(n)}))})),tE()]),components:[n.asSpec()]}})),htmlpanel:jO((function(e){return"presentation"===e.presets?Hw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Hw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:js([Kw.config({}),Ig.config({})])})})),imagepreview:jO((function(e,t,n){return EE(e,n)})),table:jO((function(e,t){return function(e,t){var n,o,r=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:Q(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Q(o,r)}]}),(n=e.cells,{dom:{tag:"tbody"},components:Q(n,a)})],behaviours:js([Kw.config({}),Ig.config({})])}}(e,t.shared.providers)})),panel:jO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:e.classes},components:Q(e.items,t.shared.interpreter)}}(e,t)}))},GO={field:function(e,t){return t},record:M([])},WO=function(e,t,n,o){var r=wo(o,{shared:{interpreter:function(t){return $O(e,t,n,r)}}});return $O(e,t,n,r)},$O=function(e,t,n,o){return Ae(UO,t.type).fold((function(){return console.error('Unknown factory type "'.concat(t.type,'", defaulting to container: '),t),t}),(function(r){return r(e,t,n,o)}))},KO="layout-inset",JO=function(e){return e.x},YO=function(e,t){return e.x+e.width/2-t.width/2},XO=function(e,t){return e.x+e.width-t.width},QO=function(e){return e.y},ZO=function(e,t){return e.y+e.height-t.height},e_=function(e,t){return e.y+e.height/2-t.height/2},t_=function(e,t,n){return os(XO(e,t),ZO(e,t),n.insetSouthwest(),ss(),"southwest",gs(e,{right:0,bottom:3}),KO)},n_=function(e,t,n){return os(JO(e),ZO(e,t),n.insetSoutheast(),us(),"southeast",gs(e,{left:1,bottom:3}),KO)},o_=function(e,t,n){return os(XO(e,t),QO(e),n.insetNorthwest(),as(),"northwest",gs(e,{right:0,top:2}),KO)},r_=function(e,t,n){return os(JO(e),QO(e),n.insetNortheast(),is(),"northeast",gs(e,{left:1,top:2}),KO)},i_=function(e,t,n){return os(YO(e,t),QO(e),n.insetNorth(),cs(),"north",gs(e,{top:2}),KO)},a_=function(e,t,n){return os(YO(e,t),ZO(e,t),n.insetSouth(),ls(),"south",gs(e,{bottom:3}),KO)},u_=function(e,t,n){return os(XO(e,t),e_(e,t),n.insetEast(),fs(),"east",gs(e,{right:0}),KO)},s_=function(e,t,n){return os(JO(e),e_(e,t),n.insetWest(),ds(),"west",gs(e,{left:1}),KO)},c_=function(e){switch(e){case"north":return i_;case"northeast":return r_;case"northwest":return o_;case"south":return a_;case"southeast":return n_;case"southwest":return t_;case"east":return u_;case"west":return s_}},l_=function(e,t,n,o,r){return gc(o).map(c_).getOr(i_)(e,t,n,o,r)},d_=function(e){switch(e){case"north":return a_;case"northeast":return n_;case"northwest":return t_;case"south":return i_;case"southeast":return r_;case"southwest":return o_;case"east":return s_;case"west":return u_}},f_=function(e,t,n,o,r){return gc(o).map(d_).getOr(i_)(e,t,n,o,r)},m_={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},p_=function(e,t,n){var o={maxHeightFunction:Pc()};return function(){return n()?{type:"node",root:bt(e()),node:V.from(e()),bubble:qc(12,12,m_),layouts:{onRtl:function(){return[r_]},onLtr:function(){return[o_]}},overrides:o}:{type:"hotspot",hotspot:t(),bubble:qc(-12,12,m_),layouts:{onRtl:function(){return[ks]},onLtr:function(){return[Ss]}},overrides:o}}},g_=function(e,t,n){return function(){return n()?{type:"node",root:bt(e()),node:V.from(e()),layouts:{onRtl:function(){return[i_]},onLtr:function(){return[i_]}}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Ts]},onLtr:function(){return[Ts]}}}}},h_=function(e,t){return function(){return{type:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return V.some(dl.range(Ue.fromDom(t.startContainer),t.startOffset,Ue.fromDom(t.endContainer),t.endOffset))}}}},v_=function(e){return function(t){return{type:"node",root:e(),node:t}}},b_=function(e,t,n){var o=zv(e),r=function(){return Ue.fromDom(e.getBody())},i=function(){return Ue.fromDom(e.getContentAreaContainer())},a=function(){return o||!n()};return{inlineDialog:p_(i,t,a),banner:g_(i,t,a),cursor:h_(e,r),node:v_(r)}},y_=function(e){return function(t,n){rw(e)(t,n)}},x_=function(e){return function(){return $x(e)}},w_=function(e){return function(){return Kx(e)}},C_=function(e){return function(){return Wx(e)}},k_=function(e){return{colorPicker:y_(e),hasCustomColors:x_(e),getColors:w_(e),getColorCols:C_(e)}},S_=function(e){return function(){return yv(e)}},E_=function(e){return{isDraggableModal:S_(e)}},O_=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],__=function e(t){return oe(t,(function(t,n){if(Re(n,"items")){var o=e(n.items);return{customFormats:t.customFormats.concat(o.customFormats),formats:t.formats.concat([{title:n.title,items:o.formats}])}}if(function(e){return Re(e,"inline")}(n)||function(e){return Re(e,"block")}(n)||function(e){return Re(e,"selector")}(n)){var i=b(n.name)?n.name:n.title.toLowerCase(),a="custom-".concat(i);return{customFormats:t.customFormats.concat([{name:a,format:n}]),formats:t.formats.concat([{title:n.title,format:a,icon:n.icon}])}}return r(r({},t),{},{formats:t.formats.concat(n)})}),{customFormats:[],formats:[]})},T_=function(e){return Zh(e).map((function(t){var n=function(e,t){var n=__(t),o=function(t){Z(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(function(){o(n.customFormats)})),n.formats}(e,t);return ev(e)?O_.concat(n):n})).getOr(O_)},A_=function(e,t,n){var o={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return wo(e,o)},R_=function(e,t,n,o){return function t(r){return Q(r,(function(r){var i=ye(r);if(De(r,"items")){var a=t(r.items);return wo(function(e){return wo(e,{type:"submenu"})}(r),{getStyleItems:M(a)})}return De(r,"format")?function(e){return A_(e,n,o)}(r):1===i.length&&K(i,"title")?wo(r,{type:"separator"}):function(t){var r=b(t.name)?t.name:ba(t.title),i="custom-".concat(r),a={type:"formatter",format:i,isSelected:n(i),getStylePreview:o(i)},u=wo(t,a);return e.formatter.register(r,u),u}(r)}))}(t)},D_=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?V.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):V.none()}},o=function e(t){var n=t.items;return void 0!==n&&n.length>0?ue(n,e):[t.format]},r=Pr([]),i=Pr([]),a=Pr([]),u=Pr([]),s=Pr(!1);e.on("PreInit",(function(a){var u=T_(e),s=R_(e,u,t,n);r.set(s),i.set(ue(s,o))})),e.on("addStyleModifications",(function(r){var i=R_(e,r.items,t,n);a.set(i),s.set(r.replace),u.set(ue(i,o))}));return{getData:function(){var e=s.get()?[]:r.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},M_=gE.trim,N_=function(e){return function(t){if(function(e){return O(e)&&1===e.nodeType}(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},z_=N_("true"),P_=N_("false"),L_=function(e,t,n,o,r){return{type:e,title:t,url:n,level:o,attach:r}},F_=function(e){return e.innerText||e.textContent},B_=function(e){return function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}(e)&&I_(e)},q_=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},I_=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return z_(e)}return!1}(e)&&!P_(e)},H_=function(e){return q_(e)&&I_(e)},V_=function(e){var t=function(e){return e.id?e.id:ba("h")}(e);return L_("header",F_(e),"#"+t,function(e){return q_(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},j_=function(e){var t=e.id||e.name,n=F_(e);return L_("anchor",n||"#"+t,"#"+t,0,R)},U_=function(e){var t,n,o=(t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,Q(xl(Ue.fromDom(n),t),(function(e){return e.dom})));return o},G_=function(e){return M_(e.title).length>0},W_=function(e){var t=U_(e);return te(function(e){return Q(te(e,H_),V_)}(t).concat(function(e){return Q(te(e,B_),j_)}(t)),G_)},$_="tinymce-url-history",K_=function(e){return b(e)&&/^https?/.test(e)},J_=function(e){return y(e)&&_e(e,(function(e){return!(w(t=e)&&t.length<=5&&se(t,K_));var t})).isNone()},Y_=function(){var e,t=Hx.getItem($_);if(null===t)return{};try{e=JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+$_+" was not valid JSON",n),{};throw n}return J_(e)?e:(console.log("Local storage "+$_+" was not valid format",e),{})},X_=function(e){var t=Y_();return Ae(t,e).getOr([])},Q_=function(e,t){if(K_(e)){var n=Y_(),o=Ae(n,t).getOr([]),r=te(o,(function(t){return t!==e}));n[t]=[e].concat(r).slice(0,5),function(e){if(!J_(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Hx.setItem($_,JSON.stringify(e))}(n)}},Z_=function(e){return!!e},eT=function(e){return Ce(gE.makeMap(e,/[, ]/),Z_)},tT=function(e){return V.from(mv(e))},nT=function(e,t){var n=function(e){var t=V.from(gv(e)).filter(Z_).map(eT);return tT(e).fold(q,(function(e){return t.fold(I,(function(e){return ye(e).length>0&&e}))}))}(e);return k(n)?n?tT(e):V.none():n[t]?tT(e):V.none()},oT=function(e){return V.from(e).filter(b).getOrUndefined()},rT=function(e){return{getHistory:X_,addToHistory:Q_,getLinkInformation:function(){return function(e){return hv(e)?V.some({targets:W_(e.getBody()),anchorTop:oT(vv(e)),anchorBottom:oT(bv(e))}):V.none()}(e)},getValidationHandler:function(){return function(e){return V.from(pv(e))}(e)},getUrlPicker:function(t){return function(e,t){return nT(e,t).map((function(n){return function(o){return yC((function(i){var a=r({filetype:t,fieldname:o.fieldname},V.from(o.meta).getOr({}));n.call(e,(function(e,t){if(!b(e))throw new Error("Expected value to be string");if(void 0!==t&&!y(t))throw new Error("Expected meta to be a object");i({value:e,meta:t})}),o.value,a)}))}}))}(e,t)}}},iT=function(e,t,n){var o=Pr(!1),r=function(e){var t=Pr(Mv(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}}(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:_h.translate,isDisabled:function(){return t.mode.isReadOnly()||!t.ui.isEnabled()},getOption:t.options.get},interpreter:function(e){return function(e,t,n){return $O(GO,e,t,n)}(e,{},i)},anchors:b_(t,n,r.isPositionedAtTop),header:r,getSink:e},urlinput:rT(t),styles:D_(t),colorinput:k_(t),dialog:E_(t),isContextMenuOpen:function(){return o.get()},setContextMenuState:function(e){return o.set(e)}};return i},aT=Wf,uT=Af,sT=M([Or("shell",!1),cr("makeItem"),Or("setupItem",R),Yd("listBehaviours",[zg])]),cT=Of({name:"items",overrides:function(){return{behaviours:js([zg.config({})])}}}),lT=M([cT]),dT=M("CustomList"),fT=Zf({name:dT(),configFields:sT(),partFields:lT(),factory:function(e,t,n,o){var r=e.shell?{behaviours:[zg.config({})],components:[]}:{behaviours:[],components:t},i=function(t){return e.shell?V.some(t):Bf(t,e,"items")};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Jd(e.listBehaviours,r.behaviours),apis:{setItems:function(t,n){i(t).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(o){var r=zg.contents(o),i=n.length,a=i-r.length,u=a>0?Y(a,(function(){return e.makeItem()})):[],s=r.slice(i);Z(s,(function(e){return zg.remove(o,e)})),Z(u,(function(e){return zg.append(o,e)}));var c=zg.contents(o);Z(c,(function(o,r){e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),mT=M([cr("dom"),Or("shell",!0),$d("toolbarBehaviours",[zg])]),pT=M([Of({name:"groups",overrides:function(){return{behaviours:js([zg.config({})])}}})]),gT=Zf({name:"Toolbar",configFields:mT(),partFields:pT(),factory:function(e,t,n,o){var r=function(t){return e.shell?V.some(t):Bf(t,e,"groups")},i=e.shell?{behaviours:[zg.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Jd(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(e,t){r(e).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){zg.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),hT=R,vT=q,bT=M([]),yT=Object.freeze({__proto__:null,setup:hT,isDocked:vT,getBehaviours:bT}),xT=function(e){return(Me(qt(e,"position"),"fixed")?V.none():ct(e)).orThunk((function(){var t=Ue.fromTag("span");return ut(e).bind((function(e){Bn(e,t);var n=ct(t);return Hn(t),n}))}))},wT=function(e){return xT(e).map(Yt).getOrThunk((function(){return Kt(0,0)}))},CT=Lr([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),kT=function(e,t){var n=e.element;Za(n,t.transitionClass),eu(n,t.fadeOutClass),Za(n,t.fadeInClass),t.onShow(e)},ST=function(e,t){var n=e.element;Za(n,t.transitionClass),eu(n,t.fadeInClass),Za(n,t.fadeOutClass),t.onHide(e)},ET=function(e,t){return e.y<t.bottom&&e.bottom>t.y},OT=function(e,t,n){return se(e,(function(e){switch(e){case"bottom":return function(e,t){return e.bottom<=t.bottom}(t,n);case"top":return function(e,t){return e.y>=t.y}(t,n)}}))},_T=function(e,t){return t.getInitialPos().map((function(t){return Xn(t.bounds.x,t.bounds.y,Zt(e),Wt(e))}))},TT=function(e,t,n){return n.getInitialPos().bind((function(o){switch(n.clearInitialPos(),o.position){case"static":return V.some(CT.static());case"absolute":var r=xT(e).map(Qn).getOrThunk((function(){return Qn(kt())}));return V.some(CT.absolute(nc("absolute",Ae(o.style,"left").map((function(e){return t.x-r.x})),Ae(o.style,"top").map((function(e){return t.y-r.y})),Ae(o.style,"right").map((function(e){return r.right-t.right})),Ae(o.style,"bottom").map((function(e){return r.bottom-t.bottom})))));default:return V.none()}}))},AT=function(e,t,n){var o=Qn(e);if(OT(n.getModes(),o,t))return V.none();!function(e,t,n){n.setInitialPos({style:It(e),position:Ft(e,"position")||"static",bounds:t})}(e,o,n);var r=eo(),i=o.x-r.x,a=t.y-r.y,u=r.bottom-t.bottom,s=o.y<=t.y;return V.some(CT.fixed(nc("fixed",V.some(i),s?V.some(a):V.none(),V.none(),s?V.none():V.some(u))))},RT=function(e,t,n){var o=e.element;return Me(qt(o,"position"),"fixed")?function(e,t,n){return _T(e,n).filter((function(e){return OT(n.getModes(),e,t)})).bind((function(t){return TT(e,t,n)}))}(o,t,n):AT(o,t,n)},DT=function(e,t,n){n.setDocked(!1),Z(["left","right","top","bottom","position"],(function(t){return Vt(e.element,t)})),t.onUndocked(e)},MT=function(e,t,n,o){var r="fixed"===o.position;n.setDocked(r),oc(e.element,o),(r?t.onDocked:t.onUndocked)(e)},NT=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=ET(i,o);a!==n.isVisible()&&(n.setVisible(a),r&&!a?(nu(e.element,[t.fadeOutClass]),t.onHide(e)):(a?kT:ST)(e,t))}))}))},zT=function(e,t,n){var o=e.element;n.setDocked(!1),function(e,t){var n=e.element;return _T(n,t).bind((function(e){return TT(n,e,t)}))}(e,n).each((function(o){o.fold((function(){return DT(e,t,n)}),(function(o){return MT(e,t,n,o)}),R)})),n.setVisible(!0),t.contextual.each((function(t){ou(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),PT(e,t,n)},PT=function(e,t,n){e.getSystem().isConnected()&&function(e,t,n){var o=t.lazyViewport(e);n.isDocked()&&NT(e,t,n,o),RT(e,o,n).each((function(r){r.fold((function(){return DT(e,t,n)}),(function(o){return MT(e,t,n,o)}),(function(r){NT(e,t,n,o,!0),MT(e,t,n,r)}))}))}(e,t,n)},LT=function(e,t,n){n.isDocked()&&zT(e,t,n)},FT=Object.freeze({__proto__:null,refresh:PT,reset:LT,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,o){return n.setModes(o)}}),BT=Object.freeze({__proto__:null,events:function(e,t){return Ji([ia(mi(),(function(n,o){e.contextual.each((function(e){tu(n.element,e.transitionClass)&&(ou(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n));o.stop()}))})),Qi(Di(),(function(n,o){PT(n,e,t)})),Qi(Mi(),(function(n,o){LT(n,e,t)}))])}}),qT=[Er("contextual",[fr("fadeInClass"),fr("fadeOutClass"),fr("transitionClass"),pr("lazyContext"),Yu("onShow"),Yu("onShown"),Yu("onHide"),Yu("onHidden")]),Mr("lazyViewport",eo),Nr("modes",["top","bottom"],Wo),Yu("onDocked"),Yu("onUndocked")],IT=Gs({fields:qT,name:"docking",active:BT,apis:FT,state:Object.freeze({__proto__:null,init:function(e){var t=Pr(!1),n=Pr(!0),o=xc(),r=Pr(e.modes);return La({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:function(){return"docked:  ".concat(t.get(),", visible: ").concat(n.get(),", modes: ").concat(r.get().join(","))}})}})}),HT=M(ba("toolbar-height-change")),VT={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},jT="tox-tinymce--toolbar-sticky-on",UT="tox-tinymce--toolbar-sticky-off",GT=function(e,t){return K(IT.getModes(e),t)},WT=function(e){var t=e.element;ut(t).each((function(n){var o="padding-"+IT.getModes(e)[0];if(IT.isDocked(e)){var r=Zt(n);zt(t,"width",r+"px"),zt(n,o,function(e){return $t(e)+(parseInt(Ft(e,"margin-top"),10)||0)+(parseInt(Ft(e,"margin-bottom"),10)||0)}(t)+"px")}else Vt(t,"width"),Vt(n,o)}))},$T=function(e,t){t?(eu(e,VT.fadeOutClass),nu(e,[VT.transitionClass,VT.fadeInClass])):(eu(e,VT.fadeInClass),nu(e,[VT.fadeOutClass,VT.transitionClass]))},KT=function(e,t){var n=Ue.fromDom(e.getContainer());t?(Za(n,jT),eu(n,UT)):(Za(n,UT),eu(n,jT))},JT=function(e,t){var n=xc(),o=t.getSink,u=function(e){o().each((function(t){return e(t.element)}))},s=function(t){e.inline||WT(t),KT(e,IT.isDocked(t)),t.getSystem().broadcastOn([Td()],{}),o().each((function(e){return e.getSystem().broadcastOn([Td()],{})}))},c=e.inline?[]:[Js.config({channels:i({},HT(),{onReceive:WT})})];return[Ig.config({}),IT.config({contextual:r({lazyContext:function(t){var n=$t(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer(),r=Qn(Ue.fromDom(o)),i=r.height-n,a=r.y+(GT(t,"top")?0:n);return V.some(Xn(r.x,a,r.width,i))},onShow:function(){u((function(e){return $T(e,!0)}))},onShown:function(e){u((function(e){return ou(e,[VT.transitionClass,VT.fadeInClass])})),n.get().each((function(t){!function(e,t){var n=ot(t);Zs(n).filter((function(e){return!tt(t,e)})).filter((function(t){return tt(t,Ue.fromDom(n.dom.body))||nt(e,t)})).each((function(){return Xs(t)}))}(e.element,t),n.clear()}))},onHide:function(e){(function(e,t){return ec(e).orThunk((function(){return t().toOptional().bind((function(e){return ec(e.element)}))}))})(e.element,o).fold(n.clear,n.set),u((function(e){return $T(e,!1)}))},onHidden:function(){u((function(e){return ou(e,[VT.transitionClass])}))}},VT),lazyViewport:function(t){var n=eo(),o=lv(e),r=n.y+(GT(t,"top")?o:0),i=n.height-(GT(t,"bottom")?o:0);return Xn(n.x,r,n.width,i)},modes:[t.header.getDockingMode()],onDocked:s,onUndocked:s})].concat(a(c))},YT=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(IT.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(WT)})),e.on("SkinLoaded",(function(){n().each((function(e){IT.isDocked(e)?IT.reset(e):IT.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(IT.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){IT.refresh(t);var n=t.element;yp(n)&&function(e,t){var n=ot(t),o=n.dom.defaultView.innerHeight,r=Vn(n),i=Ue.fromDom(e.elm),a=Zn(i),u=Wt(i),s=a.y,c=s+u,l=Yt(t),d=Wt(t),f=l.top,m=f+d,p=Math.abs(f-r.top)<2,g=Math.abs(m-(r.top+o))<2;if(p&&s<m)jn(r.left,s-d,n);else if(g&&c>f){var h=s-o+u+d;jn(r.left,h,n)}}(e,n)}))})),e.on("PostRender",(function(){KT(e,!1)}))},isDocked:function(e){return e().map(IT.isDocked).getOr(!1)},getBehaviours:JT}),XT=Bo([bb,lr("items",Io([Vo([yb,vr("items",Wo)]),Wo]))].concat(Kb)),QT=[wr("text"),wr("tooltip"),wr("icon"),pr("fetch"),Mr("onSetup",(function(){return R}))],ZT=Bo([bb].concat(QT)),eA=function(e){return tr("menubutton",ZT,e)},tA=Bo([bb,Nb,Mb,Db,Lb,Eb,Ab,Rr("presets","normal",["normal","color","listpreview"]),Hb(1),_b,Tb]),nA=Qf({factory:function(e,t){var n={focus:Eg.focusIn,setMenus:function(e,n){var o=Q(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},o=eA(n).mapError((function(e){return rr(e)})).getOrDie();return xO(o,"tox-mbtn",t.backstage,V.some("menuitem"))}));zg.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:js([zg.config({}),Pg("menubar-events",[aa((function(t){e.onSetup(t)})),Qi(ri(),(function(e,t){Du(e.element,".tox-mbtn--active").each((function(n){Mu(t.event.target,".tox-mbtn").each((function(t){tt(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){YC.expand(e),YC.close(n),Ig.focus(e)}))}))}))}))})),Qi(Fi(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){YC.isOpen(n)&&(YC.expand(e),YC.close(n))}))}))}))]),Eg.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),V.some(!0)}}),Kw.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[cr("dom"),cr("uid"),cr("onEscape"),cr("backstage"),Or("onSetup",R)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),oA=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},rA=function(e){return e.dimension.property},iA=function(e,t){return e.dimension.getDimension(t)},aA=function(e,t){var n=oA(e,t);ou(n,[t.shrinkingClass,t.growingClass])},uA=function(e,t){eu(e.element,t.openClass),Za(e.element,t.closedClass),zt(e.element,rA(t),"0px"),jt(e.element)},sA=function(e,t){eu(e.element,t.closedClass),Za(e.element,t.openClass),Vt(e.element,rA(t))},cA=function(e,t,n,o){n.setCollapsed(),zt(e.element,rA(t),iA(t,e.element)),jt(e.element),aA(e,t),uA(e,t),t.onStartShrink(e),t.onShrunk(e)},lA=function(e,t,n,o){var r=o.getOrThunk((function(){return iA(t,e.element)}));n.setCollapsed(),zt(e.element,rA(t),r),jt(e.element);var i=oA(e,t);eu(i,t.growingClass),Za(i,t.shrinkingClass),uA(e,t),t.onStartShrink(e)},dA=function(e,t,n){var o=iA(t,e.element);("0px"===o?cA:lA)(e,t,n,V.some(o))},fA=function(e,t,n){var o=oA(e,t),r=tu(o,t.shrinkingClass),i=iA(t,e.element);sA(e,t);var a=iA(t,e.element);(r?function(){zt(e.element,rA(t),i),jt(e.element)}:function(){uA(e,t)})(),eu(o,t.shrinkingClass),Za(o,t.growingClass),sA(e,t),zt(e.element,rA(t),a),n.setExpanded(),t.onStartGrow(e)},mA=function(e,t,n){var o=oA(e,t);return!0===tu(o,t.growingClass)},pA=function(e,t,n){var o=oA(e,t);return!0===tu(o,t.shrinkingClass)},gA=Object.freeze({__proto__:null,refresh:function(e,t,n){if(n.isExpanded()){Vt(e.element,rA(t));var o=iA(t,e.element);zt(e.element,rA(t),o)}},grow:function(e,t,n){n.isExpanded()||fA(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&dA(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&cA(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:mA,isShrinking:pA,isTransitioning:function(e,t,n){return mA(e,t)||pA(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?dA:fA)(e,t,n)},disableTransitions:aA}),hA=Object.freeze({__proto__:null,exhibit:function(e,t,n){var o=t.expanded;return Ba(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:qr(t.dimension.property,"0px")})},events:function(e,t){return Ji([ia(mi(),(function(n,o){o.event.raw.propertyName===e.dimension.property&&(aA(n,e),t.isExpanded()&&Vt(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),vA=[cr("closedClass"),cr("openClass"),cr("shrinkingClass"),cr("growingClass"),br("getAnimationRoot"),Yu("onShrunk"),Yu("onStartShrink"),Yu("onGrown"),Yu("onStartGrow"),Or("expanded",!1),lr("dimension",ir("property",{width:[es("property","width"),es("getDimension",(function(e){return Zt(e)+"px"}))],height:[es("property","height"),es("getDimension",(function(e){return Wt(e)+"px"}))]}))],bA=Gs({fields:vA,name:"sliding",active:hA,apis:gA,state:Object.freeze({__proto__:null,init:function(e){var t=Pr(e.expanded);return La({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:P(t.set,!1),setExpanded:P(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),yA="container",xA=[$d("slotBehaviours",[])],wA=function(e){return"<alloy.field."+e+">"},CA=function(e,t){var n,o=function(t){return Vf(e)},r=function(t,n){return function(o,r){return Bf(o,e,r).map((function(e){return t(e,r)})).getOr(n)}},i=function(e,t){return"true"!==Tt(e.element,"aria-hidden")},a=r(i,!1),u=r((function(e,t){if(i(e)){var n=e.element;zt(n,"display","none"),Ot(n,"aria-hidden","true"),Ui(e,Bi(),{name:t,visible:!1})}})),s=(n=u,function(e,t){Z(t,(function(t){return n(e,t)}))}),c=r((function(e,t){if(!i(e)){var n=e.element;Vt(n,"display"),Dt(n,"aria-hidden"),Ui(e,Bi(),{name:t,visible:!0})}})),l={getSlotNames:o,getSlot:function(t,n){return Bf(t,e,n)},isShowing:a,hideSlot:u,hideAllSlots:function(e){return s(e,o())},showSlot:c};return{uid:e.uid,dom:e.dom,components:t,behaviours:Kd(e.slotBehaviours),apis:l}},kA=Ce({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return za(e)})),SA=r(r({},kA),{sketch:function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),Nf(yA,wA(t),n)},record:M(e)}}(),n=e(t),o=t.record(),r=Q(o,(function(e){return Sf({name:e,pname:wA(e)})}));return Kf(yA,xA,r,CA,n)}}),EA=Bo([Mb,Nb,Mr("onShow",R),Mr("onHide",R),Ab]),OA=function(e){return{element:function(){return e.element.dom}}},_A=function(e,t){var n=Q(ye(t),(function(e){var n=t[e],o=nr(function(e){return tr("sidebar",EA,e)}(n));return{name:e,getApi:OA,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return Q(n,(function(t){var o=Pr(R);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Oy([Gy(t,o),Wy(t,o),Qi(Bi(),(function(e,t){var o=t.event,r=re(n,(function(e){return e.name===o.name}));r.each((function(t){(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},TA=function(e){return SA.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:_A(t,e),slotBehaviours:Oy([aa((function(e){return SA.hideAllSlots(e)}))])}}))},AA=function(e){return om.getCurrent(e).bind((function(e){return bA.isGrowing(e)||bA.hasGrown(e)?om.getCurrent(e).bind((function(e){return re(SA.getSlotNames(e),(function(t){return SA.isShowing(e,t)}))})):V.none()}))},RA=ba("FixSizeEvent"),DA=ba("AutoSizeEvent"),MA=Object.freeze({__proto__:null,block:function(e,t,n,o){Ot(e.element,"aria-busy",!0);var r=t.getRoot(e).getOr(e),i=js([Eg.config({mode:"special",onTab:function(){return V.some(!0)},onShiftTab:function(){return V.some(!0)}}),Ig.config({})]),a=o(r,i),u=r.getSystem().build(a);zg.append(r,Su(u)),u.hasConfigured(Eg)&&t.focus&&Eg.focusIn(u),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return zg.remove(r,u)}))},unblock:function(e,t,n){Dt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),NA=[Mr("getRoot",V.none),Dr("focus",!0),Yu("onBlock"),Yu("onUnblock")],zA=Gs({fields:NA,name:"blocking",apis:MA,state:Object.freeze({__proto__:null,init:function(){var e=bc((function(e){return e.destroy()}));return La({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),PA=function(e){var t=Ue.fromHtml(e),n=lt(t),o=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return oe(t,(function(e,t){return"class"===t.name?e:r(r({},e),{},i({},t.name,t.value))}),{})}(t),a=function(e){return Array.prototype.slice.call(e.dom.classList,0)}(t),u=0===n.length?{}:{innerHtml:la(t)};return r({tag:We(t),classes:a,attributes:o},u)},LA=function(e){return om.getCurrent(e).each((function(e){return Xs(e.element)}))},FA=function(e,t,n,o){var r=t.element;if(function(e,t){var n="tabindex",o="data-mce-".concat(n);V.from(e.iframeElement).map(Ue.fromDom).each((function(e){t?(At(e,n).each((function(t){return Ot(e,o,t)})),Ot(e,n,-1)):(Dt(e,n),At(e,o).each((function(t){Ot(e,n,t),Dt(e,o)})))}))}(e,n),n)zA.block(t,function(e){return function(t,n){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:PA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}}(o)),Vt(r,"display"),Dt(r,"aria-hidden"),e.hasFocus()&&LA(t);else{var i=om.getCurrent(t).exists((function(e){return Qs(e.element)}));zA.unblock(t),zt(r,"display","none"),Ot(r,"aria-hidden","true"),i&&e.focus()}},BA=function(e,t,n){var o=Pr(!1),r=xc(),i=function(n){var r;!o.get()||function(e){return"focusin"===e.type}(r=n)&&(r.composed?ge(r.composedPath()):V.from(r.target)).map(Ue.fromDom).filter(Ke).exists((function(e){return tu(e,"mce-pastebin")}))||(n.preventDefault(),LA(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(function(e){"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));var a=function(r){r!==o.get()&&(o.set(r),FA(e,t(),r,n.providers),e.dispatch("AfterProgressState",{state:r}))};e.on("ProgressState",(function(t){if(r.on(clearTimeout),T(t.time)){var n=Sh.setEditorTimeout(e,(function(){return a(t.state)}),t.time);r.set(n)}else a(t.state),r.clear()}))},qA=function(e,t,n){return{within:e,extra:t,withinWidth:n}},IA=function(e,t,n){var o=function(e,t){var n=oe(e,(function(e,n){return t(n,e.len).fold(M(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]});return n.list}(e,(function(e,t){var o=n(e);return V.some({element:e,start:t,finish:t+o,width:o})})),r=te(o,(function(e){return e.finish<=t})),i=ne(r,(function(e,t){return e+t.width}),0);return{within:r,extra:o.slice(r.length),withinWidth:i}},HA=function(e){return Q(e,(function(e){return e.element}))},VA=function(e,t,n,o){var r=function(e,t,n){var o=IA(t,e,n);return 0===o.extra.length?V.some(o):V.none()}(e,t,n).getOrThunk((function(){return IA(t,e-n(o),n)})),i=r.within,a=r.extra,u=r.withinWidth;return 1===a.length&&a[0].width<=n(o)?function(e,t,n){var o=HA(e.concat(t));return qA(o,[],n)}(i,a,u):a.length>=1?function(e,t,n,o){var r=HA(e).concat([n]);return qA(r,HA(t),o)}(i,a,o,u):function(e,t,n){return qA(HA(e),[],n)}(i,0,u)},jA=function(e,t){var n=Q(t,(function(e){return Su(e)}));gT.setGroups(e,n)},UA=function(e,t,n){var o=t.builtGroups.get();if(0!==o.length){var r=qf(e,t,"primary"),i=zC.getCoupled(e,"overflowGroup");zt(r.element,"visibility","hidden");var a=o.concat([i]),u=be(a,(function(e){return ec(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}));n([]),jA(r,a);var s=Zt(r.element),c=VA(s,t.builtGroups.get(),(function(e){return Zt(e.element)}),i);0===c.extra.length?(zg.remove(r,i),n([])):(jA(r,c.within),n(c.extra)),Vt(r.element,"visibility"),jt(r.element),u.each(Ig.focus)}},GA=M([$d("splitToolbarBehaviours",[zC]),ur("builtGroups",(function(){return Pr([])}))]),WA=M([Ku(["overflowToggledClass"]),kr("getOverflowBounds"),cr("lazySink"),ur("overflowGroups",(function(){return Pr([])}))].concat(GA())),$A=M([Sf({factory:gT,schema:mT(),name:"primary"}),Ef({schema:mT(),name:"overflow"}),Ef({name:"overflow-button"}),Ef({name:"overflow-group"})]),KA=M((function(e,t){!function(e,t){var n=Qt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);zt(e,"max-width",n+"px")}(e,Math.floor(t))})),JA=M([Ku(["toggledClass"]),cr("lazySink"),pr("fetch"),kr("getBounds"),Er("fireDismissalEventInstead",[Or("event",Pi())]),Wc()]),YA=M([Ef({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:js([Qg.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ef({factory:gT,schema:mT(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:js([Eg.config({mode:"cyclic",onEscape:function(t){return Bf(t,e,"button").each(Ig.focus),V.none()}})])}}})]),XA=function(e,t){var n=zC.getCoupled(e,"toolbarSandbox");Od.isOpen(n)?Od.close(n):Od.open(n,t.toolbar())},QA=function(e,t,n,o){var r=n.getBounds.map((function(e){return e()})),i=n.lazySink(e).getOrDie();ed.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:KA()}}},r)},ZA=function(e,t,n,o,r){gT.setGroups(t,r),QA(e,t,n,o),Qg.on(e)},eR=Zf({name:"FloatingToolbarButton",factory:function(e,t,n,o){return r(r({},Eh.sketch(r(r({},o.button()),{},{action:function(e){XA(e,o)},buttonBehaviours:Xd({dump:o.button().buttonBehaviours},[zC.config({others:{toolbarSandbox:function(t){return function(e,t,n){var o=zu();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:js([Eg.config({mode:"special",onEscape:function(e){return Od.close(e),V.some(!0)}}),Od.config({onOpen:function(r,i){n.fetch().get((function(r){ZA(e,i,n,t.layouts,r),o.link(e.element),Eg.focusIn(i)}))},onClose:function(){Qg.off(e),Ig.focus(e),o.unlink(e.element)},isPartOf:function(t,n,o){return Lu(n,o)||Lu(e,o)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),Js.config({channels:r(r({},Dd(r({isExtraPart:q},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Nd({doReposition:function(){Od.getState(zC.getCoupled(e,"toolbarSandbox")).each((function(o){QA(e,o,n,t.layouts)}))}}))})])}}(t,n,e)}}})])}))),{},{apis:{setGroups:function(t,o){Od.getState(zC.getCoupled(t,"toolbarSandbox")).each((function(r){ZA(t,r,e,n.layouts,o)}))},reposition:function(t){Od.getState(zC.getCoupled(t,"toolbarSandbox")).each((function(o){QA(t,o,e,n.layouts)}))},toggle:function(e){XA(e,o)},getToolbar:function(e){return Od.getState(zC.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return Od.isOpen(zC.getCoupled(e,"toolbarSandbox"))}}})},configFields:JA(),partFields:YA(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),tR=M([cr("items"),Ku(["itemSelector"]),$d("tgroupBehaviours",[Eg])]),nR=M([_f({name:"items",unit:"item"})]),oR=Zf({name:"ToolbarGroup",configFields:tR(),partFields:nR(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.tgroupBehaviours,[Eg.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),rR=function(e){return Q(e,(function(e){return Su(e)}))},iR=function(e,t,n){UA(e,n,(function(o){n.overflowGroups.set(o),t.getOpt(e).each((function(e){eR.setGroups(e,rR(o))}))}))},aR=Zf({name:"SplitFloatingToolbar",configFields:WA(),partFields:$A(),factory:function(e,t,n,o){var i=Oh(eR.sketch({fetch:function(){return yC((function(t){t(rR(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Ss,ks]},onRtl:function(){return[ks,Ss]},onBottomLtr:function(){return[Os,Es]},onBottomRtl:function(){return[Es,Os]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.splitToolbarBehaviours,[zC.config({others:{overflowGroup:function(){return oR.sketch(r(r({},o["overflow-group"]()),{},{items:[i.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(Q(n,t.getSystem().build)),iR(t,i,e)},refresh:function(t){return iR(t,i,e)},toggle:function(e){i.getOpt(e).each((function(e){eR.toggle(e)}))},isOpen:function(e){return i.getOpt(e).map(eR.isOpen).getOr(!1)},reposition:function(e){i.getOpt(e).each((function(e){eR.reposition(e)}))},getOverflow:function(e){return i.getOpt(e).bind(eR.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),uR=M([Ku(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yu("onOpened"),Yu("onClosed")].concat(GA())),sR=M([Sf({factory:gT,schema:mT(),name:"primary"}),Sf({factory:gT,schema:mT(),name:"overflow",overrides:function(e){return{toolbarBehaviours:js([bA.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Bf(t,e,"overflow-button").each((function(e){Qg.off(e),Ig.focus(e)})),e.onClosed(t)},onGrown:function(t){Eg.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Bf(t,e,"overflow-button").each(Qg.on)}}),Eg.config({mode:"acyclic",onEscape:function(t){return Bf(t,e,"overflow-button").each(Ig.focus),V.some(!0)}})])}}}),Ef({name:"overflow-button",overrides:function(e){return{buttonBehaviours:js([Qg.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ef({name:"overflow-group"})]),cR=function(e,t){Bf(e,t,"overflow-button").bind((function(){return Bf(e,t,"overflow")})).each((function(n){lR(e,t),bA.toggleGrow(n)}))},lR=function(e,t){Bf(e,t,"overflow").each((function(n){UA(e,t,(function(e){var t=Q(e,(function(e){return Su(e)}));gT.setGroups(n,t)})),Bf(e,t,"overflow-button").each((function(e){bA.hasGrown(n)&&Qg.on(e)})),bA.refresh(n)}))},dR=Zf({name:"SplitSlidingToolbar",configFields:uR(),partFields:sR(),factory:function(e,t,n,o){var i="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:Jd(e.splitToolbarBehaviours,[zC.config({others:{overflowGroup:function(e){return oR.sketch(r(r({},o["overflow-group"]()),{},{items:[Eh.sketch(r(r({},o["overflow-button"]()),{},{action:function(t){ji(e,i)}}))]}))}}}),Pg("toolbar-toggle-events",[Qi(i,(function(t){cR(t,e)}))])]),apis:{setGroups:function(t,n){!function(t,n){var o=Q(n,t.getSystem().build);e.builtGroups.set(o)}(t,n),lR(t,e)},refresh:function(t){return lR(t,e)},toggle:function(t){return cR(t,e)},isOpen:function(t){return function(e,t){return Bf(e,t,"overflow").map(bA.hasGrown).getOr(!1)}(t,e)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),fR=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:r({tag:"div",classes:["tox-toolbar__group"]},t),components:[oR.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:js([Kw.config({}),Ig.config({})])}},mR=function(e){return oR.sketch(fR(e))},pR=function(e,t){var n=aa((function(t){var n=Q(e.initGroups,mR);gT.setGroups(t,n)}));return js([jy(e.providers.isDisabled),qy(),Eg.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Pg("toolbar-events",[n])])},gR=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":fR({title:V.none(),items:[]}),"overflow-button":kO({name:"more",icon:V.some("more-drawer"),enabled:!0,tooltip:V.some("More..."),primary:!1,buttonType:V.none(),borderless:!1},V.none(),e.providers)},splitToolbarBehaviours:pR(e,t)}},hR=function(e){var t=gR(e),n=aR.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return aR.sketch(r(r({},t),{},{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=Zn(t),o=it(t),r=Zn(o),i=Math.max(o.dom.scrollHeight,r.height);return Xn(n.x+4,r.y,n.width-8,i)},parts:r(r({},t.parts),{},{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},vR=function(e){var t=dR.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=dR.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=gR(e);return dR.sketch(r(r({},o),{},{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([HT()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([HT()],{type:"closed"})}}))},bR=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return gT.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Qm.scrolling?["tox-toolbar--scrolling"]:[])},components:[gT.parts.groups({})],toolbarBehaviours:pR(e,t)})},yR=uT.optional({factory:nA,name:"menubar",schema:[cr("backstage")]}),xR=uT.optional({factory:{sketch:function(e){return fT.sketch({uid:e.uid,dom:e.dom,listBehaviours:js([Eg.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return bR({type:e.type,uid:ba("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),V.some(!0)}})},setupItem:function(e,t,n,o){gT.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[cr("dom"),cr("onEscape")]}),wR=uT.optional({factory:{sketch:function(e){var t=function(e){return e.type===Qm.sliding?vR:e.type===Qm.floating?hR:bR}(e);return t({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),V.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[cr("dom"),cr("onEscape"),cr("getSink")]}),CR=uT.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?JT:bT;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:js(n(t,e.sharedBackstage))}}},name:"header",schema:[cr("dom")]}),kR=uT.optional({name:"socket",schema:[cr("dom")]}),SR=uT.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:js([Kw.config({}),Ig.config({}),bA.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){om.getCurrent(e).each(SA.hideAllSlots),ji(e,DA)},onGrown:function(e){ji(e,DA)},onStartGrow:function(e){Ui(e,RA,{width:qt(e.element,"width").getOr("")})},onStartShrink:function(e){Ui(e,RA,{width:Zt(e.element)+"px"})}}),zg.config({}),om.config({find:function(e){var t=zg.contents(e);return ge(t)}})])}],behaviours:js([oE(0),Pg("sidebar-sliding-events",[Qi(RA,(function(e,t){zt(e.element,"width",t.event.width)})),Qi(DA,(function(e,t){Vt(e.element,"width")}))])])}}},name:"sidebar",schema:[cr("dom")]}),ER=uT.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:js([zg.config({}),zA.config({focus:!1}),om.config({find:function(e){return ge(e.components())}})]),components:[]}}},name:"throbber",schema:[cr("dom")]}),OR=Zf({name:"OuterContainer",factory:function(e,t,n){var o={getSocket:function(t){return aT.getPart(t,e,"socket")},setSidebar:function(t,n){aT.getPart(t,e,"sidebar").each((function(e){return function(e,t){om.getCurrent(e).each((function(e){return zg.set(e,[TA(t)])}))}(e,n)}))},toggleSidebar:function(t,n){aT.getPart(t,e,"sidebar").each((function(e){return function(e,t){om.getCurrent(e).each((function(e){om.getCurrent(e).each((function(n){bA.hasGrown(e)?SA.isShowing(n,t)?bA.shrink(e):(SA.hideAllSlots(n),SA.showSlot(n,t)):(SA.hideAllSlots(n),SA.showSlot(n,t),bA.grow(e))}))}))}(e,n)}))},whichSidebar:function(t){return aT.getPart(t,e,"sidebar").bind(AA).getOrNull()},getHeader:function(t){return aT.getPart(t,e,"header")},getToolbar:function(t){return aT.getPart(t,e,"toolbar")},setToolbar:function(t,n){aT.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){aT.getPart(t,e,"multiple-toolbar").each((function(e){fT.setItems(e,n)}))},refreshToolbar:function(t){aT.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){aT.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},void 0!==t&&null!==t?V.some(n(t)):V.none()}))},isToolbarDrawerToggled:function(t){return aT.getPart(t,e,"toolbar").bind((function(e){return V.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return aT.getPart(t,e,"throbber")},focusToolbar:function(t){aT.getPart(t,e,"toolbar").orThunk((function(){return aT.getPart(t,e,"multiple-toolbar")})).each((function(e){Eg.focusIn(e)}))},setMenubar:function(t,n){aT.getPart(t,e,"menubar").each((function(e){nA.setMenus(e,n)}))},focusMenubar:function(t){aT.getPart(t,e,"menubar").each((function(e){nA.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[cr("dom"),cr("behaviours")],partFields:[CR,yR,wR,xR,kR,SR,ER],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var o=Q(n,(function(e){return mR(e)}));e.setToolbar(t,o)},setToolbars:function(e,t,n){var o=Q(n,(function(e){return Q(e,mR)}));e.setToolbars(t,o)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),_R={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},TR=function(e){return"string"===typeof e?e.split(" "):e},AR=function(e,t){var n=r(r({},_R),t.menus),o=ye(t.menus).length>0,i=void 0===t.menubar||!0===t.menubar?TR("file edit view insert format tools table help"):TR(!1===t.menubar?"":t.menubar),a=te(i,(function(e){var n=Re(_R,e);return o?n||Ae(t.menus,e).exists((function(e){return Re(e,"items")})):n})),u=Q(a,(function(o){var r=n[o];return function(e,t,n){var o=ov(n).split(/[ ,]/);return{text:e.title,getItems:function(){return ue(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||J(o,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}({title:r.title,items:TR(r.items)},t,e)}));return te(u,(function(e){return e.getItems().length>0&&J(e.getItems(),(function(e){return"separator"!==e.type}))}))},RR=function(e){var t=function(){e._skinLoaded=!0,function(e){e.dispatch("SkinLoaded")}(e)};return function(){e.initialized?t():e.on("init",t)}},DR=function(e,t,n){return e.on("remove",(function(){return n.unload(t)})),n.load(t)},MR=function(e,t){return DR(e,t+"/skin.min.css",e.ui.styleSheetLoader)},NR=function(e,t){var n;return(n=Ue.fromDom(e.getElement()),yt(n).isSome())?DR(e,t+"/skin.shadowdom.min.css",qh.DOM.styleSheetLoader):Promise.resolve()},zR=function(e,t){var n=_v(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!Ev(t)&&b(n)?Promise.all([MR(t,n),NR(t,n)]).then(RR(t),function(e,t){return function(){return function(e,t){return e.dispatch("SkinLoadError",t)}(e,{message:t})}}(t,"Skin could not be loaded")):RR(t)()},PR=P(zR,!1),LR=P(zR,!0),FR=function(e,t){return function(n){var o=yc(),r=function(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),function(){e.off("init",r),o.clear()}}},BR=function(e,t,n){return function(o){var r=function(){return n(o)},i=function(){n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),function(){e.off("init",i),e.off(t,r)}}},qR=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},IR=function(e,t){return function(){return e.execCommand(t)}},HR=function(e,t,n){var o=function(e,o,a,u){var s=t.shared.providers.translate(e.title);if("separator"===e.type)return V.some({type:"separator",text:s});if("submenu"===e.type){var c=ue(e.getStyleItems(),(function(e){return i(e,o,u)}));return 0===o&&c.length<=0?V.none():V.some({type:"nestedmenuitem",text:s,enabled:c.length>0,getSubmenuItems:function(){return ue(e.getStyleItems(),(function(e){return i(e,o,u)}))}})}return V.some(r({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(u),enabled:!a,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},i=function(e,t,r){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},a=function(e){var t=n.getCurrentValue(),o=n.shouldHide?0:1;return ue(e,(function(e){return i(e,o,t)}))};return{validateItems:a,getFetch:function(e,t){return function(n,o){var r=t(),i=a(r);o(IE(i,Wv.CLOSE_ON_EXECUTE,e,!1))}}}},VR=function(e,t,n){var o=n.dataset,r="basic"===o.type?function(){return Q(o.data,(function(e){return A_(e,n.isSelectedFor,n.getPreviewFor)}))}:o.getData;return{items:HR(0,t,n),getStyleItems:r}},jR=function(e,t,n){var o=VR(0,t,n),r=o.items,i=o.getStyleItems,a=BR(e,"NodeChange",(function(e){var t=e.getComponent();n.updateText(t)}));return zE({text:n.icon.isSome()?V.none():n.text,icon:n.icon,tooltip:V.from(n.tooltip),role:V.none(),fetch:r.getFetch(t,i),onSetup:a,getApi:function(e){return{getComponent:M(e)}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(FC||(FC={}));var UR,GR=function(e,t,n){var o=function(e){return Q(e,(function(e){var t=e,n=e,o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}}))}(function(e,t){return t===FC.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}(e.options.get(t),n));return{type:"basic",data:o}},WR=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],$R=function(e){var t={type:"basic",data:WR};return{tooltip:"Align",text:V.none(),icon:V.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:V.none,getPreviewFor:function(e){return V.none},onAction:function(t){return function(){return re(WR,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},updateText:function(t){var n=re(WR,(function(t){return e.formatter.match(t.format)})),o=n.fold(M("left"),(function(e){return e.title.toLowerCase()}));Ui(t,NE,{icon:"align-".concat(o)})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},KR=function(e,t){var n=t(),o=Q(n,(function(e){return e.format}));return V.from(e.formatter.closest(o)).bind((function(e){return re(n,(function(t){return t.format===e}))})).orThunk((function(){return Pe(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},JR=function(e){var t="Paragraph",n=GR(e,"block_formats",FC.SemiColon);return{tooltip:"Blocks",text:V.some(t),icon:V.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:V.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return V.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:qR(e),updateText:function(o){var r=KR(e,(function(){return n.data})).fold(M(t),(function(e){return e.title}));Ui(o,ME,{text:r})},dataset:n,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},YR=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],XR=function(e){var t=e.split(/\s*,\s*/);return Q(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},QR=function(e){var t="System Font",n=function(){var n=function(e){return e?XR(e)[0]:""},r=e.queryCommandValue("FontName"),i=o.data,a=r?r.toLowerCase():"",u=re(i,(function(e){var t=e.format;return t.toLowerCase()===a||n(t).toLowerCase()===n(a).toLowerCase()})).orThunk((function(){return Pe(function(e){return 0===e.indexOf("-apple-system")&&function(){var t=XR(e.toLowerCase());return se(YR,(function(e){return t.indexOf(e.toLowerCase())>-1}))}()}(a),{title:t,format:a})}));return{matchOpt:u,font:r}},o=GR(e,"font_family_formats",FC.SemiColon);return{tooltip:"Fonts",text:V.some(t),icon:V.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return n().matchOpt},getPreviewFor:function(e){return function(){return V.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},updateText:function(e){var t=n(),o=t.matchOpt,r=t.font,i=o.fold(M(r),(function(e){return e.title}));Ui(e,ME,{text:i})},dataset:o,shouldHide:!1,isInvalid:q}},ZR={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eD={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},tD=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":Ae(eD,e).getOr(e)},nD=function(e){var t=function(){var t=V.none(),n=o.data,r=e.queryCommandValue("FontSize");if(r)for(var i=function(e){var o=tD(r,e),i=function(e){return Ae(ZR,e).getOr("")}(o);t=re(n,(function(e){return e.format===r||e.format===o||e.format===i}))},a=3;t.isNone()&&a>=0;a--)i(a);return{matchOpt:t,size:r}},n=M(V.none),o=GR(e,"font_size_formats",FC.Space);return{tooltip:"Font sizes",text:V.some("12pt"),icon:V.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},updateText:function(e){var n=t(),o=n.matchOpt,r=n.size,i=o.fold(M(r),(function(e){return e.title}));Ui(e,ME,{text:i})},dataset:o,shouldHide:!1,isInvalid:q}},oD=function(e,t){var n="Paragraph";return{tooltip:"Formats",text:V.some(n),icon:V.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:V.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?V.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):V.none()}},onAction:qR(e),updateText:function(t){var o=ue(T_(e),(function e(t){var n=t.items;return void 0!==n&&n.length>0?ue(n,e):[{title:t.title,format:t.format}]})),r=KR(e,M(o)).fold(M(n),(function(e){return e.title}));Ui(t,ME,{text:r})},shouldHide:tv(e),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},rD=Object.freeze({__proto__:null,events:function(e,t){var n=function(n,o){e.updateState.each((function(e){var r=e(n,o);t.set(r)})),e.renderComponents.each((function(r){var i=r(o,t.get());(e.reuseDom?_g:Og)(n,i)}))};return Ji([Qi(wi(),(function(t,o){var r=o;if(!r.universal){var i=e.channel;K(r.channels,i)&&n(t,r.data)}})),aa((function(t,o){e.initialData.each((function(e){n(t,e)}))}))])}}),iD=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),aD=[cr("channel"),br("renderComponents"),br("updateState"),br("initialData"),Dr("reuseDom",!0)],uD=Object.freeze({__proto__:null,init:function(){var e=Pr(V.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(V.none())}}}}),sD=Gs({fields:aD,name:"reflecting",active:rD,apis:iD,state:uD}),cD=M([cr("toggleClass"),cr("fetch"),Qu("onExecute"),Or("getHotspot",V.some),Or("getAnchorOverrides",M({})),Wc(),Qu("onItemExecute"),br("lazySink"),cr("dom"),Yu("onOpen"),$d("splitDropdownBehaviours",[zC,Eg,Ig]),Or("matchWidth",!1),Or("useMinWidth",!1),Or("eventOrder",{}),br("role")].concat($C())),lD=Sf({factory:Eh,schema:[cr("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:js([Ig.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Gi)},buttonBehaviours:js([Qg.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),dD=Sf({factory:Eh,schema:[cr("dom")],name:"button",defaults:function(){return{buttonBehaviours:js([Ig.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),fD=M([lD,dD,Of({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[cr("text")],name:"aria-descriptor"}),Ef({schema:[$u()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(o){e.onItemExecute(o,t,n)}))}}}}),LC()]),mD=Zf({name:"SplitDropdown",configFields:cD(),partFields:fD(),factory:function(e,t,n,o){var a=function(e){om.getCurrent(e).each((function(e){Tm.highlightFirst(e),Eg.focusIn(e)}))},u=function(t){HC(e,N,t,o,a,Cw.HighlightFirst).get(R)},s=function(t){var n=qf(t,e,"button");return Gi(n),V.some(!0)},c=r(r({},Ji([aa((function(t,n){Bf(t,e,"aria-descriptor").each((function(e){var n=ba("aria");Ot(e.element,"id",n),Ot(t.element,"aria-describedby",n)}))}))])),eh(V.some(u))),l={repositionMenus:function(e){Qg.isOn(e)&&WC(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:r(r({},e.eventOrder),{},i({},Ci(),["disabling","toggling","alloy.base.behaviour"])),events:c,behaviours:Jd(e.splitDropdownBehaviours,[zC.config({others:{sandbox:function(t){var n=qf(t,e,"arrow");return GC(e,t,{onOpen:function(){Qg.on(n),Qg.on(t)},onClose:function(){Qg.off(n),Qg.off(t)}})}}}),Eg.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e){return u(e),V.some(!0)}}),Ig.config({}),Qg.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),pD=function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},gD=function(e){return{setActive:function(t){Qg.set(e,t)},isActive:function(){return Qg.isOn(e)},isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)}}},hD=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},vD=ba("focus-button"),bD=function(e,t,n,o,r,a){return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:hD(n,a)},components:Jy([e.map((function(e){return AE(e,a.icons)})),t.map((function(e){return DE(e,"tox-tbtn",a)}))]),eventOrder:i({},ei(),["focusing","alloy.base.behaviour","common-button-display-events"]),buttonBehaviours:js([jy(a.isDisabled),qy(),Pg("common-button-display-events",[Qi(ei(),(function(e,t){t.event.prevent(),ji(e,vD)}))])].concat(o.map((function(n){return sD.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return Jy([e.icon.map((function(e){return AE(e,a.icons)})),e.text.map((function(e){return DE(e,"tox-tbtn",a)}))])}})})).toArray()).concat(r.getOr([])))}},yD=function(e,t,n){var o,r=Pr(R),i=bD(e.icon,e.text,e.tooltip,V.none(),V.none(),n);return Eh.sketch({dom:i.dom,components:i.components,eventOrder:_E,buttonBehaviours:js([Pg("toolbar-button-events",[(o={onAction:e.onAction,getApi:t.getApi},ca((function(e,t){Uy(o,e)((function(t){Ui(e,OE,{buttonApi:t}),o.onAction(t)}))}))),Gy(t,r),Wy(t,r)]),jy((function(){return!e.enabled||n.isDisabled()})),qy()].concat(t.toolbarButtonBehaviours))})},xD=function(e,t,n){return yD(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Pg("toolbarButtonWith",n)]:[]),getApi:pD,onSetup:e.onSetup},t)},wD=function(e,t,n){return wo(yD(e,{toolbarButtonBehaviours:[zg.config({}),Qg.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Pg("toolbarToggleButtonWith",n)]:[]),getApi:gD,onSetup:e.onSetup},t))},CD=function(e,t,n){return function(o){return yC((function(e){return t.fetch(e)})).map((function(r){return V.from(Ow(wo(iw(ba("menu-value"),r,(function(n){t.onItemAction(e(o),n)}),t.columns,t.presets,Wv.CLOSE_ON_EXECUTE,t.select.getOr(q),n),{movement:uw(t.columns,t.presets),menuBehaviours:Oy("auto"!==t.columns?[]:[aa((function(e,n){Sy(e,4,rb(t.presets)).each((function(t){var n=t.numRows,o=t.numColumns;Eg.setGridSize(e,n,o)}))}))])})))}))}},kD=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],SD=function(e,t){return function(n,o,r){var i=e(n).mapError((function(e){return rr(e)})).getOrDie();return t(i,o,r)}},ED={button:SD(Yb,(function(e,t){return n=e,o=t.backstage.shared.providers,xD(n,o,[]);var n,o})),togglebutton:SD(Zb,(function(e,t){return n=e,o=t.backstage.shared.providers,wD(n,o,[]);var n,o})),menubutton:SD(eA,(function(e,t){return xO(e,"tox-tbtn",t.backstage,V.none())})),splitbutton:SD((function(e){return tr("SplitButton",tA,e)}),(function(e,t){return function(e,t){var n=ba("channel-update-split-dropdown-display"),o=function(e){return{isEnabled:function(){return!vm.isDisabled(e)},setEnabled:function(t){return vm.set(e,!t)},setIconFill:function(t,n){Du(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Ot(e,"fill",n)}))},setActive:function(t){Ot(e.element,"aria-pressed",t),Du(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Qg.set(e,t)}))}))},isActive:function(){return Du(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(Qg.isOn)}))}}},a=Pr(R),u={getApi:o,onSetup:e.onSetup};return mD.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:r({"aria-pressed":!1},hD(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:js([Vy(t.providers.isDisabled),qy(),Pg("split-dropdown-events",[Qi(vD,Ig.focus),Gy(u,a),Wy(u,a)]),QC.config({})]),eventOrder:i({},Ni(),["alloy.base.behaviour","split-dropdown-events"]),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:CD(o,e,t.providers),parts:{menu:lb(0,e.columns,e.presets)},components:[mD.parts.button(bD(e.icon,e.text,V.none(),V.some(n),V.some([Qg.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),mD.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Nh("chevron-down",t.providers.icons)},buttonBehaviours:js([Vy(t.providers.isDisabled),qy(),zh()])}),mD.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}(e,t.backstage.shared)})),grouptoolbarbutton:SD((function(e){return tr("GroupToolbarButton",XT,e)}),(function(e,t,n){var o=n.ui.registry.getAll().buttons,r=i({},Uc,t.backstage.shared.header.isPositionedAtTop()?lc.TopToBottom:lc.BottomToTop);if(rv(n)===Qm.floating)return function(e,t,n,o){var r=t.shared;return eR.sketch({lazySink:r.getSink,fetch:function(){return yC((function(t){t(Q(n(e.items),mR))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:bD(e.icon,e.text,e.tooltip,V.none(),V.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})}(e,t.backstage,(function(e){return AD(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,V.none())}),r);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})),styleSelectButton:function(e,t){return function(e,t){var n=r({type:"advanced"},t.styles);return jR(e,t,oD(e,n))}(e,t.backstage)},fontsizeSelectButton:function(e,t){return function(e,t){return jR(e,t,nD(e))}(e,t.backstage)},fontSelectButton:function(e,t){return function(e,t){return jR(e,t,QR(e))}(e,t.backstage)},formatButton:function(e,t){return function(e,t){return jR(e,t,JR(e))}(e,t.backstage)},alignMenuButton:function(e,t){return function(e,t){return jR(e,t,$R(e))}(e,t.backstage)}},OD={styles:ED.styleSelectButton,fontsize:ED.fontsizeSelectButton,fontfamily:ED.fontSelectButton,blocks:ED.formatButton,align:ED.alignMenuButton},_D=function(e){var t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?function(e){var t=Q(kD,(function(t){var n=te(t.items,(function(t){return Re(e,t)||Re(OD,t)}));return{name:t.name,items:n}}));return te(t,(function(e){return e.items.length>0}))}(n):b(t)?function(e){var t=e.split("|");return Q(t,(function(e){return{items:e.trim().split(" ")}}))}(t):function(e){return A(e,(function(e){return Re(e,"name")&&Re(e,"items")}))}(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},TD=function(e,t,n,o,r,i){return Ae(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return be(e,(function(e){return Ae(t,e+n.toLowerCase())}))}))})).fold((function(){return Ae(OD,n.toLowerCase()).map((function(t){return t(e,r)})).orThunk((function(){return V.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||o?function(e,t,n){return Ae(ED,e.type).fold((function(){return console.error("skipping button defined by",e),V.none()}),(function(o){return V.some(o(e,t,n))}))}(t,r,e):(console.warn("Ignoring the '".concat(n,"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")),V.none())}))},AD=function(e,t,n,o){var r=_D(t),i=Q(r,(function(r){var i=ue(r.items,(function(r){return 0===r.trim().length?[]:TD(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()}));return{title:V.from(e.translate(r.name)),items:i}}));return te(i,(function(e){return e.items.length>0}))},RD=function(e,t,n,o){var r=t.outerContainer,i=n.toolbar,a=n.buttons;if(A(i,b)){var u=i.map((function(t){var r={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return AD(e,r,{backstage:o},V.none())}));OR.setToolbars(r,u)}else OR.setToolbar(r,AD(e,n,{backstage:o},V.none()))},DD=Dn(),MD=DD.os.isiOS()&&DD.os.version.major<=12,ND=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=Pr(0),a=t.outerContainer;PR(e);var u=Ue.fromDom(r.targetNode),s=bt(vt(u));!function(e,t){pd(e,t,Ln)}(u,t.mothership),md(s,t.uiMothership),e.on("PostRender",(function(){RD(e,t,n,o),i.set(e.getWin().innerWidth),OR.setMenubar(a,AR(e,n)),OR.setSidebar(a,n.sidebar),function(e,t){var n=e.dom,o=e.getWin(),r=e.getDoc().documentElement,i=Pr(Kt(o.innerWidth,o.innerHeight)),a=Pr(Kt(r.offsetWidth,r.offsetHeight)),u=function(){var t=i.get();t.left===o.innerWidth&&t.top===o.innerHeight||(i.set(Kt(o.innerWidth,o.innerHeight)),Lx(e))},s=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Kt(t.offsetWidth,t.offsetHeight)),Lx(e))},c=function(t){return function(e,t){return e.dispatch("ScrollContent",t)}(e,t)};n.bind(o,"resize",u),n.bind(o,"scroll",c);var l=kc(Ue.fromDom(e.getBody()),"load",s),d=t.uiMothership.element;e.on("hide",(function(){zt(d,"display","none")})),e.on("show",(function(){Vt(d,"display")})),e.on("NodeChange",s),e.on("remove",(function(){l.unbind(),n.unbind(o,"resize",u),n.unbind(o,"scroll",c),o=null}))}(e,t)}));var c=OR.getSocket(a).getOrDie("Could not find expected socket element");if(MD){Pt(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=function(e,t){var n=null;return{cancel:function(){C(n)||(clearTimeout(n),n=null)},throttle:function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];C(n)&&(n=setTimeout((function(){n=null,e.apply(null,r)}),t))}}}((function(){e.dispatch("ScrollContent")}),20),d=Cc(c.element,"scroll",l.throttle);e.on("remove",d.unbind)}By(e,t),e.addCommand("ToggleSidebar",(function(t,n){OR.toggleSidebar(a,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return OR.whichSidebar(a)}));var f=rv(e);f!==Qm.sliding&&f!==Qm.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==i.get()&&(OR.refreshToolbar(t.outerContainer),i.set(n))}));var m={setEnabled:function(e){Fy(t,!e)},isEnabled:function(){return!vm.isDisabled(a)}};return{iframeContainer:c.element.dom,editorContainer:a.element.dom,api:m}}}),zD=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?V.some(parseInt(""+e,10)):V.none()},PD=function(e){return T(e)?e+"px":e},LD=function(e,t,n){var o=t.filter((function(t){return e<t})),r=n.filter((function(t){return e>t}));return o.or(r).getOr(e)},FD=function(e){var t=function(e){var t=$h(e),n=Yh(e),o=Qh(e);return zD(t).map((function(e){return LD(e,n,o)}))}(e);return t.getOr($h(e))},BD=function(e){var t=Kh(e),n=Jh(e),o=Xh(e);return zD(t).map((function(e){return LD(e,n,o)}))},qD=qv.ToolbarLocation,ID=qv.ToolbarMode,HD=function(e,t){var n=Qn(e);return{pos:t?n.y:n.bottom,bounds:n}},VD=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,s=Pr(null),c=Ue.fromDom(r.targetNode),l=function(e,t,n,o,r){var i=n.uiMothership,a=n.outerContainer,u=qh.DOM,s=zv(e),c=Fv(e),l=Xh(e).or(BD(e)),d=o.shared.header,f=d.isPositionedAtTop,m=rv(e),p=m===ID.sliding||m===ID.floating,g=Pr(!1),h=function(){return g.get()&&!e.removed},v=function(e){return p?e.fold(M(0),(function(e){return e.components().length>1?Wt(e.components()[1].element):0})):0},b=function(n){switch(av(e)){case qD.auto:var o=OR.getToolbar(a),r=v(o),i=Wt(n.element)-r,u=Qn(t);if(u.y>i)return"top";var s=it(t),c=Math.max(s.dom.scrollHeight,Wt(s));return u.bottom<c-i||eo().bottom<u.bottom-i?"bottom":"top";case qD.bottom:return"bottom";case qD.top:default:return"top"}},y=function(e){var t=r.get();IT.setModes(t,[e]),d.setDockingMode(e);var n=f()?lc.TopToBottom:lc.BottomToTop;Ot(t.element,Uc,n)},x=function(){var e=l.getOrThunk((function(){var e=zD(Ft(kt(),"margin-left")).getOr(0);return Zt(kt())-Yt(t).left+e}));zt(r.get().element,"max-width",e+"px")},w=function(){var e=OR.getToolbar(a),n=v(e),o=Qn(t),i=f()?Math.max(o.y-Wt(r.get().element)+n,0):o.bottom;Pt(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(o.x)+"px"})},C=function(){i.broadcastOn([Td()],{})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(h()){if(s||x(),p&&OR.refreshToolbar(a),s||w(),c){var t=r.get();e?IT.reset(t):IT.refresh(t)}C()}},S=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!s&&c&&h()){var t=d.getDockingMode(),n=b(r.get());n!==t&&(y(n),e&&k(!0))}};return{isVisible:h,isPositionedAtTop:f,show:function(){g.set(!0),zt(a.element,"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),Vt(i.element,"display"),S(!1),k()},hide:function(){g.set(!1),n.outerContainer&&(zt(a.element,"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),zt(i.element,"display","none")},update:k,updateMode:S,repositionPopups:C}}(e,c,t,o,s),d=cv(e);LR(e);var f=function(){if(s.get())l.show();else{s.set(OR.getHeader(u).getOrDie());var r=Pv(e);md(r,i),md(r,a),RD(e,t,n,o),OR.setMenubar(u,AR(e,n)),l.show(),function(e,t,n,o){var r=Pr(HD(t,n.isPositionedAtTop())),i=function(o){var i=HD(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=r.get(),c=s.pos,l=s.bounds,d=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),d&&Lx(e,o),n.isVisible()&&(c!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=yc();a.set(kc(Ue.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){a.clear()}))}(e,c,l,d),e.nodeChanged()}},m=function(){return Sh.setEditorTimeout(e,f,0)};e.on("show",f),e.on("hide",l.hide),d||(e.on("focus",m),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||d)&&m()})),By(e,t);var p={show:function(){f()},hide:function(){l.hide()},setEnabled:function(e){Fy(t,!e)},isEnabled:function(){return!vm.isDisabled(u)}};return{editorContainer:u.element.dom,api:p}}}),jD="contexttoolbar-hide",UD=function(e,t){return Qi(OE,(function(n,o){var r=function(e){return{hide:function(){return ji(e,Oi())},getValue:function(){return Wd.getValue(e)}}}(e.get(n));t.onAction(r,o.event.buttonApi)}))},GD=function(e,t,n){var i={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?function(e,t,n){var i=t.original,a=(i.primary,o(i,p)),u=nr(Zb(r(r({},a),{},{type:"togglebutton",onAction:R})));return wD(u,n.backstage.shared.providers,[UD(e,t)])}(e,t,i):function(e,t,n){var i=t.original,a=(i.primary,o(i,m)),u=nr(Yb(r(r({},a),{},{type:"button",onAction:R})));return xD(u,n.backstage.shared.providers,[UD(e,t)])}(e,t,i)},WD=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),o=Oh(pC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:js([Eg.config({mode:"special",onEnter:function(e){return r.findPrimary(e).map((function(e){return Gi(e),!0}))},onLeft:function(e,t){return t.cut(),V.none()},onRight:function(e,t){return t.cut(),V.none()}})])})),r=function(e,t,n){var o=Q(t,(function(t){return Oh(GD(e,t,n))}));return{asSpecs:function(){return Q(o,(function(e){return e.asSpec()}))},findPrimary:function(e){return be(t,(function(t,n){return t.primary?V.from(o[n]).bind((function(t){return t.getOpt(e)})).filter(L(vm.isDisabled)):V.none()}))}}}(o,e.commands,t);return[{title:V.none(),items:[o.asSpec()]},{title:V.none(),items:r.asSpecs()}]},$D=WD,KD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return t.bottom-e.y>=n&&e.bottom-t.y>=n},JD=function(e){var t=function(e){var t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){var n=mt(Ue.fromDom(e.startContainer),e.startOffset).element;return(Je(n)?ut(n):V.some(n)).filter(Ke).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)}return t}(e.selection.getRng());if(e.inline){var n=Vn();return Xn(n.left+t.left,n.top+t.top,t.width,t.height)}var o=Zn(Ue.fromDom(e.getBody()));return Xn(o.x+t.left,o.y+t.top,t.width,t.height)},YD=function(e,t,n){var o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}},XD=function(e,t,n,o,r,i){var a=Ue.fromDom(e.getContainer()),u=Du(a,".tox-editor-header").getOr(a),s=Qn(u),c=s.y>=t.bottom,l=o&&!c;if(e.inline&&l)return{y:Math.max(s.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(s.y-i,n.bottom)};var d="line"===r?Qn(a):t;return l?{y:Math.max(s.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(s.y-i,n.bottom)}},QD=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=Gn(window),i=Qn(Ue.fromDom(e.getContentAreaContainer())),a=Ov(e)||Av(e)||Dv(e),u=YD(i,r,o),s=u.x,c=u.width;if(e.inline&&!a)return Xn(s,r.y,c,r.height);var l=t.header.isPositionedAtTop(),d=XD(e,i,r,l,n,o),f=d.y,m=d.bottom;return Xn(s,f,c,m-f)},ZD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},eM={maxHeightFunction:Pc(),maxWidthFunction:KA()},tM=function(e){return"node"===e},nM=function(e,t,n,o,r){var i=JD(e),a=o.lastElement().exists((function(e){return tt(n,e)}));return function(e,t){var n=e.selection.getRng(),o=mt(Ue.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&tt(o.element,t)}(e,n)?a?l_:i_:a?function(e,t,n){var o=qt(e,"position");zt(e,"position",t);var r=n(e);return o.each((function(t){return zt(e,"position",t)})),r}(t,o.getMode(),(function(){return KD(i,Qn(t))&&!o.isReposition()?f_:l_})):("fixed"===o.getMode()?r.y+Vn().top:r.y)+(Wt(t)+12)<=i.y?i_:a_},oM=function(e,t,n,o){var i=function(t){return function(o,i,a,u,s){var c=nM(e,u,t,n,s),l=r(r({},o),{},{y:s.y,height:s.height});return r(r({},c(l,i,a,u,s)),{},{alwaysFit:!0})}},a=function(e){return tM(o)?[i(e)]:[]};return t?{onLtr:function(e){return[Ts,ks,Ss,Es,Os,_s].concat(a(e))},onRtl:function(e){return[Ts,Ss,ks,Os,Es,_s].concat(a(e))}}:{onLtr:function(e){return[_s,Ts,Es,ks,Os,Ss].concat(a(e))},onRtl:function(e){return[_s,Ts,Os,Ss,Es,ks].concat(a(e))}}},rM=function(e,t){var n=te(t,(function(t){return t.predicate(e.dom)})),o=ee(n,(function(e){return"contexttoolbar"===e.type}));return{contextToolbars:o.pass,contextForms:o.fail}},iM=function(e,t,n){var o=rM(e,t);if(o.contextForms.length>0)return V.some({elem:e,toolbars:[o.contextForms[0]]});var i=rM(e,n);if(i.contextForms.length>0)return V.some({elem:e,toolbars:[i.contextForms[0]]});if(o.contextToolbars.length>0||i.contextToolbars.length>0){var a=function(e){if(e.length<=1)return e;var t=function(t){return J(e,(function(e){return e.position===t}))},n=function(t){return te(e,(function(e){return e.position===t}))},o=t("selection"),i=t("node");if(o||i){if(i&&o){var a=n("node"),u=Q(n("selection"),(function(e){return r(r({},e),{},{position:"node"})}));return a.concat(u)}return n(o?"selection":"node")}return n("line")}(o.contextToolbars.concat(i.contextToolbars));return V.some({elem:e,toolbars:a})}return V.none()},aM=function(e,t,n){return e(t)?V.none():jr(t,(function(e){if(Ke(e)){var t=rM(e,n.inNodeScope),o=t.contextToolbars,r=t.contextForms,i=r.length>0?r:function(e){if(e.length<=1)return e;var t=function(t){return re(e,(function(e){return e.position===t}))},n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}));return n.fold((function(){return[]}),(function(t){return te(e,(function(e){return e.position===t}))}))}(o);return i.length>0?V.some({elem:e,toolbars:i}):V.none()}return V.none()}),e)},uM=function(e,t){var n={},o=[],i=[],a={},u={},s=function(e,s){var c=nr(tr("ContextForm",ay,s));n[e]=c,c.launch.map((function(n){a["form:"+e]=r(r({},s.launch),{},{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(c)}})})),"editor"===c.scope?i.push(c):o.push(c),u[e]=c},c=function(e,t){var n;(n=t,tr("ContextToolbar",uy,n)).each((function(n){"editor"===t.scope?i.push(n):o.push(n),u[e]=n}))},l=ye(e);return Z(l,(function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&c(t,n)})),{forms:n,inNodeScope:o,inEditorScope:i,lookupTable:u,formNavigators:a}},sM=ba("forward-slide"),cM=ba("backward-slide"),lM=ba("change-slide-event"),dM="tox-pop--resizing",fM="tox-pop--transition",mM=function(e,t,n,o){var i=o.backstage,a=i.shared,u=Dn().deviceType.isTouch,s=xc(),c=xc(),l=xc(),d=ku(function(e){var t=Pr([]);return kh.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),kh.getContent(e).each((function(e){Vt(e.element,"visibility")})),eu(e.element,dM),Vt(e.element,"width")},inlineBehaviours:js([Pg("context-toolbar-events",[ia(mi(),(function(e,t){"width"===t.event.raw.propertyName&&(eu(e.element,dM),Vt(e.element,"width"))})),Qi(lM,(function(e,t){var n=e.element;Vt(n,"width");var o=Zt(n);kh.setContent(e,t.event.contents),Za(n,dM);var r=Zt(n);zt(n,"width",o+"px"),kh.getContent(e).each((function(e){t.event.focus.bind((function(e){return Xs(e),ec(n)})).orThunk((function(){return Eg.focusIn(e),Zs(vt(n))}))})),setTimeout((function(){zt(e.element,"width",r+"px")}),0)})),Qi(sM,(function(e,n){kh.getContent(e).each((function(n){t.set(t.get().concat([{bar:n,focus:Zs(vt(e.element))}]))})),Ui(e,lM,{contents:n.event.forwardContents,focus:V.none()})})),Qi(cM,(function(e,n){he(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1)),Ui(e,lM,{contents:Su(n.bar),focus:n.focus})}))}))]),Eg.config({mode:"special",onEscape:function(n){return he(t.get()).fold((function(){return e.onEscape()}),(function(e){return ji(n,cM),V.some(!0)}))}})]),lazySink:function(){return oo.value(e.sink)}})}({sink:n,onEscape:function(){return e.focus(),V.some(!0)}})),f=function(){var t=l.get().getOr("node"),n=tM(t)?1:0;return QD(e,a,t,n)},m=function(){return!e.removed&&!(u()&&i.isContextMenuOpen())},p=function(){if(m()){var t=f(),n=Me(l.get(),"node")?function(e,t){return t.filter(Ct).map(Zn).getOrThunk((function(){return JD(e)}))}(e,s.get()):JD(e);return t.height<=0||!KD(n,t)}return!0},g=function(){s.clear(),c.clear(),l.clear(),kh.hide(d)},h=function(){if(kh.isOpen(d)){var e=d.element;Vt(e,"display"),p()?zt(e,"display","none"):(c.set(0),kh.reposition(d))}},v=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:js([Eg.config({mode:"acyclic"}),Pg("pop-dialog-wrap-events",[aa((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Eg.focusIn(t)}))})),ua((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},b=tn((function(){return uM(t,(function(e){var t=y([e]);Ui(d,sM,{forwardContents:v(t)})}))})),y=function(t){var n=e.ui.registry.getAll().buttons,i=b(),u=r(r({},n),i.formNavigators),s=rv(e)===Qm.scrolling?Qm.scrolling:Qm.default,c=ae(Q(t,(function(t){return"contexttoolbar"===t.type?function(t,n){return AD(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o,V.some(["form:"]))}(u,t):function(e,t){return $D(e,t)}(t,a.providers)})));return bR({type:s,uid:ba("context-toolbar"),initGroups:c,onEscape:V.none,cyclicKeying:!0,providers:a.providers})},x=function(t,o){var r="node"===t?a.anchors.node(o):a.anchors.cursor(),i=function(e,t,n,o){return"line"===t?{bubble:qc(12,0,ZD),layouts:{onLtr:function(){return[As]},onRtl:function(){return[Rs]}},overrides:eM}:{bubble:qc(0,12,ZD,1/12),layouts:oM(e,n,o,t),overrides:eM}}(e,t,u(),{lastElement:s.get,isReposition:function(){return Me(c.get(),0)},getMode:function(){return ed.getMode(n)}});return wo(r,i)},w=function(e,t){if(C.cancel(),m()){var o=y(e),r=e[0].position,i=x(r,t);l.set(r),c.set(1);var a=d.element;Vt(a,"display"),function(e){return Me(ze(e,s.get(),tt),!0)}(t)||(eu(a,fM),ed.reset(n,d)),kh.showWithinBounds(d,v(o),{anchor:i,transition:{classes:[fM],mode:"placement"}},(function(){return V.some(f())})),t.fold(s.clear,s.set),p()&&zt(a,"display","none")}},C=oO((function(){e.hasFocus()&&!e.removed&&(tu(d.element,fM)?C.throttle():function(e,t){var n=Ue.fromDom(t.getBody()),o=function(e){return tt(e,n)},r=Ue.fromDom(t.selection.getNode());return function(e){return!o(e)&&!nt(n,e)}(r)?V.none():iM(r,e.inNodeScope,e.inEditorScope).orThunk((function(){return aM(o,r,e)}))}(b(),e).fold(g,(function(e){w(e.toolbars,V.some(e.elem))})))}),17);e.on("init",(function(){e.on("remove",g),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",h),e.on("click keyup focus SetContent",C.throttle),e.on(jD,g),e.on("contexttoolbar-show",(function(t){var n=b();Ae(n.lookupTable,t.toolbarKey).each((function(n){w([n],Pe(t.target!==e,t.target)),kh.getContent(d).each(Eg.focusIn)}))})),e.on("focusout",(function(t){Sh.setEditorTimeout(e,(function(){ec(n.element).isNone()&&ec(d.element).isNone()&&g()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&g()})),e.on("AfterProgressState",(function(t){t.state?g():e.hasFocus()&&C.throttle()})),e.on("NodeChange",(function(e){ec(d.element).fold(C.throttle,R)}))}))},pM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gM=function(){var e="[0-9]+",t="[eE][+-]?[0-9]+",n=function(e){return"(?:".concat(e,")?")},o=["Infinity","[0-9]+\\."+n(e)+n(t),"\\.[0-9]+"+n(t),e+n(t)].join("|"),r="[+-]?(?:".concat(o,")");return new RegExp("^(".concat(r,")(.*)$"))}(),hM=function(e,t){return V.from(gM.exec(e)).bind((function(e){var n=Number(e[1]),o=e[2];return function(e,t){return J(t,(function(t){return J(pM[t],(function(t){return e===t}))}))}(o,t)?V.some({value:n,unit:o}):V.none()}))},vM=function(e,t){var n=function(){var n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=xc();return Q(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(i){var a=function(e){e&&(r.on((function(e){return e.setActive(!1)})),r.set(i)),i.setActive(e)};a(Me(o,t.hash(n)));var u=t.watcher(e,n,a);return function(){r.clear(),u()}},onAction:function(){return t.setCurrent(e,n)}}}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},bM={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Tv,hash:function(e){return function(e,t){return hM(e,t).map((function(e){return e.value+e.unit}))}(e,["fixed","relative","empty"]).getOr(e)},display:N,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind},getCurrent:function(e){return V.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",!1,t)}},yM=function(e){vM(e,bM),function(e){return V.from(nv(e)).map((function(t){return{name:"language",text:"Language",icon:"language",getOptions:M(t),hash:function(e){return S(e.customCode)?e.code:"".concat(e.code,"/").concat(e.customCode)},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){var t=Ue.fromDom(e.selection.getNode());return Ur(t,(function(e){return V.some(e).filter(Ke).bind((function(e){return At(e,"lang").map((function(t){return{code:t,customCode:At(e,"data-mce-lang").getOrUndefined(),title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",!1,t)},onToolbarSetup:function(t){var n=yc();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}}))}(e).each((function(t){return vM(e,t)}))},xM=function(e,t){!function(e,t){var n=VR(0,t,$R(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=VR(0,t,QR(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=r({type:"advanced"},t.styles),o=VR(0,t,oD(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})}(e,t),function(e,t){var n=VR(0,t,JR(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=VR(0,t,nD(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t)},wM=function(e){return BR(e,"NodeChange",(function(t){t.setEnabled(e.queryCommandState("outdent"))}))},CM=function(e){!function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:wM(e),onAction:IR(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:IR(e,"indent")})}(e)},kM=function(e,t){return function(n){n.setActive(t.get());var o=function(e){t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),function(){return e.off("PastePlainTextToggle",o)}}},SM=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},EM=function(e){!function(e){gE.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:FR(e,t.name),onAction:SM(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:FR(e,n),onAction:SM(e,n)})}}(e),function(e){gE.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IR(e,t.action)})}))}(e),function(e){gE.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IR(e,t.action),onSetup:FR(e,t.name)})}))}(e)},OM=function(e){EM(e),function(e){gE.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:IR(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:SM(e,"code")})}(e)},_M=function(e,t){return BR(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}))},TM=function(e){!function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_M(e,"hasUndo"),onAction:IR(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_M(e,"hasRedo"),onAction:IR(e,"redo")})}(e),function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:_M(e,"hasUndo"),onAction:IR(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:_M(e,"hasRedo"),onAction:IR(e,"redo")})}(e)},AM=function(e){return BR(e,"VisualAid",(function(t){t.setActive(e.hasVisual)}))},RM=function(e){!function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:IR(e,"mceToggleVisualAid")})}(e),function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:AM(e),onAction:IR(e,"mceToggleVisualAid")})}(e)},DM=function(e,t){!function(e){Z([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IR(e,t.cmd),onSetup:FR(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:IR(e,"JustifyNone")})}(e),OM(e),xM(e,t),TM(e),function(e){!function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))}(e);var t=Pr(Yx),n=Pr(Yx);nw(e,"forecolor","forecolor","Text color",t),nw(e,"backcolor","hilitecolor","Background color",n),ow(e,"forecolor","forecolor","Text color"),ow(e,"backcolor","hilitecolor","Background color")}(e),RM(e),CM(e),yM(e),function(e){var t=Pr(Sv(e)),n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:kM(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:kM(e,t)})}(e)},MM=function(e){return b(e)?e.split(/[ ,]/):e},NM=function(e){return function(t){return t.options.get(e)}},zM=NM("contextmenu_never_use_native"),PM=NM("contextmenu_avoid_overlap"),LM=function(e){var t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:te(n,(function(e){return Re(t,e)}))},FM=function(e,t){return{type:"makeshift",x:e,y:t}},BM=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},qM=function(e,t){var n=qh.DOM.getPos(e);return function(e,t,n){return FM(e.x+t,e.y+n)}(t,n.x,n.y)},IM=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(BM(e)){var t=e.touches[0];return FM(t.pageX,t.pageY)}return FM(e.pageX,e.pageY)}(t):qM(e.getContentAreaContainer(),function(e){if(BM(e)){var t=e.touches[0];return FM(t.clientX,t.clientY)}return FM(e.clientX,e.clientY)}(t)):HM(e)},HM=function(e){return{type:"selection",root:Ue.fromDom(e.selection.getNode())}},VM=function(e,t,n){switch(n){case"node":return function(e){return{type:"node",node:V.some(Ue.fromDom(e.selection.getNode())),root:Ue.fromDom(e.getBody())}}(e);case"point":return IM(e,t);case"selection":return HM(e)}},jM=function(e,t,n,o,r,i){var a=n(),u=VM(e,t,i);IE(a,Wv.CLOSE_ON_EXECUTE,o,!1).map((function(e){t.preventDefault(),kh.showMenuAt(r,{anchor:u},{menu:{markers:ub("normal")},data:e})}))},UM={onLtr:function(){return[Ts,ks,Ss,Es,Os,_s,i_,a_,r_,n_,o_,t_]},onRtl:function(){return[Ts,Ss,ks,Os,Es,_s,i_,a_,o_,t_,r_,n_]}},GM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},WM=function(e,t,n,o,i,a,u){var s=function(e,t,n){var o=VM(e,t,n);return r({bubble:qc(0,"point"===n?12:0,GM),layouts:UM,overrides:{maxWidthFunction:KA(),maxHeightFunction:Pc()}},o)}(e,t,a);IE(n,Wv.CLOSE_ON_EXECUTE,o,!0).map((function(n){t.preventDefault(),kh.showMenuWithinBounds(i,{anchor:s},{menu:{markers:ub("normal"),highlightImmediately:u},data:n,type:"horizontal"},(function(){return V.some(QD(e,o.shared,"node"===a?"node":"selection"))})),e.dispatch(jD)}))},$M=function(e,t,n,o,r,i){var a=Dn(),u=a.os.isiOS(),s=a.os.isMacOS(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),d=function(){var a=n();WM(e,t,a,o,r,i,!(c||u||s&&l))};if((s||u)&&"node"!==i){var f=function(){!function(e){var t=e.selection.getRng(),n=function(){Sh.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var o=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);var r=function(){return i()};e.once("longpresscancel",r);var i=function(){e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}}(e),d()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var o=t.touches[0],r=n.getRng();return El(e.getWin(),dl.domRange(r)).exists((function(e){return e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY}))}(e,t)?(e.once("selectionchange",f),e.once("touchend",(function(){return e.off("selectionchange",f)}))):f()}else d()},KM=function(e){return b(e)?"|"===e:"separator"===e.type},JM={type:"separator"},YM=function e(t){var n,o=function(e){return{text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut}};if(b(t))return t;switch(t.type){case"separator":return JM;case"submenu":return r(r({type:"nestedmenuitem"},o(t)),{},{getSubmenuItems:function(){var n=t.getSubmenuItems();return b(n)?n:Q(n,e)}});default:return r(r({type:"menuitem"},o(t)),{},{onAction:(n=t.onAction,function(){return n()})})}},XM=function(e,t){if(0===t.length)return e;var n=he(e).filter((function(e){return!KM(e)})),o=n.fold((function(){return[]}),(function(e){return[JM]}));return e.concat(o).concat(t).concat([JM])},QM=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},ZM=function(e,t){return QM(e,t)?e.selection.getStart(!0):t.target},eN=function(e,t,n){var o=Dn().deviceType.isTouch,r=ku(kh.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:js([Pg("dismissContextMenu",[Qi(Pi(),(function(t,n){Od.close(t),e.focus()}))])])})),i=function(e){return kh.hide(r)},a=function(t){if(zM(e)&&t.preventDefault(),!function(e,t){return t.ctrlKey&&!zM(e)}(e,t)&&!function(e){return 0===LM(e).length}(e)){var i=function(e,t){var n=PM(e),o=QM(e,t)?"selection":"point";if(He(n)){var r=ZM(e,t);return Tw(Ue.fromDom(r),n)?"node":o}return o}(e,t);(o()?$M:jM)(e,t,(function(){var n=ZM(e,t),o=e.ui.registry.getAll(),r=LM(e);return function(e,t,n){var o=oe(t,(function(t,o){return Ae(e,o.toLowerCase()).map((function(e){var o=e.update(n);if(b(o))return XM(t,o.split(" "));if(o.length>0){var r=Q(o,YM);return XM(t,r)}return t})).getOrThunk((function(){return t.concat([o])}))}),[]);return o.length>0&&KM(o[o.length-1])&&o.pop(),o}(o.contextMenus,r,n)}),n,r,i)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,i),e.on("longpress contextmenu",a)}))},tN=Lr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),nN=function(e){return function(t){return t.translate(-e.left,-e.top)}},oN=function(e){return function(t){return t.translate(e.left,e.top)}},rN=function(e){return function(t,n){return oe(e,(function(e,t){return t(e)}),Kt(t,n))}},iN=function(e,t,n){return e.fold(rN([oN(n),nN(t)]),rN([nN(t)]),rN([]))},aN=function(e,t,n){return e.fold(rN([oN(n)]),rN([]),rN([oN(t)]))},uN=function(e,t,n){return e.fold(rN([]),rN([nN(n)]),rN([oN(t),nN(n)]))},sN=function(e,t,n){var o=e.fold((function(e,t){return{position:V.some("absolute"),left:V.some(e+"px"),top:V.some(t+"px")}}),(function(e,t){return{position:V.some("absolute"),left:V.some(e-n.left+"px"),top:V.some(t-n.top+"px")}}),(function(e,t){return{position:V.some("fixed"),left:V.some(e+"px"),top:V.some(t+"px")}}));return r({right:V.none(),bottom:V.none()},o)},cN=function(e,t,n,o){var r=function(e,r){return function(i,a){var u=e(t,n,o);return r(i.getOr(u.left),a.getOr(u.top))}};return e.fold(r(uN,lN),r(aN,dN),r(iN,fN))},lN=tN.offset,dN=tN.absolute,fN=tN.fixed,mN=function(e,t){var n=Tt(e,t);return S(n)?NaN:parseInt(n,10)},pN=function(e,t,n,o){return function(e,t){var n=e.element,o=mN(n,t.leftAttr),r=mN(n,t.topAttr);return isNaN(o)||isNaN(r)?V.none():V.some(Kt(o,r))}(e,t).fold((function(){return n}),(function(e){return fN(e.left+o.left,e.top+o.top)}))},gN=function(e,t,n,o,r,i){var a=pN(e,t,n,o),u=t.mustSnap?bN(e,t,a,r,i):yN(e,t,a,r,i),s=iN(a,r,i);return function(e,t,n){var o=e.element;Ot(o,t.leftAttr,n.left+"px"),Ot(o,t.topAttr,n.top+"px")}(e,t,s),u.fold((function(){return{coord:fN(s.left,s.top),extra:V.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},hN=function(e,t){!function(e,t){var n=e.element;Dt(n,t.leftAttr),Dt(n,t.topAttr)}(e,t)},vN=function(e,t,n,o){return be(e,(function(e){var r=e.sensor,i=function(e,t,n,o,r,i){var a=aN(e,r,i),u=aN(t,r,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=o}(t,r,e.range.left,e.range.top,n,o);return i?V.some({output:cN(e.output,t,n,o),extra:e.extra}):V.none()}))},bN=function(e,t,n,o,r){var i=t.getSnapPoints(e);return vN(i,n,o,r).orThunk((function(){var e=oe(i,(function(e,t){var i=t.sensor,a=function(e,t,n,o,r,i){var a=aN(e,r,i),u=aN(t,r,i),s=Math.abs(a.left-u.left),c=Math.abs(a.top-u.top);return Kt(s,c)}(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((function(){return{deltas:V.some(a),snap:V.some(t)}}),(function(n){return(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:V.some(a),snap:V.some(t)}:e}))}),{deltas:V.none(),snap:V.none()});return e.snap.map((function(e){return{output:cN(e.output,n,o,r),extra:e.extra}}))}))},yN=function(e,t,n,o,r){var i=t.getSnapPoints(e);return vN(i,n,o,r)},xN=Object.freeze({__proto__:null,snapTo:function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=ot(e.element),a=Vn(i),u=wT(r),s=function(e,t,n){return{coord:cN(e.output,e.output,t,n),extra:e.extra}}(o,a,u),c=sN(s.coord,0,u);Lt(r,c)}}}),wN="data-initial-z-index",CN=function(e,t){e.getSystem().addToGui(t),function(e){ut(e.element).filter(Ke).each((function(t){qt(t,"z-index").each((function(e){Ot(t,wN,e)})),zt(t,"z-index",Ft(e.element,"z-index"))}))}(t)},kN=function(e){!function(e){ut(e.element).filter(Ke).each((function(e){At(e,wN).fold((function(){return Vt(e,"z-index")}),(function(t){return zt(e,"z-index",t)})),Dt(e,wN)}))}(e),e.getSystem().removeFromGui(e)},SN=function(e,t,n){return e.getSystem().build(Hw.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},EN=Er("snaps",[cr("getSnapPoints"),Yu("onSensor"),cr("leftAttr"),cr("topAttr"),Or("lazyViewport",eo),Or("mustSnap",!1)]),ON=[Or("useFixed",q),cr("blockerClass"),Or("getTarget",N),Or("onDrag",R),Or("repositionTarget",!0),Or("onDrop",R),Mr("getBounds",eo),EN],_N=function(e){return(t=qt(e,"left"),n=qt(e,"top"),o=qt(e,"position"),r=function(e,t,n){return("fixed"===n?fN:lN)(parseInt(e,10),parseInt(t,10))},t.isSome()&&n.isSome()&&o.isSome()?V.some(r(t.getOrDie(),n.getOrDie(),o.getOrDie())):V.none()).getOrThunk((function(){var t=Yt(e);return dN(t.left,t.top)}));var t,n,o,r},TN=function(e,t,n,o,r,i,a){return function(e,t,n,o,r){var i=r.bounds,a=aN(t,n,o),u=ps(a.left,i.x,i.x+i.width-r.width),s=ps(a.top,i.y,i.y+i.height-r.height),c=dN(u,s);return t.fold((function(){var e=uN(c,n,o);return lN(e.left,e.top)}),M(c),(function(){var e=iN(c,n,o);return fN(e.left,e.top)}))}(0,t.fold((function(){var e,t,a,u=(e=n,t=i.left,a=i.top,e.fold((function(e,n){return lN(e+t,n+a)}),(function(e,n){return dN(e+t,n+a)}),(function(e,n){return fN(e+t,n+a)}))),s=iN(u,o,r);return fN(s.left,s.top)}),(function(t){var a=gN(e,t,n,i,o,r);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),o,r,a)},AN=function(e,t){return{bounds:e.getBounds(),height:$t(t.element),width:en(t.element)}},RN=function(e,t,n,o,r){var i=n.update(o,r),a=n.getStartData().getOrThunk((function(){return AN(t,e)}));i.each((function(n){!function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=ot(e.element),a=Vn(i),u=wT(r),s=_N(r),c=TN(e,t.snaps,s,a,u,o,n),l=sN(c,0,u);Lt(r,l)}t.onDrag(e,r,o)}(e,t,a,n)}))},DN=function(e,t,n,o){t.each(kN),n.snaps.each((function(t){hN(e,t)}));var r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},MN=function(e){return function(t,n){var o=function(e){n.setStartData(AN(t,e))};return Ji([Qi(Di(),(function(e){n.getStartData().each((function(){return o(e)}))}))].concat(a(e(t,n,o))))}},NN=Object.freeze({__proto__:null,getData:function(e){return V.from(Kt(e.x,e.y))},getDelta:function(e,t){return Kt(t.left-e.left,t.top-e.top)}}),zN=function(e,t,n){return[Qi(ei(),(function(o,r){if(0===r.event.raw.button){r.stop();var i=function(){return DN(o,V.some(s),e,t)},a=Aw(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),RN(o,e,t,NN,n)}},s=SN(o,e.blockerClass,function(e){return Ji([Qi(ei(),e.forceDrop),Qi(oi(),e.drop),Qi(ti(),(function(t,n){e.move(n.event)})),Qi(ni(),e.delayDrop)])}(u));n(o),CN(o,s)}}))]},PN=[].concat(ON,[es("dragger",{handlers:MN(zN)})]),LN=Object.freeze({__proto__:null,getData:function(e){var t=e.raw.touches;return 1===t.length?function(e){var t=e[0];return V.some(Kt(t.clientX,t.clientY))}(t):V.none()},getDelta:function(e,t){return Kt(t.left-e.left,t.top-e.top)}}),FN=function(e,t,n){var o=xc(),r=function(n){DN(n,o.get(),e,t),o.clear()};return[Qi(Yr(),(function(i,a){a.stop();var u=function(){return r(i)},s={drop:u,delayDrop:R,forceDrop:u,move:function(n){RN(i,e,t,LN,n)}},c=SN(i,e.blockerClass,function(e){return Ji([Qi(Yr(),e.forceDrop),Qi(Qr(),e.drop),Qi(Zr(),e.drop),Qi(Xr(),(function(t,n){e.move(n.event)}))])}(s));o.set(c);n(i),CN(i,c)})),Qi(Xr(),(function(n,o){o.stop(),RN(n,e,t,LN,o.event)})),Qi(Qr(),(function(e,t){t.stop(),r(e)})),Qi(Zr(),r)]},BN=PN,qN=[].concat(ON,[es("dragger",{handlers:MN(FN)})]),IN=[].concat(ON,[es("dragger",{handlers:MN((function(e,t,n){return[].concat(a(zN(e,t,n)),a(FN(e,t,n)))}))})]),HN=Object.freeze({__proto__:null,mouse:BN,touch:qN,mouseOrTouch:IN}),VN=Object.freeze({__proto__:null,init:function(){var e=V.none(),t=V.none(),n=M({});return La({readState:n,reset:function(){e=V.none(),t=V.none()},update:function(t,n){return t.getData(n).bind((function(n){return function(t,n){var o=e.map((function(e){return t.getDelta(e,n)}));return e=V.some(n),o}(t,n)}))},getStartData:function(){return t},setStartData:function(e){t=V.some(e)}})}}),jN=$s({branchKey:"mode",branches:HN,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:V.from(e.extra)}}},state:VN,apis:xN}),UN=function(e,t,n,o,r,i){return e.fold((function(){return jN.snap({sensor:dN(n-20,o-20),range:Kt(r,i),output:dN(V.some(n),V.some(o)),extra:{td:t}})}),(function(e){var r=n-20,i=o-20,a=e.element.dom.getBoundingClientRect();return jN.snap({sensor:dN(r,i),range:Kt(40,40),output:dN(V.some(n-a.width/2),V.some(o-a.height/2)),extra:{td:t}})}))},GN=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var r=o.td;(function(e,t){return e.exists((function(e){return tt(e,t)}))})(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}},WN=function(e){return Oh(Eh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:js([jN.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),QC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},$N=function(e,t){var n=Pr([]),o=Pr([]),r=Pr(!1),i=xc(),a=xc(),u=function(e){var n=Zn(e);return UN(d.getOpt(t),e,n.x,n.y,n.width,n.height)},s=function(e){var n=Zn(e);return UN(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=GN((function(){return Q(n.get(),(function(e){return u(e)}))}),i,(function(t){a.get().each((function(n){e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),l=GN((function(){return Q(o.get(),(function(e){return s(e)}))}),a,(function(t){i.get().each((function(n){e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),d=WN(c),f=WN(l),m=ku(d.asSpec()),p=ku(f.asSpec()),g=function(t,n,o,r){var i=o(n);jN.snapTo(t,i);!function(t,n,o,r){var i=n.dom.getBoundingClientRect();Vt(t.element,"display");var a=at(Ue.fromDom(e.getBody())).dom.innerHeight,u=o(i),s=r(i,a);(u||s)&&zt(t.element,"display","none")}(t,n,(function(e){return e[r]<0}),(function(e,t){return e[r]>t}))},h=function(e){return g(m,e,u,"top")},v=function(e){return g(p,e,s,"bottom")};Dn().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){r.get()||(sd(t,m),sd(t,p),r.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((function(t){n.set(t.upOrLeftCells),o.set(t.downOrRightCells),h(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(h),a.get().each(v)})),e.on("TableSelectionClear",(function(){r.get()&&(dd(m),dd(p),r.set(!1)),i.clear(),a.clear()})))},KN=function(e,t,n){var o,r=null!==(o=t.delimiter)&&void 0!==o?o:"\u203a",i=function(t){return oe(t,(function(t,o,i){var a=function(t,o,r){return Eh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[yu(t)],action:function(t){e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:js([Hy(n.isDisabled),qy()])})}(o.name,o.element,i);return 0===i?t.concat([a]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[yu(" ".concat(r," "))]},a])}),[])};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:js([Eg.config({mode:"flow",selector:"div[role=button]"}),vm.config({disabled:n.isDisabled}),qy(),Kw.config({}),zg.config({}),Pg("elementPathEvents",[aa((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Eg.focusIn(t)})),e.on("NodeChange",(function(n){var o=function(t){for(var n,o=[],r=t.length;r-- >0;){var i=t[r];if(1===i.nodeType&&"BR"!==(n=i).nodeName&&!n.getAttribute("data-mce-bogus")&&"bookmark"!==n.getAttribute("data-mce-type")){var a=e.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i});if(a.isDefaultPrevented()||o.push({name:a.name,element:i}),a.isPropagationStopped())break}}return o}(n.parents),r=o.length>0?i(o):[];zg.set(t,r)}))}))])]),components:[]}};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(UR||(UR={}));var JN=function(e,t,n){var o=Ue.fromDom(e.getContainer()),r=function(e,t,n,o,r){var i={};return i.height=LD(o+t.top,Yh(e),Qh(e)),n===UR.Both&&(i.width=LD(r+t.left,Jh(e),Xh(e))),i}(e,t,n,Wt(o),Zt(o));we(r,(function(e,t){return zt(o,t,PD(e))})),function(e){e.dispatch("ResizeEditor")}(e)},YN=function(e,t,n,o){var r=Kt(20*n,20*o);return JN(e,r,t),V.some(!0)},XN=function(e,t){var n=function(e){var t=kv(e);return!1===t?UR.None:"both"===t?UR.Both:UR.Vertical}(e);return n===UR.None?V.none():V.some(Lh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[jN.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,o,r){return JN(e,r,n)},blockerClass:"tox-blocker"}),Eg.config({mode:"special",onLeft:function(){return YN(e,n,-1,0)},onRight:function(){return YN(e,n,1,0)},onUp:function(){return YN(e,n,0,-1)},onDown:function(){return YN(e,n,0,1)}}),Kw.config({}),Ig.config({})]},t.icons))},QN=function(e,t){var n=function(){var n=[];return wv(e)&&n.push(KN(e,{},t)),e.hasPlugin("wordcount")&&n.push(function(e,t){var n=function(e,n,o){return zg.set(e,[yu(t.translate(["{0} "+o,n[o]]))])};return Eh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:js([Hy(t.isDisabled),qy(),Kw.config({}),zg.config({}),Wd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Pg("wordcount-events",[ca((function(e){var t=Wd.getValue(e),o="words"===t.mode?"characters":"words";Wd.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),aa((function(t){e.on("wordCountUpdate",(function(e){var o=Wd.getValue(t).mode;Wd.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:i({},Ci(),["disabling","alloy.base.behaviour","wordcount-events"])})}(e,t)),Cv(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":_h.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:js([Ig.config({})])}]}),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var o=n(),r=XN(e,t);return o.concat(r.toArray())}()}},ZN=function(e){return e.get().getOrDie("UI has not been rendered")},ez=function(e){var t=e.inline,n=t?VD:ND,o=Fv(e)?YT:yT,a=xc(),u=xc(),s=xc(),c=xc(),l=Dn().deviceType.isTouch()?["tox-platform-touch"]:[],d=Mv(e),f=rv(e),m=Oh({dom:{tag:"div",classes:["tox-anchorbar"]}}),p=function(){return u.get().bind(OR.getHeader)},g=function(){return oo.fromOption(a.get(),"UI has not been rendered")},h=function(){return u.get().bind((function(e){return OR.getToolbar(e)})).getOrDie("Could not find more toolbar element")},v=function(){return u.get().bind((function(e){return OR.getThrobber(e)})).getOrDie("Could not find throbber element")},b=iT(g,e,(function(){return u.get().bind((function(e){return m.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),y=function(){var n=function(){var t={attributes:i({},Uc,d?lc.BottomToTop:lc.TopToBottom)},n=OR.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:b,onEscape:function(){e.focus()}}),o=OR.parts.toolbar(r({dom:{tag:"div",classes:["tox-toolbar"]},getSink:g,providers:b.shared.providers,onEscape:function(){e.focus()},type:f,lazyToolbar:h,lazyHeader:function(){return p().getOrDie("Could not find header element")}},t)),a=OR.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:b.shared.providers,onEscape:function(){e.focus()},type:f}),u=Dv(e),s=Av(e),c=Ov(e);return OR.parts.header({dom:r({tag:"div",classes:["tox-editor-header"]},t),components:ae([c?[n]:[],u?[a]:s?[o]:[],zv(e)?[]:[m.asSpec()]]),sticky:Fv(e),editor:e,sharedBackstage:b.shared})}(),o={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[OR.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),OR.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},a=OR.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:b}),c=xv(e)&&!t?V.some(QN(e,b.shared.providers)):V.none(),v=ae([d?[]:[n],t?[]:[o],d?[n]:[]]),y=ae([[{dom:{tag:"div",classes:["tox-editor-container"]},components:v}],t?[]:c.toArray(),[a]]),x=Lv(e),w=r(r({role:"application"},_h.isRtl()?{dir:"rtl"}:{}),x?{"aria-hidden":"true"}:{}),C=ku(OR.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(l),styles:r({visibility:"hidden"},x?{opacity:"0",border:"0"}:{}),attributes:w},components:y,behaviours:js([qy(),vm.config({disableClass:"tox-tinymce--disabled"}),Eg.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),k=Vw(C);return u.set(C),s.set(k),{mothership:k,outerContainer:C}},x=function(t){var n=PD(FD(e)),o=PD(function(e){return BD(e).getOr(Kh(e))}(e));return e.inline||(Ht("div","width",o)&&zt(t.element,"width",o),Ht("div","height",n)?zt(t.element,"height",n):zt(t.element,"height","400px")),n};return{getMothership:function(){return ZN(s)},getUiMothership:function(){return ZN(c)},backstage:b,renderUI:function(){var t=y(),i=t.mothership,u=t.outerContainer,s=function(){var t=Pv(e),n=tt(kt(),t)&&"grid"===Ft(t,"display"),i={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l),attributes:r({},_h.isRtl()?{dir:"rtl"}:{})},behaviours:js([ed.config({useFixed:function(){return o.isDocked(p)}})])},u={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ji([Qi(Mi(),(function(e){zt(e.element,"width",document.body.clientWidth+"px")}))])},s=ku(wo(i,n?u:{})),d=Vw(s);return a.set(s),c.set(d),{sink:s,uiMothership:d}}(),d=s.uiMothership,m=s.sink;Ce(iv(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var h=e.ui.registry.getAll(),w=h.buttons,C=h.menuItems,k=h.contextToolbars,S=h.sidebars,E=Rv(e),O={menuItems:C,menus:Bv(e),menubar:dv(e),toolbar:E.getOrThunk((function(){return fv(e)})),allowToolbarGroups:f===Qm.floating,buttons:w,sidebar:S};!function(t){e.addShortcut("alt+F9","focus menubar",(function(){OR.focusMenubar(t)})),e.addShortcut("alt+F10","focus toolbar",(function(){OR.focusToolbar(t)})),e.addCommand("ToggleToolbarDrawer",(function(){OR.toggleToolbarDrawer(t)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return OR.isToolbarDrawerToggled(t)}))}(u),function(e,t,n){var o=function(e,o){Z([t,n],(function(t){t.broadcastEvent(e,o)}))},r=function(e,o){Z([t,n],(function(t){t.broadcastOn([e],o)}))},i=function(e){return r(_d(),{target:e.target})},a=Wn(),u=Cc(a,"touchstart",i),s=Cc(a,"touchmove",(function(e){return o(Ai(),e)})),c=Cc(a,"touchend",(function(e){return o(Ri(),e)})),l=Cc(a,"mousedown",i),d=Cc(a,"mouseup",(function(e){0===e.raw.button&&r(Ad(),{target:e.target})})),f=function(e){return r(_d(),{target:Ue.fromDom(e.target)})},m=function(e){0===e.button&&r(Ad(),{target:Ue.fromDom(e.target)})},p=function(){Z(e.editorManager.get(),(function(t){e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},g=function(e){return o(Di(),Sc(e))},h=function(e){r(Td(),{}),o(Mi(),Sc(e))},v=function(){return r(Td(),{})},b=function(t){t.state&&r(_d(),{target:Ue.fromDom(e.getContainer())})},y=function(e){r(_d(),{target:Ue.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(function(){e.on("click",f),e.on("tap",f),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",g),e.on("ResizeWindow",h),e.on("ResizeEditor",v),e.on("AfterProgressState",b),e.on("DismissPopups",y)})),e.on("remove",(function(){e.off("click",f),e.off("tap",f),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",g),e.off("ResizeWindow",h),e.off("ResizeEditor",v),e.off("AfterProgressState",b),e.off("DismissPopups",y),l.unbind(),u.unbind(),s.unbind(),c.unbind(),d.unbind()})),e.on("detach",(function(){gd(t),gd(n),t.destroy(),n.destroy()}))}(e,i,d),o.setup(e,b.shared,p),DM(e,b),eN(e,g,b),function(e){var t=e.ui.registry.getAll().sidebars;Z(ye(t),(function(n){var o=t[n],r=function(){return Me(V.from(e.queryCommandValue("ToggleSidebar")),n)};e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:function(t){var n=function(){return t.setActive(r())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))}(e),BA(e,v,b.shared),mM(e,k,m,{backstage:b}),$N(e,m);var _={mothership:i,uiMothership:d,outerContainer:u,sink:m},T={targetNode:e.getElement(),height:x(u)};return n.render(e,_,O,b,T)}}},tz=M([cr("lazySink"),br("dragBlockClass"),Mr("getBounds",eo),Or("useTabstopAt",I),Or("eventOrder",{}),$d("modalBehaviours",[Eg]),Xu("onExecute"),Zu("onEscape")]),nz={sketch:N},oz=M([Of({name:"draghandle",overrides:function(e,t){return{behaviours:js([jN.config({mode:"mouse",getTarget:function(e){return Au(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Sf({schema:[cr("dom")],name:"title"}),Sf({factory:nz,schema:[cr("dom")],name:"close"}),Sf({factory:nz,schema:[cr("dom")],name:"body"}),Of({factory:nz,schema:[cr("dom")],name:"footer"}),Ef({factory:{sketch:function(e,t){return r(r({},e),{},{dom:t.dom,components:t.components})}},schema:[Or("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Or("components",[])],name:"blocker"})]),rz=Zf({name:"ModalDialog",configFields:tz(),partFields:oz(),factory:function(e,t,n,o){var a=xc(),u=ba("modal-events"),s=r(r({},e.eventOrder),{},i({},Ni(),[u].concat(e.eventOrder["alloy.system.attached"]||[])));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){a.set(t);var n=e.lazySink(t).getOrDie(),i=o.blocker(),u=n.getSystem().build(r(r({},i),{},{components:i.components.concat([Su(t)]),behaviours:js([Ig.config({}),Pg("dialog-blocker-events",[ia(ii(),(function(){Eg.focusIn(t)}))])])}));sd(n,u),Eg.focusIn(t)},hide:function(e){a.clear(),ut(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){dd(e)}))}))},getBody:function(t){return qf(t,e,"body")},getFooter:function(t){return qf(t,e,"footer")},setIdle:function(e){zA.unblock(e)},setBusy:function(e,t){zA.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Jd(e.modalBehaviours,[zg.config({}),Eg.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),zA.config({getRoot:a.get}),Pg(u,[aa((function(t){!function(e,t){var n=At(e,"id").fold((function(){var e=ba("dialog-label");return Ot(t,"id",e),e}),N);Ot(e,"aria-labelledby",n)}(t.element,qf(t,e,"title").element),function(e,t){var n=V.from(Tt(e,"id")).fold((function(){var e=ba("dialog-describe");return Ot(t,"id",e),e}),N);Ot(e,"aria-describedby",n)}(t.element,qf(t,e,"body").element)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),iz=Bo([bb,yb].concat(py)),az=$o,uz=[Gb("button"),Mb,Rr("align","end",["start","end"]),Ib,qb,Cr("buttonType",["primary","secondary"])],sz=[].concat(uz,[wb]),cz=[mr("type",["submit","cancel","custom"])].concat(a(sz)),lz=[mr("type",["menu"]),Db,Nb,Mb,vr("items",iz)].concat(uz),dz=ir("type",{submit:cz,cancel:cz,custom:cz,menu:lz}),fz=[bb,wb,mr("level",["info","warn","error","success"]),kb,Or("url","")],mz=Bo(fz),pz=[bb,wb,qb,Gb("button"),Mb,Bb,Cr("buttonType",["primary","secondary","toolbar"]),Ib],gz=Bo(pz),hz=[bb,yb],vz=hz.concat([zb]),bz=hz.concat([xb,qb]),yz=Bo(bz),xz=$o,wz=vz.concat([Hb("auto")]),Cz=Bo(wz),kz=Vo([Sb,wb,kb]),Sz=Bo(vz),Ez=Wo,Oz=Bo(vz),_z=Wo,Tz=hz.concat([Ar("tag","textarea"),fr("scriptId"),fr("scriptUrl"),function(e,t){return _r(e,t,Yo)}("settings",void 0)]),Az=hz.concat([Ar("tag","textarea"),pr("init")]),Rz=Zo((function(e){return tr("customeditor.old",Fo(Az),e).orThunk((function(){return tr("customeditor.new",Fo(Tz),e)}))})),Dz=Wo,Mz=Bo(vz),Nz=qo(Do),zz=function(e){return[bb,dr("columns"),e]},Pz=[bb,fr("html"),Rr("presets","presentation",["presentation","document"])],Lz=Bo(Pz),Fz=vz.concat([Dr("sandboxed",!0)]),Bz=Bo(Fz),qz=Wo,Iz=Bo(hz.concat([wr("height")])),Hz=Bo([fr("url"),xr("zoom"),xr("cachedWidth"),xr("cachedHeight")]),Vz=vz.concat([wr("inputMode"),wr("placeholder"),Dr("maximized",!1),qb]),jz=Bo(Vz),Uz=Wo,Gz=function(e){return[bb,xb,e]},Wz=[wb,Sb],$z=[wb,vr("items",function(e,t){return function(e,t){var n=tn(t);return{extract:function(e,t){return n().extract(e,t)},toString:function(){return n().toString()}}}(0,t)}(0,(function(){return Kz})))],Kz=Io([Bo(Wz),Bo($z)]),Jz=vz.concat([vr("items",Kz),qb]),Yz=Bo(Jz),Xz=Wo,Qz=vz.concat([hr("items",[wb,Sb]),Tr("size",1),qb]),Zz=Bo(Qz),eP=Wo,tP=vz.concat([Dr("constrain",!0),qb]),nP=Bo(tP),oP=Bo([fr("width"),fr("height")]),rP=hz.concat([xb,Tr("min",0),Tr("max",0)]),iP=Bo(rP),aP=Go,uP=[bb,vr("header",Wo),vr("cells",qo(Wo))],sP=Bo(uP),cP=vz.concat([wr("placeholder"),Dr("maximized",!1),qb]),lP=Bo(cP),dP=Wo,fP=vz.concat([Rr("filetype","file",["image","media","file"]),qb]),mP=Bo(fP),pP=Bo([Sb,Vb]),gP=function(e){return ar("items","items",{tag:"required",process:{}},qo(Zo((function(t){return tr("Checking item of ".concat(e),hP,t).fold((function(e){return oo.error(rr(e))}),(function(e){return oo.value(e)}))}))))},hP=Po((function(){return Qo("type",{alertbanner:mz,bar:Bo((e=gP("bar"),[bb,e])),button:gz,checkbox:yz,colorinput:Sz,colorpicker:Oz,dropzone:Mz,grid:Bo(zz(gP("grid"))),iframe:Bz,input:jz,listbox:Yz,selectbox:Zz,sizeinput:nP,slider:iP,textarea:lP,urlinput:mP,customeditor:Rz,htmlpanel:Lz,imagepreview:Iz,collection:Cz,label:Bo(Gz(gP("label"))),table:sP,panel:bP});var e})),vP=[bb,Or("classes",[]),vr("items",hP)],bP=Bo(vP),yP=[Gb("tab"),Cb,vr("items",hP)],xP=[bb,hr("tabs",yP)],wP=Bo(xP),CP=sz,kP=dz,SP=Bo([fr("title"),lr("body",Qo("type",{panel:bP,tabpanel:wP})),Ar("size","normal"),vr("buttons",kP),Or("initialData",{}),Mr("onAction",R),Mr("onChange",R),Mr("onSubmit",R),Mr("onClose",R),Mr("onCancel",R),Mr("onTabChange",R)]),EP=Bo([mr("type",["cancel","custom"])].concat(a(CP))),OP=Bo([fr("title"),fr("url"),xr("height"),xr("width"),Sr("buttons",EP),Mr("onAction",R),Mr("onCancel",R),Mr("onClose",R),Mr("onMessage",R)]),_P=function e(t){return y(t)?[t].concat(ue(Te(t),e)):w(t)?ue(t,e):[]},TP=function(e){return b(e.type)&&b(e.name)},AP={checkbox:xz,colorinput:Ez,colorpicker:_z,dropzone:Nz,input:Uz,iframe:qz,imagepreview:Hz,selectbox:eP,sizeinput:oP,slider:aP,listbox:Xz,size:oP,textarea:dP,urlinput:pP,customeditor:Dz,collection:kz,togglemenuitem:az},RP=function(e){return te(_P(e),TP)},DP=function(e){var t=RP(e),n=ue(t,(function(e){return function(e){return V.from(AP[e.type])}(e).fold((function(){return[]}),(function(t){return[lr(e.name,t)]}))}));return Bo(n)},MP=function(e){return{internalDialog:nr(tr("dialog",SP,e)),dataValidator:DP(e),initialData:e.initialData}},NP={open:function(e,t){var n=MP(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(nr(tr("dialog",OP,t)))},redial:function(e){return MP(e)}},zP=function(e){var t=[],n={};return we(e,(function(e,o){e.fold((function(){t.push(o)}),(function(e){n[o]=e}))})),t.length>0?oo.error(t):oo.value(n)},PP=function(e,t,n){var o=Oh($S.sketch((function(o){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Q(e.items,(function(e){return WO(o,e,t,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:js([Eg.config({mode:"acyclic",useTabstopAt:L(kE)}),nE(o),uE(o,{postprocess:function(e){return zP(e).fold((function(e){return console.error(e),{}}),N)}})])}},LP=Qf({name:"TabButton",configFields:[Or("uid",void 0),cr("value"),ar("dom","dom",Eo((function(){return{attributes:{role:"tab",id:ba("aria"),"aria-selected":"false"}}})),jo()),br("action"),Or("domModification",{}),$d("tabButtonBehaviours",[Ig,Eg,Wd]),cr("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:eh(e.action),behaviours:Jd(e.tabButtonBehaviours,[Ig.config({}),Eg.config({mode:"execution",useSpace:!0,useEnter:!0}),Wd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),FP=M([cr("tabs"),cr("dom"),Or("clickToDismiss",!1),$d("tabbarBehaviours",[Tm,Eg]),Ku(["tabClass","selectedClass"])]),BP=_f({factory:LP,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Tm.dehighlight(e,t),Ui(e,Ii(),{tabbar:e,button:t})},n=function(e,t){Tm.highlight(e,t),Ui(e,qi(),{tabbar:e,button:t})};return{action:function(o){var r=o.getSystem().getByUid(e.uid).getOrDie(),i=Tm.isHighlighted(r,o);(i&&e.clickToDismiss?t:i?R:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),qP=M([BP]),IP=Zf({name:"Tabbar",configFields:FP(),partFields:qP(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Jd(e.tabbarBehaviours,[Tm.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Ot(t.element,"aria-selected","true")},onDehighlight:function(e,t){Ot(t.element,"aria-selected","false")}}),Eg.config({mode:"flow",getInitial:function(e){return Tm.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),HP=Qf({name:"Tabview",configFields:[$d("tabviewBehaviours",[zg])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Jd(e.tabviewBehaviours,[zg.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),VP=M([Or("selectFirst",!0),Yu("onChangeTab"),Yu("onDismissTab"),Or("tabs",[]),$d("tabSectionBehaviours",[])]),jP=Sf({factory:IP,schema:[cr("dom"),gr("markers",[cr("tabClass"),cr("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),UP=Sf({factory:HP,name:"tabview"}),GP=M([jP,UP]),WP=Zf({name:"TabSection",configFields:VP(),partFields:GP(),factory:function(e,t,n,o){var r=function(t,n){Bf(t,e,"tabbar").each((function(e){n(e).each(Gi)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Kd(e.tabSectionBehaviours),events:Ji(ae([e.selectFirst?[aa((function(e,t){r(e,Tm.getFirst)}))]:[],[Qi(qi(),(function(t,n){!function(t){var n=Wd.getValue(t);Bf(t,e,"tabview").each((function(o){var r=re(e.tabs,(function(e){return e.value===n}));r.each((function(n){var r=n.view();At(t.element,"id").each((function(e){Ot(o.element,"aria-labelledby",e)})),zg.set(o,r),e.onChangeTab(o,t,r)}))}))}(n.event.button)})),Qi(Ii(),(function(t,n){var o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:function(t){return Bf(t,e,"tabview").map((function(e){return zg.contents(e)})).getOr([])},showTab:function(e,t){r(e,(function(e){var n=Tm.getCandidates(e);return re(n,(function(e){return Wd.getValue(e)===t})).filter((function(t){return!Tm.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),$P=function(e,t){zt(e,"height",t+"px"),zt(e,"flex-basis",t+"px")},KP=function(e,t,n){Au(e,'[role="dialog"]').each((function(e){Du(e,'[role="tablist"]').each((function(o){n.get().map((function(n){return zt(t,"height","0"),zt(t,"flex-basis","0"),Math.min(n,function(e,t,n){var o,r=it(e).dom,i=Au(e,".tox-dialog-wrap").getOr(e);o="fixed"===Ft(i,"position")?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);var a=Wt(t),u=t.dom.offsetLeft>=n.dom.offsetLeft+Zt(n)?Math.max(Wt(n),a):a,s=parseInt(Ft(e,"margin-top"),10)||0,c=parseInt(Ft(e,"margin-bottom"),10)||0;return o-(Wt(e)+s+c-u)}(e,t,o))})).each((function(e){$P(t,e)}))}))}))},JP=function(e){return Du(e,'[role="tabpanel"]')},YP=function(e){var t=function(){var t=xc(),n=[aa((function(n){var o=n.element;JP(o).each((function(r){zt(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((function(n){var o=function(e,t,n){return Q(e,(function(o,r){zg.set(n,e[r].view());var i=t.dom.getBoundingClientRect();return zg.set(n,[]),i.height}))}(e,r,n),i=function(e){return ge(me(e,(function(e,t){return e>t?-1:e<t?1:0})))}(o);i.fold(t.clear,t.set)})),KP(o,r,t),Vt(r,"visibility"),function(e,t){ge(e).each((function(e){return WP.showTab(t,e.value)}))}(e,n),requestAnimationFrame((function(){KP(o,r,t)}))}))})),Qi(Mi(),(function(e){var n=e.element;JP(n).each((function(e){KP(n,e,t)}))})),Qi(sC,(function(e,n){var o=e.element;JP(o).each((function(e){var n=Zs(vt(e));zt(e,"visibility","hidden");var r=qt(e,"height").map((function(e){return parseInt(e,10)}));Vt(e,"height"),Vt(e,"flex-basis");var i=e.dom.getBoundingClientRect().height;r.forall((function(e){return i>e}))?(t.set(i),KP(o,e,t)):r.each((function(t){$P(e,t)})),Vt(e,"visibility"),n.each(Xs)}))}))];return{extraEvents:n,selectFirst:!1}}();return{smartTabHeight:t,naiveTabHeight:{extraEvents:[],selectFirst:!0}}},XP="send-data-to-section",QP="send-data-to-view",ZP=function(e,t,n){var o=Pr({}),r=function(e){var t=Wd.getValue(e),n=zP(t).getOr({}),r=o.get(),i=wo(r,n);o.set(i)},i=function(e){var t=o.get();Wd.setValue(e,t)},a=Pr(null),u=Q(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[yu(n.shared.providers.translate(e.title))],view:function(){return[$S.sketch((function(o){return{dom:{tag:"div",classes:["tox-form"]},components:Q(e.items,(function(e){return WO(o,e,t,n)})),formBehaviours:js([Eg.config({mode:"acyclic",useTabstopAt:L(kE)}),Pg("TabView.form.events",[aa(i),ua(r)]),Js.config({channels:Ir([{key:XP,value:{onReceive:r}},{key:QP,value:{onReceive:i}}])})])}}))]}}})),s=YP(u).smartTabHeight;return WP.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var o=Wd.getValue(t);Ui(e,uC,{name:o,oldName:a.get()}),a.set(o)},tabs:u,components:[WP.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IP.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:js([Kw.config({})])}),WP.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:js([Pg("tabpanel",s.extraEvents),Eg.config({mode:"acyclic"}),om.config({find:function(e){return ge(WP.getViewItems(e))}}),cE(V.none(),(function(e){return e.getSystem().broadcastOn([XP],{}),o.get()}),(function(e,t){o.set(t),e.getSystem().broadcastOn([QP],{})}))])})},eL=ba("update-dialog"),tL=ba("update-title"),nL=ba("update-body"),oL=ba("update-footer"),rL=ba("body-send-message"),iL=function(e,t,n,o,i){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:r(r({},n.map((function(e){return{id:e}})).getOr({})),i?{"aria-live":"polite"}:{})},components:[],behaviours:js([oE(0),sD.config({channel:"".concat(nL,"-").concat(t),updateState:function(e,t){return V.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){var t=e.body;return"tabpanel"===t.type?[ZP(t,e.initialData,o)]:[PP(t,e.initialData,o)]},initialData:e})])}},aL=Hh.deviceType.isTouch(),uL=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},sL=function(e,t){return rz.parts.close(Eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:js([Kw.config({})])}))},cL=function(){return rz.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},lL=function(e,t){return rz.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:PA("<p>".concat(t.translate(e),"</p>"))}]}]})},dL=function(e){return rz.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},fL=function(e,t){return[Hw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Hw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},mL=function(e){var t,n="tox-dialog",o=n+"-wrap",u=o+"__backdrop",s=n+"__disable-scroll";return rz.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),V.some(!0)},useTabstopAt:function(e){return!kE(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:r({position:"relative"},e.extraStyles)},components:[e.header,e.body].concat(a(e.footer.toArray())),parts:{blocker:{dom:PA('<div class="'.concat(o,'"></div>')),components:[{dom:{tag:"div",classes:aL?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:o,modalBehaviours:js([Ig.config({}),Pg("dialog-events",e.dialogEvents.concat([ia(ii(),(function(e,t){Eg.focusIn(e)}))])),Pg("scroll-lock",[aa((function(){Za(kt(),s)})),ua((function(){eu(kt(),s)}))])].concat(a(e.extraBehaviours))),eventOrder:r((t={},i(t,Ci(),["dialog-events"]),i(t,Ni(),["scroll-lock","dialog-events","alloy.base.behaviour"]),i(t,zi(),["alloy.base.behaviour","dialog-events","scroll-lock"]),t),e.eventOrder)})},pL=function(e){return Eh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Lh("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){ji(e,nC)}})},gL=function(e,t,n,o){return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:r({},n.map((function(e){return{id:e}})).getOr({}))},components:[],behaviours:js([sD.config({channel:"".concat(tL,"-").concat(t),initialData:e,renderComponents:function(e){return[yu(o.translate(e.title))]}})])}},hL=function(){return{dom:PA('<div class="tox-dialog__draghandle"></div>')}},vL=function(e,t,n){return function(e,t,n){var o=rz.parts.title(gL(e,t,V.none(),n)),r=rz.parts.draghandle(hL()),i=rz.parts.close(pL(n)),a=[o].concat(e.draggable?[r]:[]).concat([i]);return Hw.sketch({dom:PA('<div class="tox-dialog__header"></div>'),components:a})}({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers)},bL=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:PA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},yL=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){rz.setBusy(e(),(function(e,o){return bL(n.message,o,t)}))},onUnblock:function(){rz.setIdle(e())}}},xL=function(e,t,n,o){var u;return ku(mL(r(r({},e),{},{lazySink:o.shared.getSink,extraBehaviours:[sD.config({channel:"".concat(eL,"-").concat(e.id),updateState:function(e,t){return V.some(t)},initialData:t}),dE({})].concat(a(e.extraBehaviours)),onEscape:function(e){ji(e,nC)},dialogEvents:n,eventOrder:(u={},i(u,wi(),[sD.name(),Js.name()]),i(u,Ni(),["scroll-lock",sD.name(),"messages","dialog-events","alloy.base.behaviour"]),i(u,zi(),["alloy.base.behaviour","dialog-events","messages",sD.name(),"scroll-lock"]),u)})))},wL=function(e){return Q(e,(function(e){return"menu"===e.type?function(e){var t=Q(e.items,(function(e){var t=Pr(!1);return r(r({},e),{},{storage:t})}));return r(r({},e),{},{items:t})}(e):e}))},CL=function(e){return oe(e,(function(e,t){return"menu"===t.type?oe(t.items,(function(e,t){return e[t.name]=t.storage,e}),e):e}),{})},kL=function(e,t){return[na(ii(),CE),e(tC,(function(e,n){t.onClose(),n.onClose()})),e(nC,(function(e,t,n,o){t.onCancel(e),ji(o,tC)})),Qi(aC,(function(e,n){return t.onUnblock()})),Qi(iC,(function(e,n){return t.onBlock(n.event)}))]},SL=function(e,t){var n=function(t,n){return Qi(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))},o=function(e,t){sD.getState(e).get().each((function(n){t(n,e)}))};return[].concat(a(kL(n,t)),[n(oC,(function(e,t,n){t.onAction(e,{name:n.name})}))])},EL=function(e,t,n){var o=function(t,n){return Qi(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))},r=function(e,t){sD.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return[].concat(a(kL(o,t)),[o(rC,(function(e,t){return t.onSubmit(e)})),o(eC,(function(e,t,n){t.onChange(e,{name:n.name})})),o(oC,(function(e,t,o,r){var i=function(){return Eg.focusIn(r)},a=function(e){return Rt(e,"disabled")||At(e,"aria-disabled").exists((function(e){return"true"===e}))},u=vt(r.element),s=Zs(u);t.onAction(e,{name:o.name,value:o.value}),Zs(u).fold(i,(function(e){a(e)||s.exists((function(t){return nt(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!nt(t.element,e)})).each(i)}))})),o(uC,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),ua((function(t){var n=e();Wd.setValue(t,n.getData())}))])},OL=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),o=ee(n,(function(e){return"start"===e.align})),r=function(e,t){return Hw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-".concat(e)]},components:Q(t,(function(e){return e.memento.asSpec()}))})};return[r("start",o.pass),r("end",o.fail)]},_L=function(e,t,n){return{dom:PA('<div class="tox-dialog__footer"></div>'),components:[],behaviours:js([sD.config({channel:"".concat(oL,"-").concat(t),initialData:e,updateState:function(e,t){var o=Q(t.buttons,(function(e){var t=Oh(function(e,t){return TO(e,e.type,t)}(e,n));return{name:e.name,align:e.align,memento:t}}));return V.some({lookupByName:function(t){return function(e,t,n){return re(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}(e,o,t)},footerButtons:o})},renderComponents:OL})])}},TL=function(e,t,n){return rz.parts.footer(_L(e,t,n))},AL=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=om.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return $S.getField(n,t).orThunk((function(){var n=e.getFooter();return sD.getState(n).get().bind((function(e){return e.lookupByName(t)}))}))}return V.none()},RL=function(e,t,n){var o=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:function(){var t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,i=Wd.getValue(o),a=Ce(n,(function(e){return e.get()}));return r(r({},i),a)},setData:function(t){o((function(o){var r=i.getData(),a=wo(r,t),u=function(e,t){var n=e.getRoot();return sD.getState(n).get().map((function(e){return nr(tr("data",e.dataValidator,t))})).getOr(t)}(e,a),s=e.getFormWrapper();Wd.setValue(s,u),we(n,(function(e,t){Re(a,t)&&e.set(a[t])}))}))},setEnabled:function(t,n){AL(e,t).each(n?vm.enable:vm.disable)},focus:function(t){AL(e,t).each(Ig.focus)},block:function(e){if(!b(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((function(t){Ui(t,iC,{message:e})}))},unblock:function(){o((function(e){ji(e,aC)}))},showTab:function(t){o((function(n){var o=e.getBody();sD.getState(o).get().exists((function(e){return e.isTabPanel()}))&&om.getCurrent(o).each((function(e){WP.showTab(e,t)}))}))},redial:function(n){o((function(o){var r=e.getId(),a=t(n);o.getSystem().broadcastOn(["".concat(eL,"-").concat(r)],a),o.getSystem().broadcastOn(["".concat(tL,"-").concat(r)],a.internalDialog),o.getSystem().broadcastOn(["".concat(nL,"-").concat(r)],a.internalDialog),o.getSystem().broadcastOn(["".concat(oL,"-").concat(r)],a.internalDialog),i.setData(a.initialData)}))},close:function(){o((function(e){ji(e,tC)}))}};return i},DL=function(e,t,n){var o=ba("dialog"),r=e.internalDialog,i=vL(r.title,o,n),a=function(e,t,n){var o=iL(e,t,V.none(),n,!1);return rz.parts.body(o)}({body:r.body,initialData:r.initialData},o,n),u=wL(r.buttons),s=CL(u),c=TL({buttons:u},o,n),l=EL((function(){return g}),yL((function(){return m}),n.shared.providers,t),n.shared.getSink),d=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(r.size),f={id:o,header:i,body:a,footer:V.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},m=xL(f,e,l,n),p={getId:M(o),getRoot:M(m),getBody:function(){return rz.getBody(m)},getFooter:function(){return rz.getFooter(m)},getFormWrapper:function(){var e=rz.getBody(m);return om.getCurrent(e).getOr(e)}},g=RL(p,t.redial,s);return{dialog:m,instanceApi:g}},ML=function(e,t,n,o){var r,a,u=ba("dialog"),s=ba("dialog-label"),c=ba("dialog-content"),l=e.internalDialog,d=Oh(function(e,t,n,o){return Hw.sketch({dom:PA('<div class="tox-dialog__header"></div>'),components:[gL(e,t,V.some(n),o),hL(),pL(o)],containerBehaviours:js([jN.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Mu(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}({title:l.title,draggable:!0},u,s,n.shared.providers)),f=Oh(function(e,t,n,o,r){return iL(e,t,V.some(n),o,r)}({body:l.body,initialData:l.initialData},u,c,n,o)),m=wL(l.buttons),p=CL(m),g=Oh(function(e,t,n){return _L(e,t,n)}({buttons:m},u,n)),h=EL((function(){return b}),{onBlock:function(e){zA.block(v,(function(t,o){return bL(e.message,o,n.shared.providers)}))},onUnblock:function(){zA.unblock(v)},onClose:function(){return t.closeWindow()}},n.shared.getSink),v=ku({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(r={role:"dialog"},i(r,"aria-labelledby",s),i(r,"aria-describedby",c),r)},eventOrder:(a={},i(a,wi(),[sD.name(),Js.name()]),i(a,Ci(),["execute-on-form"]),i(a,Ni(),["reflecting","execute-on-form"]),a),behaviours:js([Eg.config({mode:"cyclic",onEscape:function(e){return ji(e,tC),V.some(!0)},useTabstopAt:function(e){return!kE(e)&&("button"!==We(e)||"disabled"!==Tt(e,"disabled"))}}),sD.config({channel:"".concat(eL,"-").concat(u),updateState:function(e,t){return V.some(t)},initialData:e}),Ig.config({}),Pg("execute-on-form",h.concat([ia(ii(),(function(e,t){Eg.focusIn(e)}))])),zA.config({getRoot:function(){return V.some(v)}}),zg.config({}),dE({})]),components:[d.asSpec(),f.asSpec(),g.asSpec()]}),b=RL({getId:M(u),getRoot:M(v),getFooter:function(){return g.get(v)},getBody:function(){return f.get(v)},getFormWrapper:function(){var e=f.get(v);return om.getCurrent(e).getOr(e)}},t.redial,p);return{dialog:v,instanceApi:b}},NL=tinymce.util.Tools.resolve("tinymce.util.URI"),zL=["insertContent","setContent","execCommand","close","block","unblock"],PL=function(e){return y(e)&&-1!==zL.indexOf(e.mceAction)},LL=function(e,t,n,o){var a=ba("dialog"),u=vL(e.title,a,o),s=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[xE({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:js([Kw.config({}),Ig.config({})])})]}],behaviours:js([Eg.config({mode:"acyclic",useTabstopAt:L(kE)})])};return rz.parts.body(t)}(e),c=e.buttons.bind((function(e){return 0===e.length?V.none():V.some(TL({buttons:e},a,o))})),l=SL((function(){return x}),yL((function(){return v}),o.shared.providers,t)),d=r(r({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new NL(e.url,{base_uri:new NL(window.location.href)}),p="".concat(m.protocol,"://").concat(m.host).concat(m.port?":"+m.port:""),g=yc(),h=[Pg("messages",[aa((function(){var t=Cc(Ue.fromDom(window),"message",(function(t){if(m.isSameOrigin(new NL(t.raw.origin))){var o=t.raw.data;PL(o)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var o=!!k(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(n,x,o):function(e){return!PL(e)&&y(e)&&Re(e,"mceAction")}(o)&&e.onMessage(x,o)}}));g.set(t)})),ua(g.clear)]),Js.config({channels:i({},rL,{onReceive:function(e,t){Du(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,p)}))}})})],v=xL({id:a,header:u,body:s,footer:c,extraClasses:f,extraBehaviours:h,extraStyles:d},e,l,o),x=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)};return{block:function(e){if(!b(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){Ui(t,iC,{message:e})}))},unblock:function(){t((function(e){ji(e,aC)}))},close:function(){t((function(e){ji(e,tC)}))},sendMessage:function(e){t((function(t){t.getSystem().broadcastOn([rL],e)}))}}}(v);return{dialog:v,instanceApi:x}},FL=function(e,t,n){return t&&n?[]:[IT.config({contextual:{lazyContext:function(){return V.some(Qn(Ue.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},BL=function(e){var t=e.backstage,n=e.editor,o=Fv(n),i=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(){rz.hide(s),o()},i=Oh(TO({name:"close-alert",text:"OK",primary:!0,buttonType:V.some("primary"),align:"end",enabled:!0,icon:V.none()},"cancel",e.backstage)),a=cL(),u=sL(r,t.providers),s=ku(mL({lazySink:function(){return t.getSink()},header:uL(a,u),body:lL(n,t.providers),footer:V.some(dL(fL([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Qi(nC,r)],eventOrder:{}}));rz.show(s);var c=i.get(s);Ig.focus(c)}}}(e),u=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(e){rz.hide(c),o(e)},i=Oh(TO({name:"yes",text:"Yes",primary:!0,buttonType:V.some("primary"),align:"end",enabled:!0,icon:V.none()},"submit",e.backstage)),a=TO({name:"no",text:"No",primary:!1,buttonType:V.some("secondary"),align:"end",enabled:!0,icon:V.none()},"cancel",e.backstage),u=cL(),s=sL((function(){return r(!1)}),t.providers),c=ku(mL({lazySink:function(){return t.getSink()},header:uL(u,s),body:lL(n,t.providers),footer:V.some(dL(fL([],[a,i.asSpec()]))),onEscape:function(){return r(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Qi(nC,(function(){return r(!1)})),Qi(rC,(function(){return r(!0)}))],eventOrder:{}}));rz.show(c);var l=i.get(c);Ig.focus(l)}}}(e),s=function(e,o){return NP.openUrl((function(e){var r=LL(e,{closeWindow:function(){rz.hide(r.dialog),o(r.instanceApi)}},n,t);return rz.show(r.dialog),r.instanceApi}),e)},c=function(e,n){return NP.open((function(e,o,r){var i=o,a=DL({dataValidator:r,initialData:i,internalDialog:e},{redial:NP.redial,closeWindow:function(){rz.hide(a.dialog),n(a.instanceApi)}},t);return rz.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),e)},l=function(e,i,u,s){return NP.open((function(e,c,l){var d=nr(tr("data",l,c)),f=xc(),m=t.shared.header.isPositionedAtTop(),p=function(){return f.on((function(e){kh.reposition(e),IT.refresh(e)}))},g=ML({dataValidator:l,initialData:d,internalDialog:e},{redial:NP.redial,closeWindow:function(){f.on(kh.hide),n.off("ResizeEditor",p),f.clear(),u(g.instanceApi)}},t,s),h=ku(kh.sketch(r(r({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},m?{}:{fireRepositionEventInstead:{}}),{},{inlineBehaviours:js([Pg("window-manager-inline-events",[Qi(Pi(),(function(e,t){ji(g.dialog,nC)}))])].concat(a(FL(n,o,m)))),isExtraPart:function(e,t){return function(e){return Tw(e,".tox-alert-dialog")||Tw(e,".tox-confirm-dialog")}(t)}})));return f.set(h),kh.showWithin(h,Su(g.dialog),{anchor:i},V.some(kt())),o&&m||(IT.refresh(h),n.on("ResizeEditor",p)),g.instanceApi.setData(d),Eg.focusIn(g.dialog),g.instanceApi}),e)};return{open:function(e,n,o){return void 0!==n&&"toolbar"===n.inline?l(e,t.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(e,t.shared.anchors.cursor(),o,n.ariaAttrs):c(e,o)},openUrl:function(e,t){return s(e,t)},alert:function(e,t){i.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){u.open(e,(function(e){t(e)}))}}},qL=function(e){Gh(e),function(e){var t,n=e.options.register;n("color_map",{processor:function(e){return A(e,b)?{value:Ux(e),valid:!0}:{valid:!1,message:"Must be an array of strings."}},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),n("color_cols",{processor:"number",default:(t=Kx(e).length,Math.max(5,Math.ceil(Math.sqrt(t))))}),n("custom_colors",{processor:"boolean",default:!0})}(e),function(e){var t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:function(e){return!1===e?{value:[],valid:!0}:b(e)||A(e,b)?{value:MM(e),valid:!0}:{valid:!1,message:"Must be false or a string."}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})}(e)};H.add("silver",(function(e){qL(e);var t=ez(e),n=t.getUiMothership,o=t.backstage,i=t.renderUI;_w(e,o.shared);var a=BL({editor:e,backstage:o});return{renderUI:i,getWindowManagerImpl:M(a),getNotificationManagerImpl:function(){return function(e,t,n){var o=t.backstage.shared,i=function(){var t=Qn(Ue.fromDom(e.getContentAreaContainer())),n=eo(),o=ps(n.x,t.x,t.right),r=ps(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),a=Math.max(t.bottom,n.bottom);return V.some(Xn(o,r,i-o,a-r))};return{open:function(t,a){var u=function(){a(),kh.hide(c)},s=ku(Bh.sketch({text:t.text,level:K(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:V.from(t.icon),closeButton:t.closeButton,onAction:u,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),c=ku(kh.sketch(r({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{}},o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(c),t.timeout>0&&Sh.setEditorTimeout(e,(function(){u()}),t.timeout);var l={close:u,reposition:function(){var t=Su(s),n={maxHeightFunction:Pc()},a=e.notificationManager.getNotifications();if(a[0]===l){var u=r(r({},o.anchors.banner()),{},{overrides:n});kh.showWithinBounds(c,t,{anchor:u},i)}else $(a,l).each((function(e){var o=a[e-1].getEl(),r={type:"node",root:kt(),node:V.some(Ue.fromDom(o)),overrides:n,layouts:{onRtl:function(){return[Ts]},onLtr:function(){return[Ts]}}};kh.showWithinBounds(c,t,{anchor:r},i)}))},text:function(e){Bh.updateText(s,e)},settings:t,getEl:function(){return s.element.dom},progressBar:{value:function(e){Bh.updateProgress(s,e)}}};return l},close:function(e){e.close()},getArgs:function(e){return e.settings}}}(e,{backstage:o},n())}}}))}()},8838:function(e,t,n){var o=n(9713).default,r=n(8551).default,i=n(3038).default,a=n(319).default,u=n(3269).default,s=n(6479).default,c=n(1109).default,l=n(4575).default,d=n(3913).default,f=["uid"];!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},m=n((function(e,t){return e===t})),p=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},g=function(e,t){return function(e,t){return n((function(n,o){return e.eq(t(n),t(o))}))}(p(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},h=function(e){return n((function(t,n){var o=Object.keys(t),r=Object.keys(n);if(!g(m).eq(o,r))return!1;for(var i=o.length,a=0;a<i;a++){var u=o[a];if(!e.eq(t[u],n[u]))return!1}return!0}))},v=n((function(e,n){if(e===n)return!0;var o=t(e);return o===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(o)?e===n:"array"===o?p(v).eq(e,n):"object"===o&&h(v).eq(e,n))})),b=Object.getPrototypeOf,y=function(e,t,n){var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},x=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&y(e,String,(function(e,t){return t.isPrototypeOf(e)}))?"string":t}(t)===e}},w=function(e){return function(t){return typeof t===e}},C=function(e){return function(t){return e===t}},k=function(e,t){return E(e)&&y(e,t,(function(e,t){return b(e)===t}))},S=x("string"),E=x("object"),O=function(e){return k(e,Object)},_=x("array"),T=C(null),A=w("boolean"),R=C(void 0),D=function(e){return null===e||void 0===e},M=function(e){return!D(e)},N=w("function"),z=w("number"),P=function(e,t){if(_(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},L=function(){},F=function(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e(t.apply(null,o))}},B=function(e,t){return function(n){return e(t(n))}},q=function(e){return function(){return e}},I=function(e){return e},H=function(e,t){return e===t};function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=n.concat(o);return e.apply(null,i)}}var j=function(e){return function(t){return!e(t)}},U=function(e){return e()},G=function(e){e()},W=q(!1),$=q(!0),K=function(){function e(t,n){l(this,e),this.tag=t,this.value=n}return d(e,[{key:"fold",value:function(e,t){return this.tag?t(this.value):e()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(t){return this.tag?e.some(t(this.value)):e.none()}},{key:"bind",value:function(t){return this.tag?t(this.value):e.none()}},{key:"exists",value:function(e){return this.tag&&e(this.value)}},{key:"forall",value:function(e){return!this.tag||e(this.value)}},{key:"filter",value:function(t){return!this.tag||t(this.value)?this:e.none()}},{key:"getOr",value:function(e){return this.tag?this.value:e}},{key:"or",value:function(e){return this.tag?this:e}},{key:"getOrThunk",value:function(e){return this.tag?this.value:e()}},{key:"orThunk",value:function(e){return this.tag?this:e()}},{key:"getOrDie",value:function(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(e){this.tag&&e(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(t){return new e(!0,t)}},{key:"none",value:function(){return e.singletonNone}},{key:"from",value:function(t){return M(t)?e.some(t):e.none()}}]),e}();K.singletonNone=new K(!1);var J=Array.prototype.slice,Y=Array.prototype.indexOf,X=Array.prototype.push,Q=function(e,t){return Y.call(e,t)},Z=function(e,t){return Q(e,t)>-1},ee=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},te=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},ne=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},oe=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},re=function(e,t){for(var n=[],o=[],r=0,i=e.length;r<i;r++){var a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}},ie=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},ae=function(e,t,n){return oe(e,(function(e,o){n=t(n,e,o)})),n},ue=function(e,t,n){return ne(e,(function(e,o){n=t(n,e,o)})),n},se=function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return K.some(i);if(n(i,o))break}return K.none()},ce=function(e,t){return se(e,t,W)},le=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return K.some(n)}return K.none()},de=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!_(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},fe=function(e,t){return de(te(e,t))},me=function(e,t){for(var n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},pe=function(e){var t=J.call(e,0);return t.reverse(),t},ge=function(e,t){return ie(e,(function(e){return!Z(t,e)}))},he=function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var i=e[o];n[String(i)]=t(i,o)}return n},ve=function(e,t){var n=J.call(e,0);return n.sort(t),n},be=function(e,t){return t>=0&&t<e.length?K.some(e[t]):K.none()},ye=function(e){return be(e,0)},xe=function(e){return be(e,e.length-1)},we=N(Array.from)?Array.from:function(e){return J.call(e)},Ce=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return K.none()},ke=Object.keys,Se=Object.hasOwnProperty,Ee=function(e,t){for(var n=ke(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},Oe=function(e,t){return _e(e,(function(e,n){return{k:n,v:t(e,n)}}))},_e=function(e,t){var n={};return Ee(e,(function(e,o){var r=t(e,o);n[r.k]=r.v})),n},Te=function(e){return function(t,n){e[n]=t}},Ae=function(e,t,n,o){return Ee(e,(function(e,r){(t(e,r)?n:o)(e,r)})),{}},Re=function(e,t){var n={};return Ae(e,t,Te(n),L),n},De=function(e,t){var n=[];return Ee(e,(function(e,o){n.push(t(e,o))})),n},Me=function(e){return De(e,I)},Ne=function(e,t){return ze(e,t)?K.from(e[t]):K.none()},ze=function(e,t){return Se.call(e,t)},Pe=function(e,t){return ze(e,t)&&void 0!==e[t]&&null!==e[t]},Le=function(e){var t={};return ne(e,(function(e){t[e]={}})),ke(t)},Fe=Array.isArray,Be=function(e,t,n){var o,r;if(!e)return!1;if(n=n||e,void 0!==e.length){for(o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(o in e)if(ze(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},qe=function(e,t){var n=[];return Be(e,(function(o,r){n.push(t(o,r,e))})),n},Ie=function(e,t){var n=[];return Be(e,(function(o,r){t&&!t(o,r,e)||n.push(o)})),n},He=function(e,t){if(e)for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},Ve=function(e,t,n,o){for(var r=R(n)?e[0]:n,i=0;i<e.length;i++)r=t.call(o,r,e[i],i);return r},je=function(e,t,n){var o,r;for(o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},Ue=function(e){return e[e.length-1]},Ge=function(e){var t,n=!1;return function(){if(!n){n=!0;for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=e.apply(null,r)}return t}},We=function(){return $e(0,0)},$e=function(e,t){return{major:e,minor:t}},Ke={nu:$e,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?We():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.test(t))return o}}(e,t);if(!n)return{major:0,minor:0};var o=function(e){return Number(t.replace(n,"$"+e))};return $e(o(1),o(2))}(e,n)},unknown:We},Je=function(e,t){var n=String(t).toLowerCase();return ce(e,(function(e){return e.search(n)}))},Ye=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Xe=function(e,t){return-1!==e.indexOf(t)},Qe=function(e,t){return Ye(e,t,0)},Ze=function(e,t){return Ye(e,t,e.length-t.length)},et=function(e){return function(t){return t.replace(e,"")}},tt=et(/^\s+|\s+$/g),nt=et(/^\s+/g),ot=et(/\s+$/g),rt=function(e){return e.length>0},it=function(e){return!rt(e)},at=function(e,t){return t<=0?"":new Array(t+1).join(e)},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=parseInt(e,t);return isNaN(n)?K.none():K.some(n)},st=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ct=function(e){return function(t){return Xe(t,e)}},lt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Xe(e,"edge/")&&Xe(e,"chrome")&&Xe(e,"safari")&&Xe(e,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,st],search:function(e){return Xe(e,"chrome")&&!Xe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Xe(e,"msie")||Xe(e,"trident")}},{name:"Opera",versionRegexes:[st,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ct("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ct("firefox")},{name:"Safari",versionRegexes:[st,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Xe(e,"safari")||Xe(e,"mobile/"))&&Xe(e,"applewebkit")}}],dt=[{name:"Windows",search:ct("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Xe(e,"iphone")||Xe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ct("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ct("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ct("linux"),versionRegexes:[]},{name:"Solaris",search:ct("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ct("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ct("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ft={browsers:q(lt),oses:q(dt)},mt="Edge",pt="Chromium",gt="Opera",ht="Firefox",vt="Safari",bt=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:o(mt),isChromium:o(pt),isIE:o("IE"),isOpera:o(gt),isFirefox:o(ht),isSafari:o(vt)}},yt={unknown:function(){return bt({current:void 0,version:Ke.unknown()})},nu:bt,edge:q(mt),chromium:q(pt),ie:q("IE"),opera:q(gt),firefox:q(ht),safari:q(vt)},xt="Windows",wt="Android",Ct="Linux",kt="macOS",St="Solaris",Et="FreeBSD",Ot="ChromeOS",_t=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:o(xt),isiOS:o("iOS"),isAndroid:o(wt),isMacOS:o(kt),isLinux:o(Ct),isSolaris:o(St),isFreeBSD:o(Et),isChromeOS:o(Ot)}},Tt={unknown:function(){return _t({current:void 0,version:Ke.unknown()})},nu:_t,windows:q(xt),ios:q("iOS"),android:q(wt),linux:q(Ct),macos:q(kt),solaris:q(St),freebsd:q(Et),chromeos:q(Ot)},At=function(e,t,n){var o=ft.browsers(),r=ft.oses(),i=t.bind((function(e){return function(e,t){return Ce(t.brands,(function(t){var n=t.brand.toLowerCase();return ce(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:Ke.nu(parseInt(t.version,10),0)}}))}))}(o,e)})).orThunk((function(){return function(e,t){return Je(e,t).map((function(e){var n=Ke.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e)})).fold(yt.unknown,yt.nu),a=function(e,t){return Je(e,t).map((function(e){var n=Ke.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e).fold(Tt.unknown,Tt.nu),u=function(e,t,n,o){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||o("(pointer:coarse)"),s=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!s&&!l;return{isiPad:q(r),isiPhone:q(i),isTablet:q(s),isPhone:q(c),isTouch:q(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:q(l),isDesktop:q(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:u}},Rt=function(e){return window.matchMedia(e).matches},Dt=Ge((function(){return At(navigator.userAgent,K.from(navigator.userAgentData),Rt)})),Mt=function(){return Dt()},Nt=navigator.userAgent,zt=Mt(),Pt=zt.browser,Lt=zt.os,Ft=zt.deviceType,Bt=-1!==Nt.indexOf("Windows Phone"),qt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Pt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Pt.isIE(),windowsPhone:Bt,browser:{current:Pt.current,version:Pt.version,isChromium:Pt.isChromium,isEdge:Pt.isEdge,isFirefox:Pt.isFirefox,isIE:Pt.isIE,isOpera:Pt.isOpera,isSafari:Pt.isSafari},os:{current:Lt.current,version:Lt.version,isAndroid:Lt.isAndroid,isChromeOS:Lt.isChromeOS,isFreeBSD:Lt.isFreeBSD,isiOS:Lt.isiOS,isLinux:Lt.isLinux,isMacOS:Lt.isMacOS,isSolaris:Lt.isSolaris,isWindows:Lt.isWindows},deviceType:{isDesktop:Ft.isDesktop,isiPad:Ft.isiPad,isiPhone:Ft.isiPhone,isPhone:Ft.isPhone,isTablet:Ft.isTablet,isTouch:Ft.isTouch,isWebView:Ft.isWebView}},It=/^\s*|\s*$/g,Ht=function(e){return null===e||void 0===e?"":(""+e).replace(It,"")},Vt=function(e,t){return t?!("array"!==t||!Fe(e))||typeof e===t:void 0!==e},jt={trim:Ht,isArray:Fe,is:Vt,toArray:function(e){if(Fe(e))return e;for(var t=[],n=0,o=e.length;n<o;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var o;for(t=t||",","string"===typeof(e=e||[])&&(e=e.split(t)),n=n||{},o=e.length;o--;)n[e[o]]={};return n},each:Be,map:qe,grep:Ie,inArray:He,hasOwn:ze,extend:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var o in n)if(ze(n,o)){var r=n[o];void 0!==r&&(e[o]=r)}}return e},walk:function e(t,n,o,r){r=r||this,t&&(o&&(t=t[o]),Be(t,(function(t,i){if(!1===n.call(r,t,i,o))return!1;e(t,n,o,r)})))},resolve:function(e,t){var n,o;for(t=t||window,n=0,o=(e=e.split(".")).length;n<o&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Vt(e,"array")?e:qe(e.split(t||","),Ht)},_addCacheSuffix:function(e){var t=qt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return e.exists((function(e){return n(e,t)}))},Gt=function(e,t,n){return e.isSome()&&t.isSome()?K.some(n(e.getOrDie(),t.getOrDie())):K.none()},Wt=function(e,t){return e?K.some(t):K.none()};"undefined"!==typeof window?window:Function("return this;")();var $t,Kt,Jt=function(e){return e.dom.nodeName.toLowerCase()},Yt=function(e){return e.dom.nodeType},Xt=function(e){return function(t){return Yt(t)===e}},Qt=Xt(1),Zt=Xt(3),en=Xt(9),tn=Xt(11),nn=function(e,t,n){if(!(S(n)||A(n)||z(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},on=function(e,t,n){nn(e.dom,t,n)},rn=function(e,t){var n=e.dom;Ee(t,(function(e,t){nn(n,t,e)}))},an=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},un=function(e,t){return K.from(an(e,t))},sn=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},cn=function(e,t){e.dom.removeAttribute(t)},ln=function(e){return ue(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},dn=function(e,t){var n=an(e,t);return void 0===n||""===n?[]:n.split(" ")},fn=function(e){return void 0!==e.dom.classList},mn=function(e){return dn(e,"class")},pn=function(e,t){return function(e,t,n){var o=dn(e,t).concat([n]);return on(e,t,o.join(" ")),!0}(e,"class",t)},gn=function(e,t){return function(e,t,n){var o=ie(dn(e,t),(function(e){return e!==n}));return o.length>0?on(e,t,o.join(" ")):cn(e,t),!1}(e,"class",t)},hn=function(e,t){fn(e)?e.dom.classList.add(t):pn(e,t)},vn=function(e){0===(fn(e)?e.dom.classList:mn(e)).length&&cn(e,"class")},bn=function(e,t){fn(e)?e.dom.classList.remove(t):gn(e,t);vn(e)},yn=function(e,t){var n=fn(e)?e.dom.classList.toggle(t):function(e,t){return Z(mn(e),t)?gn(e,t):pn(e,t)}(e,t);return vn(e),n},xn=function(e,t){return fn(e)&&e.dom.classList.contains(t)},wn=function(e){return void 0!==e.style&&N(e.style.getPropertyValue)},Cn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},kn={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return Cn(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Cn(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Cn(n)},fromDom:Cn,fromPoint:function(e,t,n){return K.from(e.dom.elementFromPoint(t,n)).map(Cn)}},Sn=function(e,t){var n=[],o=function(e){return n.push(e),t(e)},r=t(e);do{r=r.bind(o)}while(r.isSome());return n},En=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},On=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},_n=function(e,t){return e.dom===t.dom},Tn=function(e,t){var n=e.dom,o=t.dom;return n!==o&&n.contains(o)},An=function(e){return kn.fromDom(e.dom.ownerDocument)},Rn=function(e){return en(e)?e:An(e)},Dn=function(e){return kn.fromDom(Rn(e).dom.defaultView)},Mn=function(e){return K.from(e.dom.parentNode).map(kn.fromDom)},Nn=function(e){return Mn(e).map(Bn).map((function(t){return ie(t,(function(t){return!_n(e,t)}))})).getOr([])},zn=function(e){return K.from(e.dom.previousSibling).map(kn.fromDom)},Pn=function(e){return K.from(e.dom.nextSibling).map(kn.fromDom)},Ln=function(e){return pe(Sn(e,zn))},Fn=function(e){return Sn(e,Pn)},Bn=function(e){return te(e.dom.childNodes,kn.fromDom)},qn=function(e,t){var n=e.dom.childNodes;return K.from(n[t]).map(kn.fromDom)},In=function(e){return qn(e,0)},Hn=function(e){return qn(e,e.dom.childNodes.length-1)},Vn=function(e){return e.dom.childNodes.length},jn=function(e){return tn(e)&&M(e.dom.host)},Un=N(Element.prototype.attachShadow)&&N(Node.prototype.getRootNode),Gn=q(Un),Wn=Un?function(e){return kn.fromDom(e.dom.getRootNode())}:Rn,$n=function(e){return jn(e)?e:function(e){var t=e.dom.head;if(null===t||void 0===t)throw new Error("Head is not available yet");return kn.fromDom(t)}(Rn(e))},Kn=function(e){return kn.fromDom(e.dom.host)},Jn=function(e){if(Gn()&&M(e.target)){var t=kn.fromDom(e.target);if(Qt(t)&&Yn(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ye(n)}}return K.from(e.target)},Yn=function(e){return M(e.dom.shadowRoot)},Xn=function e(t){var n=Zt(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var o=n.ownerDocument;return function(e){var t=Wn(e);return jn(t)?K.some(t):K.none()}(kn.fromDom(n)).fold((function(){return o.body.contains(n)}),B(e,Kn))},Qn=function(e,t,n){if(!S(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);wn(e)&&e.style.setProperty(t,n)},Zn=function(e,t,n){var o=e.dom;Qn(o,t,n)},eo=function(e,t){var n=e.dom;Ee(t,(function(e,t){Qn(n,t,e)}))},to=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Xn(e)?o:no(n,t)},no=function(e,t){return wn(e)?e.style.getPropertyValue(t):""},oo=function(e,t){var n=e.dom,o=no(n,t);return K.from(o).filter((function(e){return e.length>0}))},ro=function(e){var t={},n=e.dom;if(wn(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);t[r]=n.style[r]}return t},io=function(e,t){!function(e,t){wn(e)&&e.style.removeProperty(t)}(e.dom,t),Ut(un(e,"style").map(tt),"")&&cn(e,"style")},ao=function(e,t){Mn(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},uo=function(e,t){Pn(e).fold((function(){Mn(e).each((function(e){co(e,t)}))}),(function(e){ao(e,t)}))},so=function(e,t){In(e).fold((function(){co(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},co=function(e,t){e.dom.appendChild(t.dom)},lo=function(e,t){ne(t,(function(t){co(e,t)}))},fo=function(e){e.dom.textContent="",ne(Bn(e),(function(e){mo(e)}))},mo=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},po=function(e){var t,n,o=Bn(e);o.length>0&&(t=e,ne(n=o,(function(e,o){var r=0===o?t:n[o-1];uo(r,e)}))),mo(e)},go=function(e){return e.dom.innerHTML},ho=function(e,t){var n=An(e).dom,o=kn.fromDom(n.createDocumentFragment()),r=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,Bn(kn.fromDom(n))}(t,n);lo(o,r),fo(e),co(e,o)},vo=function(e){var t=kn.fromTag("div"),n=kn.fromDom(e.dom.cloneNode(!0));return co(t,n),go(t)},bo=function(e,t){return function(n){e(n)&&t(function(e){var t=kn.fromDom(Jn(e).getOr(e.target)),n=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},r=F(o,n);return function(e,t,n,o,r,i,a){return{target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}}(t,e.clientX,e.clientY,n,o,r,e)}(n))}},yo=function(e,t,n,o){return function(e,t,n,o,r){var i=bo(n,o);return e.dom.addEventListener(t,i,r),{unbind:V(xo,e,t,i,r)}}(e,t,n,o,!1)},xo=function(e,t,n,o){e.dom.removeEventListener(t,n,o)},wo=function e(t,n){return{left:t,top:n,translate:function(o,r){return e(t+o,n+r)}}},Co=function(e,t){return void 0!==e?e:void 0!==t?t:0},ko=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?wo(n.offsetLeft,n.offsetTop):Xn(e)?function(e){var t=e.getBoundingClientRect();return wo(t.left,t.top)}(t):wo(0,0)},So=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return wo(n,o)},Eo=function(e,t,n){var o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Oo=function(e,t){Mt().browser.isSafari()&&N(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},_o=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},To=function(e){var t=void 0===e?window:e,n=t.document,o=So(kn.fromDom(n));return function(e){var t=void 0===e?window:e;return Mt().browser.isFirefox()?K.none():K.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return _o(o.left,o.top,n,r)}),(function(e){return _o(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)}))},Ao=function(e){return function(t){return!!t&&t.nodeType===e}},Ro=function(e){return!!e&&!Object.getPrototypeOf(e)},Do=Ao(1),Mo=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return Z(t,n)}return!1}},No=function(e,t){var n=t.toLowerCase().split(" ");return function(t){if(Do(t))for(var o=0;o<n.length;o++){var r=t.ownerDocument.defaultView.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[o])return!0}return!1}},zo=function(e){return function(t){return Do(t)&&t.hasAttribute(e)}},Po=function(e){return Do(e)&&e.hasAttribute("data-mce-bogus")},Lo=function(e){return Do(e)&&"TABLE"===e.tagName},Fo=function(e){return function(t){if(Do(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Bo=Mo(["textarea","input"]),qo=Ao(3),Io=Ao(4),Ho=Ao(7),Vo=Ao(8),jo=Ao(9),Uo=Ao(11),Go=Mo(["br"]),Wo=Mo(["img"]),$o=Fo("true"),Ko=Fo("false"),Jo=Mo(["td","th"]),Yo=Mo(["video","audio","object","embed"]),Xo=Mt().browser,Qo=function(e){return ce(e,Qt)},Zo=function(e,t){return e.children&&Z(e.children,t)},er=function(e,t,n){var o=0,r=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===to(kn.fromDom(e),"position")){var a=t.getBoundingClientRect();return{x:o=a.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,y:r=a.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop}}for(var u=t;u&&u!==n&&u.nodeType&&!Zo(u,n);){var s=u;o+=s.offsetLeft||0,r+=s.offsetTop||0,u=s.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!Zo(u,n);)o-=u.scrollLeft||0,r-=u.scrollTop||0,u=u.parentNode;r+=function(e){return Xo.isFirefox()&&"table"===Jt(e)?Qo(Bn(e)).filter((function(e){return"caption"===Jt(e)})).bind((function(e){return Qo(Fn(e)).map((function(t){var n=t.dom.offsetTop,o=e.dom.offsetTop,r=e.dom.offsetHeight;return n<=o?-r:0}))})).getOr(0):0}(kn.fromDom(t))}return{x:o,y:r}},tr=function(e,t,n,o,r){return e(n,o)?K.some(n):N(r)&&r(n)?K.none():t(n,o,r)},nr=function(e,t,n){for(var o=e.dom,r=N(n)?n:W;o.parentNode;){o=o.parentNode;var i=kn.fromDom(o);if(t(i))return K.some(i);if(r(i))break}return K.none()},or=function(e,t,n){return tr((function(e,t){return t(e)}),nr,e,t,n)},rr=function(e,t){return ce(e.dom.childNodes,(function(e){return t(kn.fromDom(e))})).map(kn.fromDom)},ir=function(e,t,n){return nr(e,(function(e){return En(e,t)}),n)},ar=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return On(n)?K.none():K.from(n.querySelector(e)).map(kn.fromDom)}(t,e)},ur=function(e,t,n){return tr((function(e,t){return En(e,t)}),ir,e,t,n)},sr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,o={},r=kn.fromDom(e),i=Rn(r),a=t.maxLoadTime||5e3,u=function(e){t.referrerPolicy=e},s=function(e){co($n(r),e)},c=function(e){var t=$n(r);ar(t,"#"+e).each(mo)},l=function(e){return Ne(o,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))},d=function(n){return new Promise((function(r,u){var c,d=jt._addCacheSuffix(n),f=l(d);o[d]=f,f.count++;var m=function(e,t){ne(e,G),f.status=t,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},p=function(){return m(f.passed,2)},g=function(){return m(f.failed,3)};if(r&&f.passed.push(r),u&&f.failed.push(u),1!==f.status)if(2!==f.status)if(3!==f.status){f.status=1;var h=kn.fromTag("link",i.dom);rn(h,{rel:"stylesheet",type:"text/css",id:f.id});var v=Date.now();t.contentCssCors&&on(h,"crossOrigin","anonymous"),t.referrerPolicy&&on(h,"referrerpolicy",t.referrerPolicy),(c=h.dom).onload=function t(){var n;n=t,function(){for(var t=e.styleSheets,n=t.length;n--;){var o=t[n].ownerNode;if(o&&o.id===c.id)return p(),!0}return!1}()||(Date.now()-v<a?setTimeout(n):g())},c.onerror=g,s(h),on(h,"href",d)}else g();else p()}))},f=function(e){return Promise.allSettled(te(e,(function(e){return d(e).then(q(e))}))).then((function(e){var t=re(e,(function(e){return"fulfilled"===e.status}));return t.fail.length>0?Promise.reject(te(t.fail,(function(e){return e.reason}))):te(t.pass,(function(e){return e.value}))}))},m=function(e){var t=jt._addCacheSuffix(e);Ne(o,t).each((function(e){0===--e.count&&(delete o[t],c(e.id))}))},p=function(e){ne(e,(function(e){m(e)}))};return{load:d,loadAll:f,unload:m,unloadAll:p,_setReferrerPolicy:u}},cr=function(){var e=new WeakMap;return{forElement:function(t,n){var o=Wn(t).dom;return K.from(e.get(o)).getOrThunk((function(){var t=sr(o,n);return e.set(o,t),t}))}}}(),lr=function(){function e(t,n){l(this,e),this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return d(e,[{key:"current",value:function(){return this.node}},{key:"next",value:function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}},{key:"prev",value:function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}},{key:"prev2",value:function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node}},{key:"findSibling",value:function(e,t,n,o){var r,i;if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){if(r=e[n])return r;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(r=i[n])return r}}}},{key:"findPreviousNode",value:function(e,t,n,o){var r,i,a;if(e){if(r=e[n],this.rootNode&&r===this.rootNode)return;if(r){if(!o)for(a=r[t];a;a=a[t])if(!a[t])return a;return r}if((i=e.parentNode)&&i!==this.rootNode)return i}}}]),e}(),dr=function(e){var t;return function(n){return t=t||he(e,$),ze(t,Jt(n))}},fr=dr(["h1","h2","h3","h4","h5","h6"]),mr=dr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),pr=function(e){return Qt(e)&&!mr(e)},gr=function(e){return Qt(e)&&"br"===Jt(e)},hr=dr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),vr=dr(["ul","ol","dl"]),br=dr(["li","dd","dt"]),yr=dr(["thead","tbody","tfoot"]),xr=dr(["td","th"]),wr=dr(["pre","script","textarea","style"]),Cr="\ufeff",kr="\xa0",Sr=function(e){return e===Cr},Er=Cr,Or=Sr,_r=function(e){return e.replace(/\uFEFF/g,"")},Tr=Do,Ar=qo,Rr=function(e){return Ar(e)&&(e=e.parentNode),Tr(e)&&e.hasAttribute("data-mce-caret")},Dr=function(e){return Ar(e)&&Or(e.data)},Mr=function(e){return Rr(e)||Dr(e)},Nr=function(e){return e.firstChild!==e.lastChild||!Go(e.firstChild)},zr=function(e){var t=e.container();return!!qo(t)&&(t.data.charAt(e.offset())===Er||e.isAtStart()&&Dr(t.previousSibling))},Pr=function(e){var t=e.container();return!!qo(t)&&(t.data.charAt(e.offset()-1)===Er||e.isAtEnd()&&Dr(t.nextSibling))},Lr=function(e,t,n){var o=t.ownerDocument.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}());var r=t.parentNode;return n?r.insertBefore(o,t):t.nextSibling?r.insertBefore(o,t.nextSibling):r.appendChild(o),o},Fr=function(e){return Ar(e)&&e.data[0]===Er},Br=function(e){return Ar(e)&&e.data[e.data.length-1]===Er},qr=function(e){return e&&e.hasAttribute("data-mce-caret")?(function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Po(n)&&n.parentNode.removeChild(n)}(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null},Ir=function(e){return Rr(e.startContainer)},Hr=$o,Vr=Ko,jr=Go,Ur=qo,Gr=Mo(["script","style","textarea"]),Wr=Mo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),$r=Mo(["table"]),Kr=Mr,Jr=function(e){return!Kr(e)&&(Ur(e)?!Gr(e.parentNode):Wr(e)||jr(e)||$r(e)||Yr(e))},Yr=function(e){return!1===function(e){return Do(e)&&"true"===e.getAttribute("unselectable")}(e)&&Vr(e)},Xr=function(e,t){return Jr(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Yr(e))return!1;if(Hr(e))return!0}return!0}(e,t)},Qr=/^[ \t\r\n]*$/,Zr=function(e){return Qr.test(e)},ei=function(e){return-1!==" \f\t\v".indexOf(e)},ti=function(e){return"\n"===e||"\r"===e},ni=function(e,t){return t<e.length&&t>=0&&ti(e[t])},oi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=at(" ",t),i=e.replace(/\t/g,r),a=ue(i,(function(e,t){return ei(t)||t===kr?e.pcIsSpace||""===e.str&&n||e.str.length===i.length-1&&o||ni(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+kr}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ti(t),str:e.str+t}}),{pcIsSpace:!1,str:""});return a.str},ri=function(e,t){var n,o,r,i=kn.fromDom(t),a=kn.fromDom(e);return n=a,o="pre,code",r=V(_n,i),ir(n,o,r).isSome()},ii=function(e,t){return Jr(e)&&!1===function(e,t){return qo(e)&&Zr(e.data)&&!1===ri(e,t)}(e,t)||function(e){return Do(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}(e)||ai(e)},ai=zo("data-mce-bookmark"),ui=zo("data-mce-bogus"),si=($t="data-mce-bogus",Kt="all",function(e){return Do(e)&&e.getAttribute($t)===Kt}),ci=function(e,t){var n=0;if(ii(e,e))return!1;var o=e.firstChild;if(!o)return!0;var r=new lr(o,e);do{if(t){if(si(o)){o=r.next(!0);continue}if(ui(o)){o=r.next();continue}}if(Go(o))n++,o=r.next();else{if(ii(o,e))return!1;o=r.next()}}while(o);return n<=1},li=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ci(e.dom,t)},di=function(e,t){return M(e)&&(ii(e,t)||pr(kn.fromDom(e)))},fi=function(e){return function(e){return"span"===e.nodeName.toLowerCase()}(e)&&"bookmark"===e.getAttribute("data-mce-type")},mi=function(e,t){return qo(e)&&e.data.length>0&&function(e,t){var n=new lr(e,t).prev(!1),o=new lr(e,t).next(!1),r=R(n)||di(n,t),i=R(o)||di(o,t);return r&&i}(e,t)},pi=function e(t,n,o){var r=o||n;if(Do(n)&&fi(n))return n;for(var i=n.childNodes,a=i.length-1;a>=0;a--)e(t,i[a],r);if(Do(n)){var u=n.childNodes;1===u.length&&fi(u[0])&&n.parentNode.insertBefore(u[0],n)}return function(e){return Uo(e)||jo(e)}(n)||ii(n,r)||function(e){return!!Do(e)&&e.childNodes.length>0}(n)||mi(n,r)||t.remove(n),n},gi=jt.makeMap,hi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bi=/[<>&\"\']/g,yi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,xi={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},wi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ci={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ki=function(e,t){var n,o,r,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)o=String.fromCharCode(parseInt(e[n],t)),wi[o]||(r="&"+e[n+1]+";",i[o]=r,i[r]=o);return i}},Si=ki("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ei=function(e,t){return e.replace(t?hi:vi,(function(e){return wi[e]||e}))},Oi=function(e,t){return e.replace(t?hi:vi,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":wi[e]||"&#"+e.charCodeAt(0)+";"}))},_i=function(e,t,n){return n=n||Si,e.replace(t?hi:vi,(function(e){return wi[e]||n[e]||e}))},Ti={encodeRaw:Ei,encodeAllRaw:function(e){return(""+e).replace(bi,(function(e){return wi[e]||e}))},encodeNumeric:Oi,encodeNamed:_i,getEncodeFunc:function(e,t){var n=ki(t)||Si,o=gi(e.replace(/\+/g,","));return o.named&&o.numeric?function(e,t){return e.replace(t?hi:vi,(function(e){return void 0!==wi[e]?wi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:o.named?t?function(e,t){return _i(e,t,n)}:_i:o.numeric?Oi:Ei},decode:function(e){return e.replace(yi,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):xi[t]||String.fromCharCode(t):Ci[e]||Si[e]||function(e){var t=kn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e}(e)}))}},Ai={},Ri={},Di=jt.makeMap,Mi=jt.each,Ni=jt.extend,zi=jt.explode,Pi=jt.inArray,Li=function(e,t){return(e=jt.trim(e))?e.split(t||" "):[]},Fi=function(e,t){var n;return e&&(n={},"string"===typeof e&&(e={"*":e}),Mi(e,(function(e,o){n[o]=n[o.toUpperCase()]="map"===t?Di(e,/[, ]/):zi(e,/[, ]/)}))),n},Bi=function(e){var t,n={},o={},r=[],i={},a={},u=function(t,n,o){var r=e[t];return r?r=Di(r,/[, ]/,Di(r.toUpperCase(),/[, ]/)):(r=Ai[t])||(r=Di(n," ",Di(n.toUpperCase()," ")),r=Ni(r,o),Ai[t]=r),r},s=null!==(t=(e=e||{}).schema)&&void 0!==t?t:"html5",c=function(e){var t,n,o,r,i,a,u={},s=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=Li(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""),r=Li(e),i=r.length;i--;){var a=Li([t,n].join(" "));u[r[i]]={attributes:he(a,(function(){return{}})),attributesOrder:a,children:he(o,q(Ri))}}},c=function(e,t){for(var n=Li(e),o=Li(t),r=n.length;r--;)for(var i=u[n[r]],a=0,s=o.length;a<s;a++)i.attributes[o[a]]={},i.attributesOrder.push(o[a])};return Ai[e]?Ai[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",o=[o,a="acronym applet basefont big font strike tt"].join(" "),Mi(Li(a),(function(e){s(e,"",o)})),n=[n,i="center dir isindex noframes"].join(" "),r=[n,o].join(" "),Mi(Li(i),(function(e){s(e,"",r)}))),r=r||[n,o].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),s("address dt dd div caption","",r),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),s("blockquote","cite",r),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",r),s("dl","","dt dd"),s("a","href target rel media hreflang type",o),s("q","cite",o),s("ins del","cite datetime",r),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",r),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),s("param","name value"),s("map","name",[r,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",r),s("th","colspan rowspan headers scope abbr",r),s("form","accept-charset action autocomplete enctype method name novalidate target",r),s("fieldset","disabled form name",[r,"legend"].join(" ")),s("label","form for",o),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:o),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[r,"li"].join(" ")),s("noscript","",r),"html4"!==e&&(s("wbr"),s("ruby","",[o,"rt rp"].join(" ")),s("figcaption","",r),s("mark rt rp summary bdi","",o),s("canvas","width height",r),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[o,"option"].join(" ")),s("article section nav aside main header footer","",r),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[r,"figcaption"].join(" ")),s("time","datetime",o),s("dialog","open",r),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",o),s("progress","value max",o),s("meter","value min max low high optimum",o),s("details","open",[r,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),"html4"!==e&&ne([u.video,u.audio],(function(e){delete e.children.audio,delete e.children.video})),Mi(Li("a form meter progress dfn"),(function(e){u[e]&&delete u[e].children[e]})),delete u.caption.children.table,delete u.script,Ai[e]=u,u)}(s);!1===e.verify_html&&(e.valid_elements="*[*]");var l=Fi(e.valid_styles),d=Fi(e.invalid_styles,"map"),f=Fi(e.valid_classes,"map"),m=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=u("non_empty_elements",v+" pre",g),y=u("move_caret_before_on_enter_elements",v+" table",g),x=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",x),C=u("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Mi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(function(e){a[e]=new RegExp("</"+e+"[^>]*>","gi")}));var k=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},S=function(e){var t,o,i,a,u,s,c,l,d,f,m,p,g,h,v,b,y,x,w=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,S=/[*?+]/;if(e){var E=Li(e,",");for(n["@"]&&(b=n["@"].attributes,y=n["@"].attributesOrder),t=0,o=E.length;t<o;t++)if(u=w.exec(E[t])){if(h=u[1],d=u[2],v=u[3],l=u[5],s={attributes:p={},attributesOrder:g=[]},"#"===h&&(s.paddEmpty=!0),"-"===h&&(s.removeEmpty=!0),"!"===u[4]&&(s.removeEmptyAttrs=!0),b&&(Ee(b,(function(e,t){p[t]=e})),g.push.apply(g,y)),l)for(i=0,a=(l=Li(l,"|")).length;i<a;i++)if(u=C.exec(l[i])){if(c={},m=u[1],f=u[2].replace(/[\\:]:/g,":"),h=u[3],x=u[4],"!"===m&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(f),c.required=!0),"-"===m){delete p[f],g.splice(Pi(g,f),1);continue}h&&("="===h&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:f,value:x}),c.defaultValue=x),"~"===h&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:f,value:x}),c.forcedValue=x),"<"===h&&(c.validValues=Di(x,"?"))),S.test(f)?(s.attributePatterns=s.attributePatterns||[],c.pattern=k(f),s.attributePatterns.push(c)):(p[f]||g.push(f),p[f]=c)}b||"@"!==d||(b=p,y=g),v&&(s.outputName=d,n[v]=s),S.test(d)?(s.pattern=k(d),r.push(s)):n[d]=s}}},E=function(e){r=[],ne(ke(n),(function(e){delete n[e]})),S(e),Mi(c,(function(e,t){o[t]=e.children}))},O=function(e){var t=/^(~)?(.+)$/;e&&(Ai.text_block_elements=Ai.block_elements=null,Mi(Li(e,","),(function(e){var r=t.exec(e),a="~"===r[1],u=a?"span":"div",s=r[2];if(o[s]=o[u],i[s]=u,a||(w[s.toUpperCase()]={},w[s]={}),!n[s]){var c=n[u];delete(c=Ni({},c)).removeEmptyAttrs,delete c.removeEmpty,n[s]=c}Mi(o,(function(e,t){e[u]&&(o[t]=e=Ni({},o[t]),e[s]=e[u])}))})))},_=function(e){var t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ai[s]=null,e&&Mi(Li(e,","),(function(e){var n,r,i=t.exec(e);i&&(r=i[1],n=r?o[i[2]]:o[i[2]]={"#comment":{}},n=o[i[2]],Mi(Li(i[3],"|"),(function(e){"-"===r?delete n[e]:n[e]={}})))}))},T=function(e){var t,o=n[e];if(o)return o;for(t=r.length;t--;)if((o=r[t]).pattern.test(e))return o};e.valid_elements?E(e.valid_elements):(Mi(c,(function(e,t){n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),Mi(Li("strong/b em/i"),(function(e){var t=Li(e,"/");n[t[1]].outputName=t[0]})),Mi(Li("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){n[e]&&(n[e].removeEmpty=!0)})),Mi(Li("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){n[e].paddEmpty=!0})),Mi(Li("span"),(function(e){n[e].removeEmptyAttrs=!0}))),O(e.custom_elements),_(e.valid_children),S(e.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),Mi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){n[t]&&(n[t].parentsRequired=Li(e))})),e.invalid_elements&&Mi(zi(e.invalid_elements),(function(e){n[e]&&delete n[e]})),T("span")||S("span[!data-mce-type|*]");var A=q(l),R=q(d),D=q(f),M=q(h),N=q(w),z=q(x),P=q(C),L=q(Object.seal(g)),F=q(p),B=q(b),I=q(y),H=q(m),V=q(Object.seal(a)),j=q(i);return{type:s,children:o,elements:n,getValidStyles:A,getValidClasses:D,getBlockElements:N,getInvalidStyles:R,getVoidElements:L,getTextBlockElements:z,getTextInlineElements:P,getBoolAttrs:M,getElementRule:T,getSelfClosingElements:F,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:I,getWhitespaceElements:H,getSpecialElements:V,isValidChild:function(e,t){var n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,o,r=T(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(o=n.length;o--;)if(n[o].pattern.test(t))return!0}return!1},getCustomElements:j,addValidElements:S,setValidElements:E,addCustomElements:O,addValidChildren:_}},qi=function(e,t){var n,o,r,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,s={},c=Cr;e=e||{},t&&(o=t.getValidStyles(),r=t.getInvalidStyles());var l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<l.length;n++)s[l[n]]=c+n,s[c+n]=l[n];var d={parse:function(t){var o,r,l,f,m,p,g,h,v={},b=e.url_converter,y=e.url_converter_scope||d,x=function(e,t,o){var r=v[e+"-top"+t];if(r){var i=v[e+"-right"+t];if(i){var a=v[e+"-bottom"+t];if(a){var u=v[e+"-left"+t];if(u){var s=[r,i,a,u];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&o||(v[e+t]=-1===n?s[0]:s.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}}}}},w=function(e){var t,n=v[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}},C=function(e){return f=!0,s[e]},k=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return s[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},S=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},E=function(e){return e.replace(/\\[0-9a-f]+/gi,S)},O=function(t,n,o,r,i,a){if(i=i||a)return"'"+(i=k(i)).replace(/\'/g,"\\'")+"'";if(n=k(n||o||r),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return b&&(n=b.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,C)}));o=a.exec(t);)if(a.lastIndex=o.index+o[0].length,r=o[1].replace(u,"").toLowerCase(),l=o[2].replace(u,""),r&&l){if(r=E(r),l=E(l),-1!==r.indexOf(c)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===r&&"700"===l?l="bold":"color"!==r&&"background-color"!==r||(l=l.toLowerCase()),l=l.replace(i,O),v[r]=f?k(l,!0):l}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),m="border",g="border-style",h="border-color",w(p="border-width")&&w(g)&&w(h)&&(v[m]=v[p]+" "+v[g]+" "+v[h],delete v[p],delete v[g],delete v[h]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){var n="",i=function(t){var r,i=o[t];if(i)for(var a=0,u=i.length;a<u;a++)t=i[a],(r=e[t])&&(n+=(n.length>0?" ":"")+t+": "+r+";")};return t&&o?(i("*"),i(t)):Ee(e,(function(e,o){!e||r&&!function(e,t){var n=r["*"];return(!n||!n[e])&&!((n=r[t])&&n[e])}(o,t)||(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return d},Ii={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Hi=function(e){return D(e.preventDefault)||function(e){return e instanceof Event||N(e.initEvent)}(e)},Vi=function(e,t){var n=null!==t&&void 0!==t?t:{};for(var o in e)ze(Ii,o)||(n[o]=e[o]);return M(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n},ji=function(e,t,n,o){var r,i=Vi(t,o);return i.type=e,D(i.target)&&(i.target=null!==(r=i.srcElement)&&void 0!==r?r:n),Hi(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=$,N(t.preventDefault)&&t.preventDefault()},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=$,N(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=$,i.stopPropagation()},function(e){return e.isDefaultPrevented===$||e.isDefaultPrevented===W}(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?$:W,i.isPropagationStopped=!0===i.cancelBubble?$:W,i.isImmediatePropagationStopped=W)),i},Ui=/^(?:mouse|contextmenu)|click/,Gi=function(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Wi=function(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n)},$i=function(e,t){var n=ji(e.type,e,document,t);if(function(e){return M(e)&&Ui.test(e.type)}(e)&&R(e.pageX)&&!R(e.clientX)){var o=n.target.ownerDocument||document,r=o.documentElement,i=o.body,a=n;a.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}return n},Ki=function(e,t,n){var o=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var i=function o(){Wi(e,"DOMContentLoaded",o),Wi(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?i():Gi(e,"DOMContentLoaded",i),n.domLoaded||Gi(e,"load",i)}},Ji=function(){function e(){l(this,e),this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return d(e,[{key:"bind",value:function(e,t,n,o){var r,i,a,u,s,c,l,d=this,f=window,m=function(e){d.executeHandlers($i(e||f.event),r)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?r=e[d.expando]:(r=d.count++,e[d.expando]=r,d.events[r]={}),o=o||e;var p=t.split(" ");for(a=p.length;a--;)c=m,s=l=!1,"DOMContentLoaded"===(u=p[a])&&(u="ready"),d.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(o,$i({type:u})):(d.hasMouseEnterLeave||(s=d.mouseEnterLeave[u])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=$i(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,r))}),d.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function(e){(e=$i(e||f.event)).type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,r)}),(i=d.events[r][u])?"ready"===u&&d.domLoaded?n($i({type:u})):i.push({func:n,scope:o}):(d.events[r][u]=i=[{func:n,scope:o}],i.fakeName=s,i.capture=l,i.nativeHandler=c,"ready"===u?Ki(e,c,d):Gi(e,s||u,c,l)));return e=i=null,n}}},{key:"unbind",value:function(e,t,n){var o,r,i,a,u;if(!e||3===e.nodeType||8===e.nodeType)return this;var s=e[this.expando];if(s){if(u=this.events[s],t){var c=t.split(" ");for(r=c.length;r--;)if(o=u[a=c[r]]){if(n)for(i=o.length;i--;)if(o[i].func===n){var l=o.nativeHandler,d=o.fakeName,f=o.capture;(o=o.slice(0,i).concat(o.slice(i+1))).nativeHandler=l,o.fakeName=d,o.capture=f,u[a]=o}n&&0!==o.length||(delete u[a],Wi(e,o.fakeName||a,o.nativeHandler,o.capture))}}else Ee(u,(function(t,n){Wi(e,t.fakeName||n,t.nativeHandler,t.capture)})),u={};for(a in u)if(ze(u,a))return this;delete this.events[s];try{delete e[this.expando]}catch(m){e[this.expando]=null}}return this}},{key:"fire",value:function(e,t,n){return this.dispatch(e,t,n)}},{key:"dispatch",value:function(e,t,n){var o;if(!e||3===e.nodeType||8===e.nodeType)return this;var r=$i({type:t,target:e},n);do{(o=e[this.expando])&&this.executeHandlers(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}},{key:"clean",value:function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this}},{key:"destroy",value:function(){this.events={}}},{key:"cancel",value:function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}},{key:"executeHandlers",value:function(e,t){var n=this.events[t],o=n&&n[e.type];if(o)for(var r=0,i=o.length;r<i;r++){var a=o[r];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}]),e}();Ji.Event=new Ji;var Yi=jt.each,Xi=jt.grep,Qi="data-mce-style",Zi=function(e,t,n){D(n)||""===n?cn(e,t):on(e,t,n)},ea=function(e,t,n){var o=t.keep_values,r={set:function(e,o,r){var i=kn.fromDom(e);N(t.url_converter)&&M(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),o,r,e[0])),Zi(i,"data-mce-"+r,o),Zi(i,r,o)},get:function(e,t){var n=kn.fromDom(e);return an(n,"data-mce-"+t)||an(n,t)}},i={style:{set:function(t,n){var r=kn.fromDom(t);E(n)?eo(r,n):(o&&Zi(r,Qi,n),cn(r,"style"),S(n)&&eo(r,e.parse(n)))},get:function(t){var n=kn.fromDom(t),o=an(n,Qi)||an(n,"style");return e.serialize(e.parse(o),Jt(n))}}};return o&&(i.href=i.src=r),i},ta=function(e,t){var n=an(t,"style"),o=e.serialize(e.parse(n),Jt(t));Zi(t,Qi,o)},na=function(e,t){var n,o,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)o=e.nodeType,(!t||3!==o||o!==n&&e.nodeValue.length)&&(r++,n=o);return r},oa=jt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),ra=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},ia=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={},r=window,i={},a=0,u=!0,s=!0,c=cr.forElement(kn.fromDom(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),l=[],d=n.schema?n.schema:Bi({}),f=qi({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),m=n.ownEvents?new Ji:Ji.Event,p=d.getBlockElements(),g=function(e){return S(e)?ze(p,e):Do(e)&&ze(p,e.nodeName)},h=function(e){return e&&t&&S(e)?t.getElementById(e):e},v=function(e){var t=h(e);return M(t)?kn.fromDom(t):null},b=function(e,t,n){var o,r=v(e);if(M(r)&&Qt(r)){var i=Ve[t];o=i&&i.get?i.get(r.dom,t):an(r,t)}return M(o)?o:null!==n&&void 0!==n?n:""},y=function(e){var t=h(e);return D(t)?[]:t.attributes},x=function(e,t,o){G(e,(function(e){if(Do(e)){var r=kn.fromDom(e);""===o&&(o=null);var i=an(r,t),a=Ve[t];a&&a.set?a.set(r.dom,o,t):Zi(r,t,o),i!==o&&n.onSetAttrib&&n.onSetAttrib({attrElm:r,attrName:t,attrValue:o})}}))},w=function(e,t){return e.cloneNode(t)},C=function(){return n.root_element||t.body},k=function(e){var t=To(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},E=function(e,n){return er(t.body,h(e),n)},O=function(e,t,o){var r=function e(t,n){return S(t)?t:z(t)?ze(oa,n)?t+"":t+"px":Oe(t,e)},i=function(e,t,n){var o=ra(t);D(n)||""===n?io(e,o):Zn(e,o,r(n,o))};G(e,(function(e){var r=kn.fromDom(e);S(t)?i(r,t,o):Ee(t,(function(e,t){i(r,t,e)})),n.update_styles&&ta(f,r)}))},T=function(e,t){O(e,t)},A=function(e,t,n){var o=h(e);if(!D(o)&&Do(o))return n?to(kn.fromDom(o),ra(t)):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t="cssFloat"),o.style?o.style[t]:void 0)},R=function(e){var t,n,o=h(e);return t=A(o,"width"),n=A(o,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||o.offsetWidth||o.clientWidth,h:parseInt(n,10)||o.offsetHeight||o.clientHeight}},P=function(e){var t=h(e),n=E(t),o=R(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},F=function(e,t){if(!e)return!1;var n=_(e)?e:[e];return ee(n,(function(e){return En(kn.fromDom(e),t)}))},B=function(e,t,n,o){var r,i=[],a=h(e);for(o=void 0===o,n=n||("BODY"!==C().nodeName?C().parentNode:null),S(t)&&(r=t,t="*"===t?Do:function(e){return F(e,r)});a&&!(a===n||D(a.nodeType)||jo(a)||Uo(a));){if(!t||t(a)){if(!o)return[a];i.push(a)}a=a.parentNode}return o?i:null},I=function(e,t,n){var o=B(e,t,n,!1);return o&&o.length>0?o[0]:null},H=function(e,t,n){var o=t;if(e)for(S(t)&&(o=function(e){return F(e,t)}),e=e[n];e;e=e[n])if(N(o)&&o(e))return e;return null},V=function(e,t){return H(e,t,"nextSibling")},j=function(e,t){return H(e,t,"previousSibling")},U=function(e,o){var r,i,a=null!==(i=null!==(r=h(o))&&void 0!==r?r:n.root_element)&&void 0!==i?i:t;return we(a.querySelectorAll(e))},G=function(e,t,n){var o=null!==n&&void 0!==n?n:this,r=S(e)?h(e):e;if(!r)return!1;if(_(r)&&(r.length||0===r.length)){var i=[];return Yi(r,(function(e,n){e&&i.push(t.call(o,S(e)?h(e):e,n))})),i}return t.call(o,r)},W=function(e,t){G(e,(function(e){Ee(t,(function(t,n){x(e,n,t)}))}))},$=function(e,t){G(e,(function(e){var n=kn.fromDom(e);ho(n,t)}))},K=function(e,n,o,r,i){return G(e,(function(e){var a=S(n)?t.createElement(n):n;return M(o)&&W(a,o),r&&(!S(r)&&r.nodeType?a.appendChild(r):S(r)&&$(a,r)),i?a:e.appendChild(a)}))},J=function(e,n,o){return K(t.createElement(e),e,n,o,!0)},Y=Ti.decode,X=Ti.encodeAllRaw,Q=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="";for(n in r+="<"+e,t)Pe(t,n)&&(r+=" "+n+'="'+X(t[n])+'"');return it(o)&&ze(d.getVoidElements(),e)?r+" />":r+">"+o+"</"+e+">"},Z=function(e){var n,o=t.createElement("div"),r=t.createDocumentFragment();for(r.appendChild(o),e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r.removeChild(o),r},te=function(e,t){return G(e,(function(e){var n=kn.fromDom(e);return t&&ne(Bn(n),(function(e){Zt(e)&&0===e.dom.length?mo(e):ao(n,e)})),mo(n),n.dom}))},oe=function(e){return G(e,(function(e){for(var t=e.attributes,n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))}))},re=function(e){return f.parse(e)},ie=function(e,t){return f.serialize(e,t)},ae=function(n){var r,i;if(He!==e.DOM&&t===document){if(o[n])return;o[n]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=t.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=n:i.appendChild(t.createTextNode(n))},ue=function(e){e||(e=""),ne(e.split(","),(function(e){i[e]=!0,c.load(e).catch(L)}))},se=function(e,t,n){G(e,(function(e){if(Do(e)){var o=kn.fromDom(e),r=t.split(" ");ne(r,(function(e){M(n)?(n?hn:bn)(o,e):yn(o,e)}))}}))},ce=function(e,t){se(e,t,!0)},le=function(e,t){se(e,t,!1)},de=function(e,t){var n=v(e),o=t.split(" ");return me(o,(function(e){return xn(n,e)}))},fe=function(e){G(e,(function(e){return io(kn.fromDom(e),"display")}))},pe=function(e){G(e,(function(e){return Zn(kn.fromDom(e),"display","none")}))},ge=function(e){var t=v(e);return Ut(oo(t,"display"),"none")},he=function(e){return(e||"mce_")+a++},ve=function(e){var t=v(e);return Do(t.dom)?t.dom.outerHTML:vo(t)},be=function(e,t){G(e,(function(e){Do(e)&&(e.outerHTML=t)}))},ye=function(e,t){var n=h(t);return G(e,(function(e){var t=n.parentNode,o=n.nextSibling;return o?t.insertBefore(e,o):t.appendChild(e),e}))},xe=function(e,t,n){return G(t,(function(t){return _(t)&&(e=e.cloneNode(!0)),n&&Yi(Xi(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},Ce=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=J(t),Yi(y(e),(function(t){x(n,t.nodeName,b(e,t.nodeName))})),xe(n,e,!0)),n||e},ke=function(e,t){for(var n,o=e;o;){for(n=t;n&&o!==n;)n=n.parentNode;if(o===n)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},Se=function(e){if(Do(e)){var t="a"===e.nodeName.toLowerCase()&&!b(e,"href")&&b(e,"id");if(b(e,"name")||b(e,"data-mce-bookmark")||t)return!0}return!1},_e=function(e,t){var n,o,r=0;if(Se(e))return!1;if(e=e.firstChild){var i=new lr(e,e.parentNode),a=d?d.getWhitespaceElements():{};t=t||(d?d.getNonEmptyElements():null);do{if(n=e.nodeType,Do(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=i.next("all"===u);continue}if(o=e.nodeName.toLowerCase(),t&&t[o]){if("br"===o){r++,e=i.next();continue}return!1}if(Se(e))return!1}if(8===n)return!1;if(3===n&&!Zr(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Zr(e.nodeValue))return!1;e=i.next()}while(e)}return r<=1},Te=function(){return t.createRange()},Ae=function(e,t,n){var o,r,i,a=Te();if(e&&t)return a.setStart(e.parentNode,na(e)),a.setEnd(t.parentNode,na(t)),o=a.extractContents(),(a=Te()).setStart(t.parentNode,na(t)+1),a.setEnd(e.parentNode,na(e)+1),r=a.extractContents(),(i=e.parentNode).insertBefore(pi(He,o),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(pi(He,r),e),te(e),n||t},Re=function e(o,i,a,u){if(_(o)){for(var s=o.length,c=[];s--;)c[s]=e(o[s],i,a,u);return c}return!n.collect||o!==t&&o!==r||l.push([o,i,a,u]),m.bind(o,i,a,u||He)},De=function e(n,o,i){if(_(n)){for(var a=n.length,u=[];a--;)u[a]=e(n[a],o,i);return u}if(l.length>0&&(n===t||n===r))for(var s=l.length;s--;){var c=l[s];n!==c[0]||o&&o!==c[1]||i&&i!==c[2]||m.unbind(c[0],c[1],c[2])}return m.unbind(n,o,i)},Me=function(e,t,n){return m.dispatch(e,t,n)},Ne=function(e,t,n){return m.dispatch(e,t,n)},Le=function(e){if(e&&Do(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Fe=function(e){for(var t=C(),n=null;e&&e!==t&&null===(n=Le(e));e=e.parentNode);return n},Be=function(){if(l.length>0)for(var e=l.length;e--;){var t=l[e];m.unbind(t[0],t[1],t[2])}Ee(i,(function(e,t){c.unload(t),delete i[t]}))},qe=function(e,t){return e===t||t.contains(e)},Ie=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},He={doc:t,settings:n,win:r,files:i,stdMode:u,boxModel:s,styleSheetLoader:c,boundEvents:l,styles:f,schema:d,events:m,isBlock:g,root:null,clone:w,getRoot:C,getViewPort:k,getRect:P,getSize:R,getParent:I,getParents:B,get:h,getNext:V,getPrev:j,select:U,is:F,add:K,create:J,createHTML:Q,createFragment:Z,remove:te,setStyle:O,getStyle:A,setStyles:T,removeAllAttribs:oe,setAttrib:x,setAttribs:W,getAttrib:b,getPos:E,parseStyle:re,serializeStyle:ie,addStyle:ae,loadCSS:ue,addClass:ce,removeClass:le,hasClass:de,toggleClass:se,show:fe,hide:pe,isHidden:ge,uniqueId:he,setHTML:$,getOuterHTML:ve,setOuterHTML:be,decode:Y,encode:X,insertAfter:ye,replace:xe,rename:Ce,findCommonAncestor:ke,run:G,getAttribs:y,isEmpty:_e,createRng:Te,nodeIndex:na,split:Ae,bind:Re,unbind:De,fire:Ne,dispatch:Me,getContentEditable:Le,getContentEditableParent:Fe,destroy:Be,isChildOf:qe,dumpRng:Ie},Ve=ea(f,n,q(He));return He};ia.DOM=ia(document),ia.nodeIndex=na;var aa=ia.DOM,ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}return d(e,[{key:"_setReferrerPolicy",value:function(e){this.settings.referrerPolicy=e}},{key:"loadScript",value:function(e){var t=this;return new Promise((function(n,o){var r,i=aa,a=function(){i.remove(u),r&&(r.onerror=r.onload=r=null)},u=i.uniqueId();(r=document.createElement("script")).id=u,r.type="text/javascript",r.src=jt._addCacheSuffix(e),t.settings.referrerPolicy&&i.setAttrib(r,"referrerpolicy",t.settings.referrerPolicy),r.onload=function(){a(),n()},r.onerror=function(){a(),o("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}))}},{key:"isDone",value:function(e){return 2===this.states[e]}},{key:"markDone",value:function(e){this.states[e]=2}},{key:"add",value:function(e){var t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise((function(n,o){t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}},{key:"load",value:function(e){return this.add(e)}},{key:"remove",value:function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}},{key:"loadQueue",value:function(){var e=this.queue;return this.queue=[],this.loadScripts(e)}},{key:"loadScripts",value:function(e){var t=this,n=function(e,n){Ne(t.scriptLoadedCallbacks,n).each((function(t){ne(t,(function(t){return t[e](n)}))})),delete t.scriptLoadedCallbacks[n]},o=function(e){var t=ie(e,(function(e){return"rejected"===e.status}));return t.length>0?Promise.reject(fe(t,(function(e){var t=e.reason;return _(t)?t:[t]}))):Promise.resolve()},r=function e(r){return Promise.allSettled(te(r,(function(r){return 2===t.states[r]?(n("resolve",r),Promise.resolve()):3===t.states[r]?(n("reject",r),Promise.reject(r)):(t.states[r]=1,t.loadScript(r).then((function(){t.states[r]=2,n("resolve",r);var i=t.queue;if(i.length>0)return t.queue=[],e(i).then(o)}),(function(){return t.states[r]=3,n("reject",r),Promise.reject(r)})))})))},i=function(e){return t.loading=!0,r(e).then((function(e){t.loading=!1;var n=t.queueLoadedCallbacks.shift();return K.from(n).each(G),o(e)}))},a=Le(e);return t.loading?new Promise((function(e,n){t.queueLoadedCallbacks.push((function(){return i(a).then(e,n)}))})):i(a)}}]),e}();ua.ScriptLoader=new ua;var sa=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},ca={},la=sa("en"),da=function(){return Ne(ca,la.get())},fa={getData:function(){return Oe(ca,(function(e){return c({},e)}))},setCode:function(e){e&&la.set(e)},getCode:function(){return la.get()},add:function(e,t){var n=ca[e];n||(ca[e]=n={}),Ee(t,(function(e,t){n[t.toLowerCase()]=e}))},translate:function(e){var t,n=da().getOr({}),o=function(e){return N(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},i=function(e){var t=o(e);return Ne(n,t.toLowerCase()).map(o).getOr(t)},a=function(e){return e.replace(/{context:\w+}$/,"")};if(r(e))return"";if(E(t=e)&&ze(t,"raw"))return o(e.raw);if(function(e){return _(e)&&e.length>1}(e)){var u=e.slice(1);return a(i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return ze(u,t)?o(u[t]):e})))}return a(i(e))},isRtl:function(){return da().bind((function(e){return Ne(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return ze(ca,e)}},ma=function e(){var t=[],n={},o={},r=[],i=function(e,t){var n=ie(r,(function(n){return n.name===e&&n.state===t}));ne(n,(function(e){return e.resolve()}))},a=function(e){return ze(n,e)},u=function(e){return ze(o,e)},s=function(e,t){var o=fa.getCode();!o||t&&-1===(","+(t||"")+",").indexOf(","+o+",")||ua.ScriptLoader.add(n[e]+"/langs/"+o+".js")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"added";return"added"===t&&u(e)||"loaded"===t&&a(e)?Promise.resolve():new Promise((function(n){r.push({name:e,state:t,resolve:n})}))};return{items:t,urls:n,lookup:o,get:function(e){if(o[e])return o[e].instance},requireLangPack:function(t,n){!1!==e.languageLoad&&(a(t)?s(t,n):c(t,"loaded").then((function(){return s(t,n)})))},add:function(e,n){return t.push(n),o[e]={instance:n},i(e,"added"),n},remove:function(e){delete n[e],delete o[e]},createUrl:function(e,t){return S(t)?S(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t},load:function(t,r){if(n[t])return Promise.resolve();var a=S(r)?r:r.prefix+r.resource+r.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=e.baseURL+"/"+a),n[t]=a.substring(0,a.lastIndexOf("/"));var u=function(){return i(t,"loaded"),Promise.resolve()};return o[t]?u():ua.ScriptLoader.add(a).then(u)},waitFor:c}};ma.languageLoad=!0,ma.baseURL="",ma.PluginManager=ma(),ma.ThemeManager=ma(),ma.ModelManager=ma();var pa=function(){var e=function(e){var t=sa(K.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(K.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(K.some(e))}}}(L);return c(c({},e),{},{on:function(t){return e.get().each(t)}})},ga=function(e,t){var n=null;return{cancel:function(){T(n)||(clearTimeout(n),n=null)},throttle:function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];T(n)&&(n=setTimeout((function(){n=null,e.apply(null,r)}),t))}}},ha=function(e,t){var n=null,o=function(){T(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o(),n=setTimeout((function(){n=null,e.apply(null,i)}),t)}}},va=function e(t,n){var o=[];return ne(Bn(t),(function(t){n(t)&&(o=o.concat([t])),o=o.concat(e(t,n))})),o},ba=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return On(n)?[]:te(n.querySelectorAll(e),kn.fromDom)}(t,e)},ya=q("mce-annotation"),xa=q("data-mce-annotation"),wa=q("data-mce-annotation-uid"),Ca=q("data-mce-annotation-active"),ka=function(e,t){var n=e.selection.getRng(),o=kn.fromDom(n.startContainer),r=kn.fromDom(e.getBody()),i=t.fold((function(){return"."+ya()}),(function(e){return"[".concat(xa(),'="').concat(e,'"]')})),a=qn(o,n.startOffset).getOr(o),u=ur(a,i,(function(e){return _n(e,r)})),s=function(e,t){return sn(e,t)?K.some(an(e,t)):K.none()};return u.bind((function(t){return s(t,"".concat(wa())).bind((function(n){return s(t,"".concat(xa())).map((function(t){var o=Sa(e,n);return{uid:n,name:t,elements:o}}))}))}))},Sa=function(e,t){var n=kn.fromDom(e.getBody());return ba(n,"[".concat(wa(),'="').concat(t,'"]'))},Ea=function(e,t){var n=kn.fromDom(e.getBody()),o=ba(n,"[".concat(xa(),'="').concat(t,'"]')),r={};return ne(o,(function(e){var t=an(e,wa()),n=Ne(r,t).getOr([]);r[t]=n.concat([e])})),r},Oa=function(e,t){var n=sa({}),o=function(){return{listeners:[],previous:pa()}},r=function(e,t){i(e,(function(e){return t(e),e}))},i=function(e,t){var r=n.get(),i=t(Ne(r,e).getOrThunk(o));r[e]=i,n.set(r)},a=function(t,n){ne(Sa(e,t),(function(e){n?on(e,Ca(),"true"):cn(e,Ca())}))},u=ha((function(){var n=ve(t.getNames());ne(n,(function(t){i(t,(function(n){var o=n.previous.get();return ka(e,K.some(t)).fold((function(){o.each((function(e){!function(e){r(e,(function(t){ne(t.listeners,(function(t){return t(!1,e)}))}))}(t),n.previous.clear(),a(e,!1)}))}),(function(e){var t=e.uid,i=e.name,u=e.elements;Ut(o,t)||(o.each((function(e){return a(e,!1)})),function(e,t,n){r(e,(function(o){ne(o.listeners,(function(o){return o(!0,e,{uid:t,nodes:te(n,(function(e){return e.dom}))})}))}))}(i,t,u),n.previous.set(t),a(t,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){u.cancel()})),e.on("NodeChange",(function(){u.throttle()}));return{addListener:function(e,t){i(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}},_a=function(e,t){e.serializer.addTempAttr(Ca()),e.serializer.addNodeFilter("span",(function(e){ne(e,(function(e){(function(e){return K.from(e.attr(xa())).bind(t.lookup)})(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))},Ta=0,Aa=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Ta+String(t)},Ra=function(e,t){return kn.fromDom(e.dom.cloneNode(t))},Da=function(e){return Ra(e,!1)},Ma=function(e){return Ra(e,!0)},Na=function(e,t){var n=function(e,t){var n=kn.fromTag(t),o=ln(e);return rn(n,o),n}(e,t);uo(e,n);var o=Bn(e);return lo(n,o),mo(e),n},za=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,o=new lr(e,t),r=function(e){var t;do{t=o[e]()}while(t&&!qo(t)&&!n(t));return K.from(t).filter(qo)};return{current:function(){return K.from(o.current()).filter(qo)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}},Pa=function(e,t){var n=t||function(t){return e.isBlock(t)||Go(t)||Ko(t)},o=function e(t,n,o,r){if(qo(t)){var i=r(t,n,t.data);if(-1!==i)return K.some({container:t,offset:i})}return o().bind((function(t){return e(t.container,t.offset,o,r)}))};return{backwards:function(e,t,r,i){var a=za(e,i,n);return o(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),r).getOrNull()},forwards:function(e,t,r,i){var a=za(e,i,n);return o(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),r).getOrNull()}}},La=Math.round,Fa=function(e){return e?{left:La(e.left),top:La(e.top),bottom:La(e.bottom),right:La(e.right),width:La(e.width),height:La(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ba=function(e,t){return e=Fa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},qa=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Ia=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&qa(t.top-e.bottom,e,t)},Ha=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&qa(t.bottom-e.top,e,t)},Va=function(e,t,n){var o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},ja=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ua=function(e,t){if(Do(e)&&e.hasChildNodes()){var n=e.childNodes,o=function(e,t,n){return Math.min(Math.max(e,t),n)}(t,0,n.length-1);return n[o]}return e},Ga=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Wa=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Ga.test(e)},$a=Do,Ka=Jr,Ja=No("display","block table"),Ya=No("float","left right"),Xa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}($a,Ka,j(Ya)),Qa=j(No("white-space","pre pre-line pre-wrap")),Za=qo,eu=Go,tu=ia.nodeIndex,nu=function(e,t){return t<0&&Do(e)&&e.hasChildNodes()?void 0:Ua(e,t)},ou=function(e){return"createRange"in e?e.createRange():ia.DOM.createRng()},ru=function(e){return e&&/[\r\n\t ]/.test(e)},iu=function(e){return!!e.setStart&&!!e.setEnd},au=function(e){var t=e.startContainer,n=e.startOffset;if(ru(e.toString())&&Qa(t.parentNode)&&qo(t)){var o=t.data;if(ru(o[n-1])||ru(o[n+1]))return!0}return!1},uu=function(e){var t=e.startContainer,n=e.endContainer,o=e.startOffset,r=e.endOffset;if(t===n&&qo(n)&&0===o&&1===r){var i=e.cloneRange();return i.setEndAfter(n),cu(i)}return null},su=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},cu=function(e){var t,n=e.getClientRects();return t=n.length>0?Fa(n[0]):Fa(e.getBoundingClientRect()),!iu(e)&&eu(e)&&su(t)?function(e){var t=e.ownerDocument,n=ou(t),o=t.createTextNode(kr),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);var i=Fa(n.getBoundingClientRect());return r.removeChild(o),i}(e):su(t)&&iu(e)?uu(e):t},lu=function(e,t){var n=Ba(e,t);return n.width=1,n.right=n.left+1,n},du=function(e){var t=[],n=function(e){var n,o;0!==e.height&&(t.length>0&&(n=e,o=t[t.length-1],n.left===o.left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right)||t.push(e))},o=function(e,o){var r=ou(e.ownerDocument);if(o<e.data.length){if(Wa(e.data[o]))return t;if(Wa(e.data[o-1])&&(r.setStart(e,o),r.setEnd(e,o+1),!au(r)))return n(lu(cu(r),!1)),t}o>0&&(r.setStart(e,o-1),r.setEnd(e,o),au(r)||n(lu(cu(r),!1))),o<e.data.length&&(r.setStart(e,o),r.setEnd(e,o+1),au(r)||n(lu(cu(r),!0)))},r=e.container(),i=e.offset();if(Za(r))return o(r,i),t;if($a(r))if(e.isAtEnd()){var a=nu(r,i);Za(a)&&o(a,a.data.length),Xa(a)&&!eu(a)&&n(lu(cu(a),!1))}else{var u=nu(r,i);if(Za(u)&&o(u,0),Xa(u)&&e.isAtEnd())return n(lu(cu(u),!1)),t;var s=nu(e.container(),e.offset()-1);Xa(s)&&!eu(s)&&(Ja(s)||Ja(u)||!Xa(u))&&n(lu(cu(s),!1)),Xa(u)&&n(lu(cu(u),!0))}return t},fu=function e(t,n,o){var r=function(){return o||(o=du(e(t,n))),o};return{container:q(t),offset:q(n),toRange:function(){var e=ou(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return Za(t),0===n},isAtEnd:function(){return Za(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return nu(t,e?n-1:n)}}};fu.fromRangeStart=function(e){return fu(e.startContainer,e.startOffset)},fu.fromRangeEnd=function(e){return fu(e.endContainer,e.endOffset)},fu.after=function(e){return fu(e.parentNode,tu(e)+1)},fu.before=function(e){return fu(e.parentNode,tu(e))},fu.isAbove=function(e,t){return Gt(ye(t.getClientRects()),xe(e.getClientRects()),Ia).getOr(!1)},fu.isBelow=function(e,t){return Gt(xe(t.getClientRects()),ye(e.getClientRects()),Ha).getOr(!1)},fu.isAtStart=function(e){return!!e&&e.isAtStart()},fu.isAtEnd=function(e){return!!e&&e.isAtEnd()},fu.isTextPosition=function(e){return!!e&&qo(e.container())},fu.isElementPosition=function(e){return!1===fu.isTextPosition(e)};var mu=function(e,t){qo(t)&&0===t.data.length&&e.remove(t)},pu=function(e,t,n){Uo(n)?function(e,t,n){var o=K.from(n.firstChild),r=K.from(n.lastChild);t.insertNode(n),o.each((function(t){return mu(e,t.previousSibling)})),r.each((function(t){return mu(e,t.nextSibling)}))}(e,t,n):function(e,t,n){t.insertNode(n),mu(e,n.previousSibling),mu(e,n.nextSibling)}(e,t,n)},gu=qo,hu=Po,vu=ia.nodeIndex,bu=function e(t){var n=t.parentNode;return hu(n)?e(n):n},yu=function e(t){return t?Ve(t.childNodes,(function(t,n){return hu(n)&&"BR"!==n.nodeName?t=t.concat(e(n)):t.push(n),t}),[]):[]},xu=function(e){return function(t){return e===t}},wu=function(e){var t,n;t=yu(bu(e)),n=je(t,xu(e),e),t=t.slice(0,n+1);var o=Ve(t,(function(e,n,o){return gu(n)&&gu(t[o-1])&&e++,e}),0);return t=Ie(t,Mo([e.nodeName])),(n=je(t,xu(e),e))-o},Cu=function(e){return(gu(e)?"text()":e.nodeName.toLowerCase())+"["+wu(e)+"]"},ku=function(e,t){var n,o,r,i,a,u=[];return n=t.container(),o=t.offset(),gu(n)?r=function(e,t){for(;(e=e.previousSibling)&&gu(e);)t+=e.data.length;return t}(n,o):(o>=(i=n.childNodes).length?(r="after",o=i.length-1):r="before",n=i[o]),u.push(Cu(n)),a=function(e,t,n){var o=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)o.push(t);return o}(e,n),a=Ie(a,j(Po)),(u=u.concat(qe(a,(function(e){return Cu(e)})))).reverse().join("/")+","+r},Su=function(e,t){var n;if(!t)return null;var o=t.split(","),r=o[0].split("/");n=o.length>1?o[1]:"before";var i=Ve(r,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),function(e,t,n){var o=yu(e);return o=Ie(o,(function(e,t){return!gu(e)||!gu(o[t-1])})),(o=Ie(o,Mo([t])))[n]}(e,n[1],parseInt(n[2],10))):null}),e);return i?gu(i)?function(e,t){for(var n,o=e,r=0;gu(o);){if(n=o.data.length,t>=r&&t<=r+n){e=o,t-=r;break}if(!gu(o.nextSibling)){e=o,t=n;break}r+=n,o=o.nextSibling}return gu(e)&&t>e.data.length&&(t=e.data.length),fu(e,t)}(i,parseInt(n,10)):(n="after"===n?vu(i)+1:vu(i),fu(i.parentNode,n)):null},Eu=Ko,Ou=function(e,t,n,o,r){var i,a=o[r?"startContainer":"endContainer"],u=o[r?"startOffset":"endOffset"],s=[],c=0,l=e.getRoot();for(qo(a)?s.push(n?function(e,t,n){var o,r;for(r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&qo(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s},_u=function(e,t,n){var o=0;return jt.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void o++})),o},Tu=function(e,t){var n,o,r,i=t?"start":"end";n=e[i+"Container"],o=e[i+"Offset"],Do(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?o:o-1,r.length-1)])&&(o=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,o))},Au=function(e){return Tu(e,!0),Tu(e,!1),e},Ru=function(e,t){var n;if(Do(e)&&(e=Ua(e,t),Eu(e)))return e;if(Mr(e)){if(qo(e)&&Rr(e)&&(e=e.parentNode),n=e.previousSibling,Eu(n))return n;if(n=e.nextSibling,Eu(n))return n}},Du=function(e,t,n){var o=n.getNode(),r=o?o.nodeName:null,i=n.getRng();if(Eu(o)||"IMG"===r)return{name:r,index:_u(n.dom,r,o)};var a=function(e){return Ru(e.startContainer,e.startOffset)||Ru(e.endContainer,e.endOffset)}(i);return a?{name:r=a.tagName,index:_u(n.dom,r,a)}:function(e,t,n,o){var r=t.dom,i={};return i.start=Ou(r,e,n,o,!0),t.isCollapsed()||(i.end=Ou(r,e,n,o,!1)),Ir(o)&&(i.isFakeCaret=!0),i}(e,n,t,i)},Mu=function(e,t,n){var o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},Nu=function(e,t){var n=e.dom,o=e.getRng(),r=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:_u(n,u,a)};var s=Au(o.cloneRange());if(!i){s.collapse(!1);var c=Mu(n,r+"_end",t);pu(n,s,c)}(o=Au(o)).collapse(!0);var l=Mu(n,r+"_start",t);return pu(n,o,l),e.moveToBookmark({id:r,keep:!0}),{id:r}},zu=function(e,t,n){return 2===t?Du(_r,n,e):3===t?function(e){var t=e.getRng();return{start:ku(e.dom.getRoot(),fu.fromRangeStart(t)),end:ku(e.dom.getRoot(),fu.fromRangeEnd(t))}}(e):t?function(e){return{rng:e.getRng()}}(e):Nu(e,!1)},Pu=V(Du,I,!0),Lu=function(e){var t=function(t){return t(e)},n=q(e),o=function(){return r},r={tag:!0,inner:e,fold:function(t,n){return n(e)},isValue:$,isError:W,map:function(t){return Bu.value(t(e))},mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:function(t){t(e)},toOptional:function(){return K.some(e)}};return r},Fu=function(e){var t,n=function(){return o},o={tag:!1,inner:e,fold:function(t,n){return t(e)},isValue:W,isError:$,map:n,mapError:function(t){return Bu.error(t(e))},bind:n,exists:W,forall:$,getOr:I,or:I,getOrThunk:U,orThunk:U,getOrDie:(t=String(e),function(){throw new Error(t)}),each:L,toOptional:K.none};return o},Bu={value:Lu,error:Fu,fromOption:function(e,t){return e.fold((function(){return Fu(t)}),Lu)}},qu=function(e){if(!_(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return ne(e,(function(o,r){var i=ke(o);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!_(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=o.length;if(s!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+s);var c=function(e){var n=ke(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!me(t,(function(e){return Z(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,o)};return{fold:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+n.length);var a=n[r];return a.apply(null,o)},match:c,log:function(e){console.log(e,{constructors:t,constructor:a,params:o})}}}})),n};qu([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Iu,Hu=function(e){return"inline-command"===e.type||"inline-format"===e.type},Vu=function(e){return"block-command"===e.type||"block-format"===e.type},ju=function(e){var t=function(t){return Bu.error({message:t,pattern:e})},n=function(n,o,r){if(void 0!==e.format){var i;if(_(e.format)){if(!me(e.format,S))return t(n+" pattern has non-string items in the `format` array");i=e.format}else{if(!S(e.format))return t(n+" pattern has non-string `format` parameter");i=[e.format]}return Bu.value(o(i))}return void 0!==e.cmd?S(e.cmd)?Bu.value(r(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!E(e))return t("Raw pattern is not an object");if(!S(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!S(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");var o=e.start,r=e.end;return 0===r.length&&(r=o,o=""),n("Inline",(function(e){return{type:"inline-format",start:o,end:r,format:e}}),(function(e,t){return{type:"inline-command",start:o,end:r,cmd:e,value:t}}))}return void 0!==e.replacement?S(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Bu.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(function(t){return{type:"block-format",start:e.start,format:t[0]}}),(function(t,n){return{type:"block-command",start:e.start,cmd:t,value:n}}))},Uu=function(e){return function(e){return ve(e,(function(e,t){return e.start.length===t.start.length?0:e.start.length>t.start.length?-1:1}))}(ie(e,Vu))},Gu=function(e){return ie(e,Hu)},Wu=function(e){var t=function(e){var t=[],n=[];return ne(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(te(e,ju));return ne(t.errors,(function(e){return console.error(e.message,e.pattern)})),t.values},$u=Mt().deviceType,Ku=$u.isTouch(),Ju=ia.DOM,Yu=function(e){var t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ue(t,(function(e,t){var n=t.split("="),o=n[0],r=n.length>1?n[1]:o;return e[tt(o)]=tt(r),e}),{})},Xu=function(e){return k(e,RegExp)},Qu=function(e){return function(t){return t.options.get(e)}},Zu=function(e){return S(e)||E(e)},es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){var o=S(n);if(o){if(-1!==n.indexOf("=")){var r=Yu(n);return{value:Ne(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}}},ts=Qu("iframe_attrs"),ns=Qu("doctype"),os=Qu("document_base_url"),rs=Qu("body_id"),is=Qu("body_class"),as=Qu("content_security_policy"),us=Qu("br_in_pre"),ss=Qu("forced_root_block"),cs=Qu("forced_root_block_attrs"),ls=Qu("br_newline_selector"),ds=Qu("no_newline_selector"),fs=Qu("keep_styles"),ms=Qu("end_container_on_empty_block"),ps=Qu("automatic_uploads"),gs=Qu("images_reuse_filename"),hs=Qu("images_replace_blob_uris"),vs=Qu("icons"),bs=Qu("icons_url"),ys=Qu("images_upload_url"),xs=Qu("images_upload_base_path"),ws=Qu("images_upload_credentials"),Cs=Qu("images_upload_handler"),ks=Qu("content_css_cors"),Ss=Qu("referrer_policy"),Es=Qu("language"),Os=Qu("language_url"),_s=Qu("indent_use_margin"),Ts=Qu("indentation"),As=Qu("content_css"),Rs=Qu("content_style"),Ds=Qu("font_css"),Ms=Qu("directionality"),Ns=Qu("inline_boundaries_selector"),zs=Qu("object_resizing"),Ps=Qu("resize_img_proportional"),Ls=Qu("placeholder"),Fs=Qu("event_root"),Bs=Qu("service_message"),qs=Qu("theme"),Is=Qu("theme_url"),Hs=Qu("model"),Vs=Qu("model_url"),js=Qu("inline_boundaries"),Us=Qu("formats"),Gs=Qu("preview_styles"),Ws=Qu("format_empty_lines"),$s=Qu("custom_ui_selector"),Ks=Qu("inline"),Js=Qu("hidden_input"),Ys=Qu("submit_patch"),Xs=Qu("add_form_submit_trigger"),Qs=Qu("add_unload_trigger"),Zs=Qu("custom_undo_redo_levels"),ec=Qu("disable_nodechange"),tc=Qu("readonly"),nc=Qu("content_css_cors"),oc=Qu("plugins"),rc=Qu("external_plugins"),ic=Qu("block_unsupported_drop"),ac=Qu("visual"),uc=Qu("visual_table_class"),sc=Qu("visual_anchor_class"),cc=Qu("iframe_aria_text"),lc=Qu("setup"),dc=Qu("init_instance_callback"),fc=Qu("urlconverter_callback"),mc=Qu("auto_focus"),pc=Qu("browser_spellcheck"),gc=Qu("protect"),hc=Qu("paste_block_drop"),vc=Qu("paste_data_images"),bc=Qu("paste_preprocess"),yc=Qu("paste_postprocess"),xc=Qu("paste_webkit_styles"),wc=Qu("paste_remove_styles_if_webkit"),Cc=Qu("paste_merge_formats"),kc=Qu("smart_paste"),Sc=Qu("paste_as_text"),Ec=Qu("paste_tab_spaces"),Oc=Qu("allow_html_data_urls"),_c=Qu("text_patterns"),Tc=Qu("noneditable_class"),Ac=Qu("editable_class"),Rc=Qu("noneditable_regexp"),Dc=function(e){return jt.explode(e.options.get("images_file_types"))},Mc=Qu("table_tab_navigation"),Nc=Do,zc=qo,Pc=function(e){var t=e.parentNode;t&&t.removeChild(e)},Lc=function(e){var t=_r(e);return{count:e.length-t.length,text:t}},Fc=function(e){for(var t;-1!==(t=e.data.lastIndexOf(Er));)e.deleteData(t,1)},Bc=function(e,t){return Vc(e),t},qc=function(e,t){var n=t.container(),o=function(e,t){var n=Q(e,t);return-1===n?K.none():K.some(n)}(we(n.childNodes),e).map((function(e){return e<t.offset()?fu(n,t.offset()-1):t})).getOr(t);return Vc(e),o},Ic=function(e,t){return zc(e)&&t.container()===e?function(e,t){var n=Lc(e.data.substr(0,t.offset())),o=Lc(e.data.substr(t.offset()));return(n.text+o.text).length>0?(Fc(e),fu(e,t.offset()-n.count)):t}(e,t):Bc(e,t)},Hc=function(e,t){return fu.isTextPosition(t)?Ic(e,t):function(e,t){return t.container()===e.parentNode?qc(e,t):Bc(e,t)}(e,t)},Vc=function(e){Nc(e)&&Mr(e)&&(Nr(e)?e.removeAttribute("data-mce-caret"):Pc(e)),zc(e)&&(Fc(e),0===e.data.length&&Pc(e))},jc=Ko,Uc=Yo,Gc=Jo,Wc=function(e,t,n){var o,r,i=Ba(t.getBoundingClientRect(),n);if("BODY"===e.tagName){var a=e.ownerDocument.documentElement;o=e.scrollLeft||a.scrollLeft,r=e.scrollTop||a.scrollTop}else{var u=e.getBoundingClientRect();o=e.scrollLeft-u.left,r=e.scrollTop-u.top}i.left+=o,i.right+=o,i.top+=r,i.bottom+=r,i.width=1;var s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),i.left+=s,i.right+=s),i},$c=function(e,t,n,o){var r,i,a=pa(),u=ss(e),s=e.dom,l=function(){!function(e){for(var t=ba(kn.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var o=t[n].dom,r=o.previousSibling;if(Br(r)){var i=r.data;1===i.length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)}r=o.nextSibling,Fr(r)&&(1===r.data.length?r.parentNode.removeChild(r):r.deleteData(0,1))}}(t),i&&(Vc(i),i=null),a.on((function(e){s.remove(e.caret),a.clear()})),r&&(clearInterval(r),r=void 0)},d=function(){r=setInterval((function(){a.on((function(e){o()?s.toggleClass(e.caret,"mce-visual-caret-hidden"):s.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:function(e,o){var r;if(l(),Gc(o))return null;if(!n(o))return i=function(e,t){var n=e.ownerDocument.createTextNode(Er),o=e.parentNode;if(t){var r=e.previousSibling;if(Ar(r)){if(Mr(r))return r;if(Br(r))return r.splitText(r.data.length-1)}o.insertBefore(n,e)}else{var i=e.nextSibling;if(Ar(i)){if(Mr(i))return i;if(Fr(i))return i.splitText(1),i}e.nextSibling?o.insertBefore(n,e.nextSibling):o.appendChild(n)}return n}(o,e),r=o.ownerDocument.createRange(),Jc(i.nextSibling)?(r.setStart(i,0),r.setEnd(i,0)):(r.setStart(i,1),r.setEnd(i,1)),r;i=Lr(u,o,e);var f=Wc(t,o,e);s.setStyle(i,"top",f.top);var m=s.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});return s.setStyles(m,c({},f)),s.add(t,m),a.set({caret:m,element:o,before:e}),e&&s.addClass(m,"mce-visual-caret-before"),d(),(r=o.ownerDocument.createRange()).setStart(i,0),r.setEnd(i,0),r},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.on((function(e){var n=Wc(t,e.element,e.before);s.setStyles(e.caret,c({},n))}))},destroy:function(){return clearInterval(r)}}},Kc=function(){return qt.browser.isFirefox()},Jc=function(e){return jc(e)||Uc(e)},Yc=function(e){return Jc(e)||Lo(e)&&Kc()},Xc=$o,Qc=Ko,Zc=Yo,el=No("display","block table table-cell table-caption list-item"),tl=Mr,nl=Rr,ol=Do,rl=Jr,il=function(e){return e>0},al=function(e){return e<0},ul=function(e,t){for(var n;n=e(t);)if(!nl(n))return n;return null},sl=function(e,t,n,o,r){var i=new lr(e,o),a=Qc(e)||nl(e);if(al(t)){if(a&&n(e=ul(i.prev.bind(i),!0)))return e;for(;e=ul(i.prev.bind(i),r);)if(n(e))return e}if(il(t)){if(a&&n(e=ul(i.next.bind(i),!0)))return e;for(;e=ul(i.next.bind(i),r);)if(n(e))return e}return null},cl=function(e,t){for(;e&&e!==t;){if(el(e))return e;e=e.parentNode}return null},ll=function(e,t,n){return cl(e.container(),n)===cl(t.container(),n)},dl=function(e,t){if(!t)return null;var n=t.container(),o=t.offset();return ol(n)?n.childNodes[o+e]:null},fl=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},ml=function(e,t,n){return cl(t,e)===cl(n,e)},pl=function(e,t,n){for(var o=e?"previousSibling":"nextSibling";n&&n!==t;){var r=n[o];if(tl(r)&&(r=r[o]),Qc(r)||Zc(r)){if(ml(t,r,n))return r;break}if(rl(r))break;n=n.parentNode}return null},gl=V(fl,!0),hl=V(fl,!1),vl=function(e,t,n){var o,r=V(pl,!0,t),i=V(pl,!1,t),a=n.startContainer,u=n.startOffset;if(Rr(a)){ol(a)||(a=a.parentNode);var s=a.getAttribute("data-mce-caret");if("before"===s&&(o=a.nextSibling,Yc(o)))return gl(o);if("after"===s&&(o=a.previousSibling,Yc(o)))return hl(o)}if(!n.collapsed)return n;if(qo(a)){if(tl(a)){if(1===e){if(o=i(a))return gl(o);if(o=r(a))return hl(o)}if(-1===e){if(o=r(a))return hl(o);if(o=i(a))return gl(o)}return n}if(Br(a)&&u>=a.data.length-1)return 1===e&&(o=i(a))?gl(o):n;if(Fr(a)&&u<=1)return-1===e&&(o=r(a))?hl(o):n;if(u===a.data.length)return(o=i(a))?gl(o):n;if(0===u)return(o=r(a))?hl(o):n}return n},bl=function(e,t){return K.from(dl(e?0:-1,t)).filter(Qc)},yl=function(e,t,n){var o=vl(e,t,n);return-1===e?fu.fromRangeStart(o):fu.fromRangeEnd(o)},xl=function(e){return K.from(e.getNode()).map(kn.fromDom)},wl=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Cl=function(e,t){var n=ll(e,t);return!(n||!Go(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Iu||(Iu={}));var kl,Sl=Ko,El=qo,Ol=Do,_l=Go,Tl=Jr,Al=function(e){return Wr(e)||function(e){return!!Yr(e)&&!0!==ue(we(e.getElementsByTagName("*")),(function(e,t){return e||Hr(t)}),!1)}(e)},Rl=Xr,Dl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ml=function(e,t){if(il(e)){if(Tl(t.previousSibling)&&!El(t.previousSibling))return fu.before(t);if(El(t))return fu(t,0)}if(al(e)){if(Tl(t.nextSibling)&&!El(t.nextSibling))return fu.after(t);if(El(t))return fu(t,t.data.length)}return al(e)?_l(t)?fu.before(t):fu.after(t):fu.before(t)},Nl=function(e,t){var n=t.nextSibling;return n&&Tl(n)?El(n)?fu(n,0):fu.before(n):zl(Iu.Forwards,fu.after(t),e)},zl=function(e,t,n){var o,r,i,a;if(!Ol(n)||!t)return null;if(t.isEqual(fu.after(n))&&n.lastChild){if(a=fu.after(n.lastChild),al(e)&&Tl(n.lastChild)&&Ol(n.lastChild))return _l(n.lastChild)?fu.before(n.lastChild):a}else a=t;var u=a.container(),s=a.offset();if(El(u)){if(al(e)&&s>0)return fu(u,--s);if(il(e)&&s<u.length)return fu(u,++s);o=u}else{if(al(e)&&s>0&&(r=Dl(u,s-1),Tl(r)))return!Al(r)&&(i=sl(r,e,Rl,r))?El(i)?fu(i,i.data.length):fu.after(i):El(r)?fu(r,r.data.length):fu.before(r);if(il(e)&&s<u.childNodes.length&&(r=Dl(u,s),Tl(r)))return _l(r)?Nl(n,r):!Al(r)&&(i=sl(r,e,Rl,r))?El(i)?fu(i,0):fu.before(i):El(r)?fu(r,0):fu.after(r);o=r||a.getNode()}if((il(e)&&a.isAtEnd()||al(e)&&a.isAtStart())&&(o=sl(o,e,$,n,!0),Rl(o,n)))return Ml(e,o);r=sl(o,e,Rl,n);var c=Ue(ie(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(u,n),Sl));return!c||r&&c.contains(r)?r?Ml(e,r):null:a=il(e)?fu.after(c):fu.before(c)},Pl=function(e){return{next:function(t){return zl(Iu.Forwards,t,e)},prev:function(t){return zl(Iu.Backwards,t,e)}}},Ll=function(e){return fu.isTextPosition(e)?0===e.offset():Jr(e.getNode())},Fl=function(e){if(fu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Jr(e.getNode(!0))},Bl=function(e,t){return!fu.isTextPosition(e)&&!fu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},ql=function(e,t,n){return e?!Bl(t,n)&&!(!fu.isTextPosition(o=t)&&Go(o.getNode()))&&Fl(t)&&Ll(n):!Bl(n,t)&&Ll(t)&&Fl(n);var o},Il=function(e,t,n){var o=Pl(t);return K.from(e?o.next(n):o.prev(n))},Hl=function(e,t,n){return Il(e,t,n).bind((function(o){return ll(n,o,t)&&ql(e,n,o)?Il(e,t,o):K.some(o)}))},Vl=function e(t,n,o,r){return Hl(t,n,o).bind((function(o){return r(o)?e(t,n,o,r):K.some(o)}))},jl=function(e,t){var n,o=e?t.firstChild:t.lastChild;return qo(o)?K.some(fu(o,e?0:o.data.length)):o?Jr(o)?K.some(e?fu.before(o):Go(n=o)?fu.before(n):fu.after(n)):function(e,t,n){var o=e?fu.before(n):fu.after(n);return Il(e,t,o)}(e,t,o):K.none()},Ul=V(Il,!0),Gl=V(Il,!1),Wl=V(jl,!0),$l=V(jl,!1),Kl="_mce_caret",Jl=function(e){return Do(e)&&e.id===Kl},Yl=function(e,t){for(;t&&t!==e;){if(t.id===Kl)return t;t=t.parentNode}return null},Xl=function(e){return jt.isArray(e.start)},Ql=function(e,t){return Do(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Zl=function(e,t){return $l(e).fold(W,(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},ed=function(e,t,n){return!(!function(e){return!1===e.hasChildNodes()}(t)||!Yl(e,t))&&(function(e,t){var n=e.ownerDocument.createTextNode(Er);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)}(t,n),!0)},td=function(e,t,n,o){var r,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(a=s[0],i=c,r=s.length-1;r>=1;r--){if(u=i.childNodes,ed(c,i,o))return!0;if(s[r]>u.length-1)return!!ed(c,i,o)||Zl(i,o);i=u[s[r]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?o.setStart(i,a):o.setEnd(i,a)}return!0},nd=function(e){return qo(e)&&e.data.length>0},od=function(e,t,n){var o,r,i,a,u,s,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(o=c.parentNode,"start"===t?(l?c.hasChildNodes()?(o=c.firstChild,r=1):nd(c.nextSibling)?(o=c.nextSibling,r=0):nd(c.previousSibling)?(o=c.previousSibling,r=c.previousSibling.data.length):(o=c.parentNode,r=e.nodeIndex(c)+1):r=e.nodeIndex(c),u=o,s=r):(l?c.hasChildNodes()?(o=c.firstChild,r=1):nd(c.previousSibling)?(o=c.previousSibling,r=c.previousSibling.data.length):(o=c.parentNode,r=e.nodeIndex(c)):r=e.nodeIndex(c),u=o,s=r),!l){for(a=c.previousSibling,i=c.nextSibling,jt.each(jt.grep(c.childNodes),(function(e){qo(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&qo(a)&&!qt.browser.isOpera()&&(r=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=r)}return K.some(fu(u,s))}return K.none()},rd=function(e,t){var n=e.dom;if(t){if(Xl(t))return function(e,t){var n=e.createRng();return td(e,!0,t,n)&&td(e,!1,t,n)?K.some(n):K.none()}(n,t);if(function(e){return S(e.start)}(t))return K.some(function(e,t){var n,o=e.createRng();return n=Su(e.getRoot(),t.start),o.setStart(n.container(),n.offset()),n=Su(e.getRoot(),t.end),o.setEnd(n.container(),n.offset()),o}(n,t));if(function(e){return ze(e,"id")}(t))return function(e,t){var n=od(e,"start",t),o=od(e,"end",t);return Gt(n,o.or(n),(function(t,n){var o=e.createRng();return o.setStart(Ql(e,t.container()),t.offset()),o.setEnd(Ql(e,n.container()),n.offset()),o}))}(n,t);if(function(e){return ze(e,"name")}(t))return function(e,t){return K.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))}(n,t);if(function(e){return ze(e,"rng")}(t))return K.some(t.rng)}return K.none()},id=function(e,t,n){return zu(e,t,n)},ad=function(e,t){rd(e,t).each((function(t){e.setRng(t)}))},ud=function(e){return Do(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},sd=(kl=kr,function(e){return kl===e}),cd=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},ld=function(e){return!cd(e)&&!sd(e)&&!Sr(e)},dd=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},fd=function(e){return function(e){return{value:e}}(dd(e.red)+dd(e.green)+dd(e.blue))},md=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,pd=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,gd=function(e,t,n,o){return{red:e,green:t,blue:n,alpha:o}},hd=function(e,t,n,o){var r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(o);return gd(r,i,a,u)},vd=function(e){return function(e){if("transparent"===e)return K.some(gd(0,0,0,0));var t=md.exec(e);if(null!==t)return K.some(hd(t[1],t[2],t[3],"1"));var n=pd.exec(e);return null!==n?K.some(hd(n[1],n[2],n[3],n[4])):K.none()}(e).map(fd).map((function(e){return"#"+e.value})).getOr(e)},bd=function(e){return!!e.nodeType},yd=function(e,t,n){var o=n.startOffset,r=n.startContainer;if((r!==n.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(r.childNodes[o]))&&Do(r)){var i,a=r.childNodes;o<a.length?(r=a[o],i=new lr(r,e.getParent(r,e.isBlock))):(r=a[a.length-1],(i=new lr(r,e.getParent(r,e.isBlock))).next(!0));for(var u=i.current();u;u=i.next())if(qo(u)&&!kd(u))return n.setStart(u,0),void t.setRng(n)}},xd=function(e,t,n){if(e){var o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(Do(e)||!kd(e))return e}},wd=function(e,t){return bd(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Cd=function(e,t,n){return e.schema.isValidChild(t,n)},kd=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M(e)&&qo(e)){var n=t?e.data.replace(/ /g,"\xa0"):e.data;return Zr(n)}return!1},Sd=function(e,t){return N(e)?e=e(t):M(t)&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},Ed=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Od=function(e,t){return"color"!==t&&"backgroundColor"!==t||(e=vd(e)),"fontWeight"===t&&700===e&&(e="bold"),"fontFamily"===t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},_d=function(e,t,n){return Od(e.getStyle(t,n),n)},Td=function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},Ad=function(e,t,n){return e.getParents(t,n,e.getRoot())},Rd=function(e,t,n){var o=["inline","block","selector","attributes","styles","classes"],r=function(e){return Re(e,(function(e,t){return ee(o,(function(e){return e===t}))}))};return ee(e.formatter.get(t),(function(t){var o=r(t);return ee(e.formatter.get(n),(function(e){var t=r(e);return function(e,t){return h(arguments.length>2&&void 0!==arguments[2]?arguments[2]:v).eq(e,t)}(o,t)}))}))},Dd=function(e){return Pe(e,"block")},Md=function(e){return Pe(e,"selector")},Nd=function(e){return Pe(e,"inline")},zd=function(e){return Md(e)&&!1!==e.expand&&!Nd(e)},Pd=ud,Ld=Ad,Fd=kd,Bd=wd,qd=function(e,t){for(var n=t;n;){if(Do(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Id=function(e,t,n,o){for(var r=t.data,i=n;e?i>=0:i<r.length;e?i--:i++)if(o(r.charAt(i)))return e?i+1:i;return-1},Hd=function(e,t,n){return Id(e,t,n,(function(e){return sd(e)||cd(e)}))},Vd=function(e,t,n){return Id(e,t,n,ld)},jd=function(e,t,n,o,r,i){var a,u=e.getParent(n,e.isBlock)||t,s=function(t,n,o){var i=Pa(e),s=r?i.backwards:i.forwards;return K.from(s(t,n,(function(e,t){return Pd(e.parentNode)?-1:(a=e,o(r,e,t))}),u))};return s(n,o,Hd).bind((function(e){return i?s(e.container,e.offset+(r?-1:0),Vd):K.some(e)})).orThunk((function(){return a?K.some({container:a,offset:r?0:a.length}):K.none()}))},Ud=function(e,t,n,o,r){qo(o)&&it(o.data)&&o[r]&&(o=o[r]);for(var i=Ld(e,o),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if((!M(s.collapsed)||s.collapsed===n.collapsed)&&(Md(s)&&e.is(i[a],s.selector)))return i[a]}return o},Gd=function(e,t,n,o){var r=n,i=e.dom,a=i.getRoot(),u=t[0];if(Dd(u)&&(r=u.wrapper?null:i.getParent(n,u.block,a)),!r){var s=i.getParent(n,"LI,TD,TH");r=i.getParent(qo(n)?n.parentNode:n,(function(t){return t!==a&&Bd(e,t)}),s)}if(r&&Dd(u)&&u.wrapper&&(r=Ld(i,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[o]&&!i.isBlock(r[o])&&(r=r[o],!Ed(r,"br")););return r||n},Wd=function e(t,n,o,r){var i=o.parentNode;return!M(o[r])&&(!(i!==n&&!D(i)&&!t.isBlock(i))||e(t,n,i,r))},$d=function(e,t,n,o,r){var i,a=n,u=r?"previousSibling":"nextSibling",s=e.getRoot();if(qo(n)&&!Fd(n)&&(r?o>0:o<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var c=a[u];c;c=c[u]){var l=qo(c)&&!Wd(e,s,c,u);if(!Pd(c)&&(!Go(i=c)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!Fd(c,l))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n},Kd=function(e){return Pd(e.parentNode)||Pd(e)},Jd=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom,c=n[0];if(Do(r)&&r.hasChildNodes()&&(r=Ua(r,i),qo(r)&&(i=0)),Do(a)&&a.hasChildNodes()&&(a=Ua(a,t.collapsed?u:u-1),qo(a)&&(u=a.nodeValue.length)),r=qd(s,r),a=qd(s,a),Kd(r)&&(r=Pd(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,qo(r)&&(i=t.collapsed?r.length:0)),Kd(a)&&(a=Pd(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,qo(a)&&(u=t.collapsed?0:a.length)),t.collapsed){var l=jd(s,e.getBody(),r,i,!0,o);l.each((function(e){var t=e.container,n=e.offset;r=t,i=n}));var d=jd(s,e.getBody(),a,u,!1,o);d.each((function(e){var t=e.container,n=e.offset;a=t,u=n}))}return(Nd(c)||c.block_expand)&&(Nd(c)&&qo(r)&&0!==i||(r=$d(s,n,r,i,!0)),Nd(c)&&qo(a)&&u!==a.nodeValue.length||(a=$d(s,n,a,u,!1))),zd(c)&&(r=Ud(s,n,t,r,"previousSibling"),a=Ud(s,n,t,a,"nextSibling")),(Dd(c)||Md(c))&&(r=Gd(e,n,r,"previousSibling"),a=Gd(e,n,a,"nextSibling"),Dd(c)&&(s.isBlock(r)||(r=$d(s,n,r,i,!0)),s.isBlock(a)||(a=$d(s,n,a,u,!1)))),Do(r)&&(i=s.nodeIndex(r),r=r.parentNode),Do(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:i,endContainer:a,endOffset:u}},Yd=function(e,t,n){var o=t.startOffset,r=Ua(t.startContainer,o),i=t.endOffset,a=Ua(t.endContainer,i-1),u=function(e){var t=e[0];qo(t)&&t===r&&o>=t.data.length&&e.splice(0,1);var n=e[e.length-1];return 0===i&&e.length>0&&n===a&&qo(n)&&e.splice(e.length-1,1),e},s=function(e,t,n){for(var o=[];e&&e!==n;e=e[t])o.push(e);return o},c=function(t,n){return e.getParent(t,(function(e){return e.parentNode===n}),n)},l=function(e,t,o){for(var r=o?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var c=s(i===e?i:i[r],r);c.length&&(o||c.reverse(),n(u(c)))}};if(r===a)return n(u([r]));var d=e.findCommonAncestor(r,a);if(e.isChildOf(r,a))return l(r,d,!0);if(e.isChildOf(a,r))return l(a,d);var f=c(r,d)||r,m=c(a,d)||a;l(r,f,!0);var p=s(f===r?f:f.nextSibling,"nextSibling",m===a?m.nextSibling:m);p.length&&n(u(p)),l(a,m)},Xd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Qd=function(e){return ie(function(e){return fe(e,(function(e){var t=ja(e);return t?[kn.fromDom(t)]:[]}))}(e),xr)},Zd=function(e,t){var n=ba(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:Qd(e)},ef=function(e){return Zd(Xd(e.selection.getSel()),kn.fromDom(e.getBody()))},tf=function(e,t){return ir(e,"table",t)},nf=function e(t){return In(t).fold(q([t]),(function(n){return[t].concat(e(n))}))},of=function e(t){return Hn(t).fold(q([t]),(function(n){return"br"===Jt(n)?zn(n).map((function(n){return[t].concat(e(n))})).getOr([]):[t].concat(e(n))}))},rf=function(e,t){return Gt(function(e){var t=e.startContainer,n=e.startOffset;return qo(t)?0===n?K.some(kn.fromDom(t)):K.none():K.from(t.childNodes[n]).map(kn.fromDom)}(t),function(e){var t=e.endContainer,n=e.endOffset;return qo(t)?n===t.data.length?K.some(kn.fromDom(t)):K.none():K.from(t.childNodes[n-1]).map(kn.fromDom)}(t),(function(t,n){var o=ce(nf(e),V(_n,t)),r=ce(of(e),V(_n,n));return o.isSome()&&r.isSome()})).getOr(!1)},af=function(e,t,n,o){var r=n,i=new lr(n,r),a=Re(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!Z(["td","th","table"],t.toLowerCase())}));do{if(qo(n)&&0!==jt.trim(n.nodeValue).length)return void(o?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(o?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=o?i.next():i.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},uf=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},sf=function(e,t){var n=ef(e);n.length>0?ne(n,(function(n){var o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)})):t(e.selection.getRng(),!1)},cf=function(e,t,n){var o=Nu(e,t);n(o),e.moveToBookmark(o)},lf=function(e,t){var n=function(t){return e(t)?K.from(t.dom.nodeValue):K.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(Zt,"text"),df=function(e){return lf.get(e)},ff=function(e){return lf.getOption(e)},mf=function(e,t,n,o){return Mn(t).fold((function(){return"skipping"}),(function(r){return"br"===o||function(e){return Zt(e)&&df(e)===Er}(t)?"valid":function(e){return Qt(e)&&xn(e,ya())}(t)?"existing":Jl(t.dom)?"caret":Cd(e,n,o)&&Cd(e,Jt(r),n)?"valid":"invalid-child"}))},pf=function(e,t,n,o){var r=t.uid,i=void 0===r?Aa("mce-annotation"):r,a=s(t,f),u=kn.fromTag("span",e);hn(u,ya()),on(u,"".concat(wa()),i),on(u,"".concat(xa()),n);var c=o(i,a),l=c.attributes,d=void 0===l?{}:l,m=c.classes,p=void 0===m?[]:m;return rn(u,d),function(e,t){ne(t,(function(t){hn(e,t)}))}(u,p),u},gf=function(e,t,n,o,r){var i=[],a=pf(e.getDoc(),r,n,o),u=pa(),s=function(){u.clear()},c=function(e){ne(e,l)},l=function(t){switch(mf(e,t,"span",Jt(t))){case"invalid-child":s();var n=Bn(t);c(n),s();break;case"valid":var o=u.get().getOrThunk((function(){var e=Da(a);return i.push(e),u.set(e),e}));!function(e,t){ao(e,t),co(t,e)}(t,o)}};return Yd(e.dom,t,(function(e){s(),function(e){var t=te(e,kn.fromDom);c(t)}(e)})),i},hf=function(e,t,n,o){e.undoManager.transact((function(){var r=e.selection,i=r.getRng(),a=ef(e).length>0;if(i.collapsed&&!a&&function(e,t){var n=Jd(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)}(e,i),r.getRng().collapsed&&!a){var u=pf(e.getDoc(),o,t,n.decorate);ho(u,kr),r.getRng().insertNode(u.dom),r.select(u.dom)}else cf(r,!1,(function(){sf(e,(function(r){gf(e,r,t,n.decorate,o)}))}))}))},vf=function(e){var t=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return Ne(e,t).map((function(e){return e.settings}))},getNames:function(){return ke(e)}}}();_a(e,t);var n=Oa(e,t);return{register:function(e,n){t.register(e,n)},annotate:function(n,o){t.lookup(n).each((function(t){hf(e,n,t,o)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){var n=e.selection.getBookmark();ka(e,K.some(t)).each((function(e){var t=e.elements;ne(t,po)})),e.selection.moveToBookmark(n)},removeAll:function(t){var n=e.selection.getBookmark();Ee(Ea(e,t),(function(e,t){return ne(e,po)})),e.selection.moveToBookmark(n)},getAll:function(t){var n=Ea(e,t);return Oe(n,(function(e){return te(e,(function(e){return e.dom}))}))}}},bf=function(e){return{getBookmark:V(id,e),moveToBookmark:V(ad,e)}};bf.isBookmarkNode=ud;var yf=function(e,t,n){return!n.collapsed&&ee(n.getClientRects(),(function(n){return function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}(n,e,t)}))},xf=function(e,t,n){return e.dispatch(t,n)},wf=function(e,t,n,o){return e.dispatch("FormatApply",{format:t,node:n,vars:o})},Cf=function(e,t,n,o){return e.dispatch("FormatRemove",{format:t,node:n,vars:o})},kf=function(e,t){return e.dispatch("SetContent",t)},Sf=function(e,t){return e.dispatch("GetContent",t)},Ef=function(e,t){return e.dispatch("PastePlainTextToggle",{state:t})},Of={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Of.metaKeyPressed(e)},metaKeyPressed:function(e){return qt.os.isMacOS()||qt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey}},_f=function(e,t){var n,o,r,i,a,u,s,c,l,d,f,m,p,g,h,v="data-mce-selected",b=t.dom,y=jt.each,x=t.getDoc(),w=document,C=Math.abs,k=Math.round,S=t.getBody(),E={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},O=function(e){return M(e)&&(Wo(e)||t.dom.is(e,"figure.image"))},_=function(e){return Yo(e)||b.hasClass(e,"mce-preview-object")},T=function(e){var n=e.target;(function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return O(e.target)&&!yf(n.clientX,n.clientY,t)}return O(e.target)&&!yf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},A=function(e){return b.is(e,"figure.image")?[e.querySelector("img")]:b.hasClass(e,"mce-preview-object")&&M(e.firstElementChild)?[e,e.firstElementChild]:[e]},R=function(e){var n=zs(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(b.hasClass(e,"mce-preview-object")?En(kn.fromDom(e.firstElementChild),n):En(kn.fromDom(e),n))))},D=function(e,n,o){if(M(o)){var r=A(e);ne(r,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?b.setStyle(e,n,o):b.setAttrib(e,n,""+o)}))}},N=function(e,t,n){D(e,"width",t),D(e,"height",n)},z=function(e){var a,v,y,x;a=e.screenX-u,v=e.screenY-s,m=a*i[2]+c,p=v*i[3]+l,m=m<5?5:m,p=p<5?5:p,((O(n)||_(n))&&!1!==Ps(t)?!Of.modifierPressed(e):Of.modifierPressed(e))&&(C(a)>C(v)?(p=k(m*d),m=k(p/d)):(m=k(p/d),p=k(m*d))),N(o,m,p),y=(y=i.startPos.x+a)>0?y:0,x=(x=i.startPos.y+v)>0?x:0,b.setStyles(r,{left:y,top:x,display:"block"}),r.innerHTML=m+" &times; "+p,i[2]<0&&o.clientWidth<=m&&b.setStyle(o,"left",undefined+(c-m)),i[3]<0&&o.clientHeight<=p&&b.setStyle(o,"top",undefined+(l-p)),(a=S.scrollWidth-g)+(v=S.scrollHeight-h)!==0&&b.setStyles(r,{left:y-a,top:x-v}),f||(!function(e,t,n,o,r){e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})}(t,n,c,l,"corner-"+i.name),f=!0)},P=function e(){var u=f;f=!1,u&&(D(n,"width",m),D(n,"height",p)),b.unbind(x,"mousemove",z),b.unbind(x,"mouseup",e),w!==x&&(b.unbind(w,"mousemove",z),b.unbind(w,"mouseup",e)),b.remove(o),b.remove(r),b.remove(a),L(n),u&&(!function(e,t,n,o,r){e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})}(t,n,m,p,"corner-"+i.name),b.setAttrib(n,"style",b.getAttrib(n,"style"))),t.nodeChanged()},L=function(e){q();var f=b.getPos(e,S),C=f.x,k=f.y,O=e.getBoundingClientRect(),T=O.width||O.right-O.left,D=O.height||O.bottom-O.top;n!==e&&(F(),n=e,m=p=0);var M=t.dispatch("ObjectSelected",{target:e}),L=b.getAttrib(n,v,"1");R(e)&&!M.isDefaultPrevented()?y(E,(function(e,t){var f,m=function(f){var m,p=A(n)[0];u=f.screenX,s=f.screenY,c=p.clientWidth,l=p.clientHeight,d=l/c,(i=e).name=t,i.startPos={x:T*e[0]+C,y:D*e[1]+k},g=S.scrollWidth,h=S.scrollHeight,a=b.add(S,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),b.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=_(m=n)?b.create("img",{src:qt.transparentSrc}):m.cloneNode(!0),b.addClass(o,"mce-clonedresizable"),b.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",b.setStyles(o,{left:C,top:k,margin:0}),N(o,T,D),o.removeAttribute(v),S.appendChild(o),b.bind(x,"mousemove",z),b.bind(x,"mouseup",P),w!==x&&(b.bind(w,"mousemove",z),b.bind(w,"mouseup",P)),r=b.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},c+" &times; "+l)};(f=b.get("mceResizeHandle"+t))&&b.remove(f),f=b.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),b.bind(f,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),m(e)})),e.elm=f,b.setStyles(f,{left:T*e[0]+C-f.offsetWidth/2,top:D*e[1]+k-f.offsetHeight/2})})):F(),b.getAttrib(n,v)||n.setAttribute(v,L)},F=function(){q(),n&&n.removeAttribute(v),Ee(E,(function(e,t){var n=b.get("mceResizeHandle"+t);n&&(b.unbind(n),b.remove(n))}))},B=function(n){var o,r,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};f||t.removed||(y(b.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(v)})),r="mousedown"===n.type?n.target:e.getNode(),i(r=null===(o=ur(kn.fromDom(r),"table,img,figure.image,hr,video,span.mce-preview-object").getOrUndefined())||void 0===o?void 0:o.dom,S)&&(I(),i(e.getStart(!0),r)&&i(e.getEnd(!0),r))?L(r):F())},q=function(){Ee(E,(function(e){e.elm&&(b.unbind(e.elm),delete e.elm)}))},I=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(function(){I();var e=ga((function(e){t.composing||B(e)}),0);t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",e.throttle),t.on("keyup compositionend",(function(t){n&&"TABLE"===n.nodeName&&e.throttle(t)})),t.on("hide blur",F),t.on("contextmenu longpress",T,!0)})),t.on("remove",q);return{isResizable:R,showResizeRect:L,hideResizeRect:F,updateResizeRect:B,destroy:function(){n=o=a=null}}},Tf=function(e,t,n){var o,r=e.document.createRange();return o=r,t.fold((function(e){o.setStartBefore(e.dom)}),(function(e,t){o.setStart(e.dom,t)}),(function(e){o.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(r,n),r},Af=function(e,t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Rf=qu([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Df=function(e,t,n){return t(kn.fromDom(n.startContainer),n.startOffset,kn.fromDom(n.endContainer),n.endOffset)},Mf=function(e,t){var n=function(e,t){return t.match({domRange:function(e){return{ltr:q(e),rtl:K.none}},relative:function(t,n){return{ltr:Ge((function(){return Tf(e,t,n)})),rtl:Ge((function(){return K.some(Tf(e,n,t))}))}},exact:function(t,n,o,r){return{ltr:Ge((function(){return Af(e,t,n,o,r)})),rtl:Ge((function(){return K.some(Af(e,o,r,t,n))}))}}})}(e,t);return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Rf.rtl(kn.fromDom(e.endContainer),e.endOffset,kn.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Df(0,Rf.ltr,n)})):Df(0,Rf.ltr,n)}(0,n)};Rf.ltr,Rf.rtl;var Nf=function(e,t,n,o){return{start:e,soffset:t,finish:n,foffset:o}},zf=function(e,t,n){var o,r;return K.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((function(t){if(null===t.offsetNode)return K.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),K.some(n)}))},Pf=function(e,t,n){var o,r;return K.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},Lf=document.caretPositionFromPoint?zf:document.caretRangeFromPoint?Pf:K.none,Ff=qu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bf={before:Ff.before,on:Ff.on,after:Ff.after,cata:function(e,t,n,o){return e.fold(t,n,o)},getStart:function(e){return e.fold(I,I,I)}},qf=qu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),If={domRange:qf.domRange,relative:qf.relative,exact:qf.exact,exactFromRange:function(e){return qf.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return kn.fromDom(e.startContainer)},relative:function(e,t){return Bf.getStart(e)},exact:function(e,t,n,o){return e}})}(e);return Dn(t)},range:Nf},Hf=function(e,t){var n=Jt(e);return"input"===n?Bf.after(e):Z(["br","img"],n)?0===t?Bf.before(e):Bf.after(e):Bf.on(e,t)},Vf=function(e,t){var n=e.fold(Bf.before,Hf,Bf.after),o=t.fold(Bf.before,Hf,Bf.after);return If.relative(n,o)},jf=function(e,t,n,o){var r=Hf(e,t),i=Hf(n,o);return If.relative(r,i)},Uf=function(e,t){var n=(t||document).createDocumentFragment();return ne(e,(function(e){n.appendChild(e.dom)})),kn.fromDom(n)},Gf=function(e){var t=If.getWin(e).dom,n=function(e,n,o,r){return Af(t,e,n,o,r)},o=function(e){return e.match({domRange:function(e){var t=kn.fromDom(e.startContainer),n=kn.fromDom(e.endContainer);return jf(t,e.startOffset,n,e.endOffset)},relative:Vf,exact:jf})}(e);return Mf(t,o).match({ltr:n,rtl:n})},Wf=function(e,t,n){return function(e,t,n){var o=kn.fromDom(e.document);return Lf(o,t,n).map((function(e){return Nf(kn.fromDom(e.startContainer),e.startOffset,kn.fromDom(e.endContainer),e.endOffset)}))}(e,t,n)},$f=function(e,t,n){return Wf(n.defaultView,e,t).map((function(e){var t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},Kf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Jf=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},Yf=function(e,t,n){return Jf(e,t,(function(e){return e.nodeName===n}))},Xf=function(e){return e&&"TABLE"===e.nodeName},Qf=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Zf=function(e,t){return Mr(e)&&!1===Jf(e,t,Jl)},em=function(e,t,n){for(var o=new lr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=o[n?"prev":"next"]();)if(Go(t))return!0},tm=function(e,t,n,o,r){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(r.parentNode,e.isBlock)||u;if(o&&Go(r)&&t&&e.isEmpty(c))return K.some(fu(r.parentNode,e.nodeIndex(r)));for(var l=new lr(r,c);a=l[o?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||Zf(a,u))return K.none();if(qo(a)&&a.nodeValue.length>0)return!1===Yf(a,u,"A")?K.some(fu(a,o?a.nodeValue.length:0)):K.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return K.none();i=a}return n&&i?K.some(fu(i,0)):K.none()},nm=function(e,t,n,o){var r,i,a,u,s=e.getRoot(),c=!1;r=o[(n?"start":"end")+"Container"],i=o[(n?"start":"end")+"Offset"];var l=Do(r)&&i===r.childNodes.length,d=e.schema.getNonEmptyElements();if(u=n,Mr(r))return K.none();if(Do(r)&&i>r.childNodes.length-1&&(u=!1),jo(r)&&(r=s,i=0),r===s){if(u&&(a=r.childNodes[i>0?i-1:0])){if(Mr(a))return K.none();if(d[a.nodeName]||Xf(a))return K.none()}if(r.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,r.childNodes.length-1),r=r.childNodes[i],i=qo(r)&&l?r.data.length:0,!t&&r===s.lastChild&&Xf(r))return K.none();if(function(e,t){for(;t&&t!==e;){if(Ko(t))return!0;t=t.parentNode}return!1}(s,r)||Mr(r))return K.none();if(r.hasChildNodes()&&!1===Xf(r)){a=r;var f=new lr(r,s);do{if(Ko(a)||Mr(a)){c=!1;break}if(qo(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,r=a,c=!0;break}if(d[a.nodeName.toLowerCase()]&&!Qf(a)){i=e.nodeIndex(a),r=a.parentNode,u||i++,c=!0;break}}while(a=u?f.next():f.prev())}}}return t&&(qo(r)&&0===i&&tm(e,l,t,!0,r).each((function(e){r=e.container(),i=e.offset(),c=!0})),Do(r)&&((a=r.childNodes[i])||(a=r.childNodes[i-1]),!a||!Go(a)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(a,"A")||em(e,a,!1)||em(e,a,!0)||tm(e,l,t,!0,a).each((function(e){r=e.container(),i=e.offset(),c=!0})))),u&&!t&&qo(r)&&i===r.nodeValue.length&&tm(e,l,t,!1,r).each((function(e){r=e.container(),i=e.offset(),c=!0})),c?K.some(fu(r,i)):K.none()},om=function(e,t){var n=t.collapsed,o=t.cloneRange(),r=fu.fromRangeStart(t);return nm(e,n,!0,o).each((function(e){n&&fu.isAbove(r,e)||o.setStart(e.container(),e.offset())})),n||nm(e,n,!1,o).each((function(e){o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),Kf(t,o)?K.none():K.some(o)},rm=function(e,t){return e.splitText(t)},im=function(e){var t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;return t===o&&qo(t)?n>0&&n<t.nodeValue.length&&(t=(o=rm(t,n)).previousSibling,r>n?(t=o=rm(o,r-=n).previousSibling,r=o.nodeValue.length,n=0):r=0):(qo(t)&&n>0&&n<t.nodeValue.length&&(t=rm(t,n),n=0),qo(o)&&r>0&&r<o.nodeValue.length&&(r=(o=rm(o,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},am=function(e){return{walk:function(t,n){return Yd(e,t,n)},split:im,normalize:function(t){return om(e,t).fold(W,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}};am.compareRanges=Kf,am.getCaretRangeFromPoint=$f,am.getSelectedNode=ja,am.getNode=Ua;var um,sm=function(e,t){var n=function(n){var o=t(n);if(o<=0||null===o){var r=to(n,e);return parseFloat(r)||0}return o},o=function(e,t){return ue(t,(function(t,n){var o=to(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0)};return{set:function(t,n){if(!z(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var o=t.dom;wn(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(e,t,n){var r=o(e,n);return t>r?t-r:0}}}("height",(function(e){var t=e.dom;return Xn(e)?t.getBoundingClientRect().height:t.offsetHeight})),cm=function(){return kn.fromDom(document)},lm=function e(t,n){return t.view(n).fold(q([]),(function(n){var o=t.owner(n),r=e(t,o);return[n].concat(r)}))},dm=function(e,t){var n=t.owner(e);return lm(t,n)},fm=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?K.none():K.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(kn.fromDom)},owner:function(e){return Rn(e)}}),mm=function(e){return"textarea"===Jt(e)},pm=function(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return wo(n.offsetLeft,n.offsetTop);var i=Co(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),a=Co(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),u=Co(r.clientTop,n.clientTop),s=Co(r.clientLeft,n.clientLeft);return ko(e).translate(a-s,i-u)}(e),o=function(e){return sm.get(e)}(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},gm=function(e,t){var n=function(e,t){var n=Bn(e);if(0===n.length||mm(e))return{element:e,offset:t};if(t<n.length&&!mm(n[t]))return{element:n[t],offset:0};var o=n[n.length-1];return mm(o)?{element:e,offset:t}:"img"===Jt(o)?{element:o,offset:1}:Zt(o)?{element:o,offset:df(o).length}:{element:o,offset:Bn(o).length}}(e,t),o=kn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return ao(n.element,o),pm(o,(function(){return mo(o)}))},hm=function(e,t,n,o){xm(e,(function(r,i){return bm(e,t,n,o)}),n)},vm=function(e,t,n,o,r){var i={elm:o.element.dom,alignToTop:r};(function(e,t){return e.dispatch("ScrollIntoView",t).isDefaultPrevented()})(e,i)||(n(t,So(t).top,o,r),function(e,t){e.dispatch("AfterScrollIntoView",t)}(e,i))},bm=function(e,t,n,o){var r=kn.fromDom(e.getBody()),i=kn.fromDom(e.getDoc());r.dom.offsetWidth;var a=gm(kn.fromDom(n.startContainer),n.startOffset);vm(e,i,t,a,o),a.cleanup()},ym=function(e,t,n,o){var r=kn.fromDom(e.getDoc());vm(e,r,n,function(e){return pm(kn.fromDom(e),L)}(t),o)},xm=function(e,t,n){var o=n.startContainer,r=n.startOffset,i=n.endContainer,a=n.endOffset;t(kn.fromDom(o),kn.fromDom(i));var u=e.dom.createRng();u.setStart(o,r),u.setEnd(i,a),e.selection.setRng(n)},wm=function(e,t,n,o){var r=e.pos;if(n)Eo(r.left,r.top,o);else{var i=r.top-t+e.height;Eo(r.left,i,o)}},Cm=function(e,t,n,o,r){var i=n+t,a=o.pos.top,u=o.bottom,s=u-a>=n;if(a<t)wm(o,n,!1!==r,e);else if(a>i){wm(o,n,s?!1!==r:!0===r,e)}else u>i&&!s&&wm(o,n,!0===r,e)},km=function(e,t,n,o){var r=e.dom.defaultView.innerHeight;Cm(e,t,r,n,o)},Sm=function(e,t,n,o){var r=e.dom.defaultView.innerHeight;Cm(e,t,r,n,o);var i=function(e){var t=cm(),n=So(t),o=dm(e,fm),r=ko(e),i=ae(o,(function(e,t){var n=ko(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return wo(i.left+r.left+n.left,i.top+r.top+n.top)}(n.element),a=To(window);i.top<a.y?Oo(n.element,!1!==o):i.top>a.bottom&&Oo(n.element,!0===o)},Em=function(e,t,n){return hm(e,km,t,n)},Om=function(e,t,n){return ym(e,t,km,n)},_m=function(e,t,n){return hm(e,Sm,t,n)},Tm=function(e,t,n){return ym(e,t,Sm,n)},Am=function(e,t,n){(e.inline?Em:_m)(e,t,n)},Rm=function(e){return e.dom.focus()},Dm=function(e){var t=Wn(e).dom;return e.dom===t.activeElement},Mm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm();return K.from(e.dom.activeElement).map(kn.fromDom)},Nm=function(e,t){var n=Zt(t)?df(t).length:Bn(t).length+1;return e>n?n:e<0?0:e},zm=function(e){return If.range(e.start,Nm(e.soffset,e.start),e.finish,Nm(e.foffset,e.finish))},Pm=function(e,t){return!Ro(t.dom)&&(Tn(e,t)||_n(e,t))},Lm=function(e){return function(t){return Pm(e,t.start)&&Pm(e,t.finish)}},Fm=function(e){return If.range(kn.fromDom(e.startContainer),e.startOffset,kn.fromDom(e.endContainer),e.endOffset)},Bm=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?K.from(t.getRangeAt(0)):K.none()).map(Fm)}(Dn(e).dom).filter(Lm(e))},qm=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),K.some(t)}catch(n){return K.none()}},Im=function(e){var t=function(e){return e.inline}(e)?Bm(kn.fromDom(e.getBody())):K.none();e.bookmark=t.isSome()?t:e.bookmark},Hm=function(e){return(e.bookmark?e.bookmark:K.none()).bind((function(t){return function(e,t){return K.from(t).filter(Lm(e)).map(zm)}(kn.fromDom(e.getBody()),t)})).bind(qm)},Vm={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},jm={setEditorTimeout:function(e,t,n){return function(e,t){return z(t)||(t=0),setTimeout(e,t)}((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var o=function(e,t){return z(t)||(t=0),setInterval(e,t)}((function(){e.removed?clearInterval(o):t()}),n);return o}},Um=function(e){var t=ga((function(){Im(e)}),0);e.on("init",(function(){e.inline&&function(e,t){var n=function(){t.throttle()};ia.DOM.bind(document,"mouseup",n),e.on("remove",(function(){ia.DOM.unbind(document,"mouseup",n)}))}(e,t),function(e,t){!function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(function(t){(function(e){return"nodechange"===e.type&&e.selectionChange})(t)||Im(e)}))}(e,t)})),e.on("remove",(function(){t.cancel()}))},Gm=ia.DOM,Wm=function(e,t){var n=$s(e),o=Gm.getParent(t,(function(t){return function(e){return Vm.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)}));return null!==o},$m=function(e,t){var n=t.editor;Um(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){jm.setEditorTimeout(n,(function(){var t=e.focusedEditor;Wm(n,function(e){try{var t=Wn(kn.fromDom(e.getElement()));return Mm(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(n){return document.body}}(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),um||(um=function(t){var n=e.activeEditor;n&&Jn(t).each((function(t){t.ownerDocument===document&&(t===document.body||Wm(n,t)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Gm.bind(document,"focusin",um))},Km=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Gm.unbind(document,"focusin",um),um=null)},Jm=function(e,t){return function(e){return e.collapsed?K.from(Ua(e.startContainer,e.startOffset)).map(kn.fromDom):K.none()}(t).bind((function(t){return yr(t)?K.some(t):!1===Tn(e,t)?K.some(e):K.none()}))},Ym=function(e,t){Jm(kn.fromDom(e.getBody()),t).bind((function(e){return Wl(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},Xm=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Qm=function(e){return Dm(e)||(t=e,Mm(Wn(t)).filter((function(e){return t.dom.contains(e.dom)}))).isSome();var t},Zm=function(e){return e.inline?function(e){var t=e.getBody();return t&&Qm(kn.fromDom(t))}(e):function(e){return e.iframeElement&&Dm(kn.fromDom(e.iframeElement))}(e)},ep=function(e){return Zm(e)||function(e){var t=Wn(kn.fromDom(e.getElement()));return Mm(t).filter((function(t){return!function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))}(t.dom)&&Wm(e,t.dom)})).isSome()}(e)},tp=function(e){return e.editorManager.setActive(e)},np=function(e,t){e.removed||(t?tp(e):function(e){var t=e.selection,n=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Zm(e)&&Hm(e).each((function(t){e.selection.setRng(t),o=t}));var r=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}(e,t.getNode());if(e.dom.isChildOf(r,n))return Xm(r),Ym(e,o),void tp(e);e.inline||(qt.browser.isOpera()||Xm(n),e.getWin().focus()),(qt.browser.isFirefox()||e.inline)&&(Xm(n),Ym(e,o)),tp(e)}(e))},op=function(e,t,n,o,r){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return K.from(i).map(kn.fromDom).map((function(e){return o&&t.collapsed?e:qn(e,r(e,a)).getOr(e)})).bind((function(e){return Qt(e)?K.some(e):Mn(e).filter(Qt)})).map((function(e){return e.dom})).getOr(e)},rp=function(e,t,n){return op(e,t,!0,n,(function(e,t){return Math.min(Vn(e),t)}))},ip=function(e,t,n){return op(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},ap=function(e,t){for(var n=e;e&&qo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},up=function(e,t){return te(t,(function(t){var n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},sp=["img","br"],cp=function(e){var t=ff(e).filter((function(e){return 0!==e.trim().length||e.indexOf(kr)>-1})).isSome();return t||Z(sp,Jt(e))},lp=function(e){return t=cp,function e(n){for(var o=0;o<n.childNodes.length;o++){var r=kn.fromDom(n.childNodes[o]);if(t(r))return K.some(r);var i=e(n.childNodes[o]);if(i.isSome())return i}return K.none()}(e.dom);var t},dp=function(e,t){return function e(n){for(var o=Bn(n),r=o.length-1;r>=0;r--){var i=o[r];if(t(i))return K.some(i);var a=e(i);if(a.isSome())return a}return K.none()}(e)},fp="[data-mce-autocompleter]",mp=function(e,t){if(gp(kn.fromDom(e.getBody())).isNone()){var n=kn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());co(n,kn.fromDom(t.extractContents())),t.insertNode(n.dom),Mn(n).each((function(e){return e.dom.normalize()})),(o=n,dp(o,cp)).map((function(t){e.selection.setCursorLocation(t.dom,function(e){return"img"===Jt(e)?1:ff(e).fold((function(){return Bn(e).length}),(function(e){return e.length}))}(t))}))}var o},pp=function(e){return ur(e,fp)},gp=function(e){return ar(e,fp)},hp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vp=function(e,t,n){var o=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[o])return e[o];if(e!==t){var i=e[r];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[r])return i}},bp=function(e){if(!Zr(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},yp=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},xp=function(){function e(t,n){l(this,e),this.name=t,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}return d(e,[{key:"replace",value:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}},{key:"attr",value:function(e,t){var n,o=this;if("string"!==typeof e)return void 0!==e&&null!==e&&Ee(e,(function(e,t){o.attr(t,e)})),o;if(n=o.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var r=n.length;r--;)if(n[r].name===e)return n.splice(r,1),o}return o}if(e in n.map){for(var i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}}},{key:"clone",value:function(){var t,n=this,o=new e(n.name,n.type);if(t=n.attributes){var r=[];r.map={};for(var i=0,a=t.length;i<a;i++){var u=t[i];"id"!==u.name&&(r[r.length]={name:u.name,value:u.value},r.map[u.name]=u.value)}o.attributes=r}return o.value=n.value,o}},{key:"wrap",value:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t}},{key:"unwrap",value:function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()}},{key:"remove",value:function(){var e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o.next=n,t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n.prev=o,e.parent=e.next=e.prev=null),e}},{key:"append",value:function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}},{key:"insert",value:function(e,t,n){e.parent&&e.remove();var o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}},{key:"getAll",value:function(e){for(var t=[],n=this.firstChild;n;n=vp(n,this))n.name===e&&t.push(n);return t}},{key:"children",value:function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e}},{key:"empty",value:function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=vp(n,e))t.push(n);for(var o=t.length;o--;){var r=t[o];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return e.firstChild=e.lastChild=null,e}},{key:"isEmpty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=this,r=o.firstChild;if(yp(o))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(yp(r))return!1}if(8===r.type)return!1;if(3===r.type&&!bp(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Zr(r.value))return!1;if(n&&n(r))return!1}while(r=vp(r,o));return!0}},{key:"walk",value:function(e){return vp(this,null,e)}}],[{key:"create",value:function(t,n){var o=new e(t,hp[t]||1);return n&&Ee(n,(function(e,t){o.attr(t,e)})),o}}]),e}(),wp=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Cp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.toLowerCase();if(-1!==o.indexOf("[if ",n)&&wp(o,n)){var r=o.indexOf("[endif]",n);return o.indexOf(">",r)}if(t){var i=o.indexOf(">",n);return-1!==i?i:o.length}var a=/--!?>/g;a.lastIndex=n;var u=a.exec(e);return u?u.index+u[0].length:o.length},kp=function(e,t,n){for(var o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements(),a=1,u=n;0!==a;)for(o.lastIndex=u;;){var s=o.exec(t);if(null===s)return u;if("!"===s[1]){u=Qe(s[2],"--")?Cp(t,!1,s.index+"!--".length):Cp(t,!0,s.index+1);break}r.lastIndex=o.lastIndex;var c=r.exec(t);if(!T(c)&&c.index===o.lastIndex){"/"===s[1]?a-=1:ze(i,s[2])||(a+=1),u=o.lastIndex+c[0].length;break}}return u},Sp=function(e,t){for(var n,o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema,i=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(e.getTempAttrs(),t),a=r.getVoidElements();n=o.exec(i);){var u=o.lastIndex,s=n[0].length,c=void 0;c=a[n[1]]?u:kp(r,i,u),i=i.substring(0,u-s)+i.substring(c),o.lastIndex=u-s}return _r(i)},Ep=Sp,Op=function(e,t,n){var o;return o="raw"===t.format?jt.trim(Ep(e.serializer,n.innerHTML)):"text"===t.format?e.dom.isEmpty(n)?"":_r(n.innerText||n.textContent):"tree"===t.format?e.serializer.serialize(n,t):function(e,t){var n=ss(e),o=new RegExp("^(<".concat(n,"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/").concat(n,">[\r\n]*|<br \\/>[\r\n]*)$"));return t.replace(o,"")}(e,e.serializer.serialize(n,t)),"text"!==t.format&&!wr(kn.fromDom(n))&&S(o)?jt.trim(o):o},_p=jt.each,Tp=function(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;var o=function(t){var n={};return _p(e.getAttribs(t),(function(o){var r=o.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))})),n},r=function(e,t){var n,o;for(o in e)if(ze(e,o)){if("undefined"===typeof(n=t[o]))return!1;if(e[o]!==n)return!1;delete t[o]}for(o in t)if(ze(t,o))return!1;return!0};return!!r(o(t),o(n))&&(!!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!ud(t)&&!ud(n)))}}},Ap=jt.makeMap,Rp=function(e){var t=[],n=(e=e||{}).indent,o=Ap(e.indent_before||""),r=Ap(e.indent_after||""),i=Ti.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="xhtml"!==e.element_format;return{start:function(e,u,s){var c,l,d,f;if(n&&o[e]&&t.length>0&&(f=t[t.length-1]).length>0&&"\n"!==f&&t.push("\n"),t.push("<",e),u)for(c=0,l=u.length;c<l;c++)d=u[c],t.push(" ",d.name,'="',i(d.value,!0),'"');t[t.length]=!s||a?">":" />",s&&n&&r[e]&&t.length>0&&(f=t[t.length-1]).length>0&&"\n"!==f&&t.push("\n")},end:function(e){var o;t.push("</",e,">"),n&&r[e]&&t.length>0&&(o=t[t.length-1]).length>0&&"\n"!==o&&t.push("\n")},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,o){o?t.push("<?",e," ",i(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Dp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi(),n=Rp(e);(e=e||{}).validate=!("validate"in e)||e.validate;var o=function(o){var r=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function e(o){var a=i[o.type];if(a)a(o);else{var u=o.name,s=u in t.getVoidElements(),c=o.attributes;if(r&&c&&c.length>1){var l=[];l.map={};var d=t.getElementRule(o.name);if(d){for(var f=0,m=d.attributesOrder.length;f<m;f++){var p=d.attributesOrder[f];if(p in c.map){var g=c.map[p];l.map[p]=g,l.push({name:p,value:g})}}for(var h=0,v=c.length;h<v;h++){var b=c[h].name;if(!(b in l.map)){var y=c.map[b];l.map[b]=y,l.push({name:b,value:y})}}c=l}}if(n.start(u,c,s),!s){var x=o.firstChild;if(x){"pre"!==u&&"textarea"!==u||3!==x.type||"\n"!==x.value[0]||n.text("\n",!0);do{e(x)}while(x=x.next)}n.end(u)}}};return 1!==o.type||e.inner?3===o.type?i[3](o):i[11](o):a(o),n.getContent()};return{serialize:o}},Mp=new Set;ne(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(e){Mp.add(e)}));var Np=["font","text-decoration","text-emphasis"],zp=function(e,t){return ke(e.parseStyle(e.getAttrib(t,"style")))},Pp=function(e,t){return me(zp(e,t),(function(e){return!function(e){return Mp.has(e)}(e)}))},Lp=function(e,t,n){var o=zp(e,t),r=zp(e,n),i=function(o){var r,i,a=null!==(r=e.getStyle(t,o))&&void 0!==r?r:"",u=null!==(i=e.getStyle(n,o))&&void 0!==i?i:"";return rt(a)&&rt(u)&&a!==u};return ee(o,(function(e){var t=function(t){return ee(t,(function(t){return t===e}))};if(!t(r)&&t(Np)){var n=ie(r,(function(e){return ee(Np,(function(t){return Qe(e,t)}))}));return ee(n,i)}return i(e)}))},Fp=function(e,t,n){return K.from(n.container()).filter(qo).exists((function(o){var r=e?0:-1;return t(o.data.charAt(n.offset()+r))}))},Bp=V(Fp,!0,cd),qp=V(Fp,!1,cd),Ip=function(e){var t=e.container();return qo(t)&&(0===t.data.length||Or(t.data)&&bf.isBookmarkNode(t.parentNode))},Hp=function(e,t){return function(n){return K.from(dl(e?0:-1,n)).filter(t).isSome()}},Vp=function(e){return Wo(e)&&"block"===to(kn.fromDom(e),"display")},jp=function(e){return Ko(e)&&!function(e){return Do(e)&&"all"===e.getAttribute("data-mce-bogus")}(e)},Up=Hp(!0,Vp),Gp=Hp(!1,Vp),Wp=Hp(!0,Yo),$p=Hp(!1,Yo),Kp=Hp(!0,Lo),Jp=Hp(!1,Lo),Yp=Hp(!0,jp),Xp=Hp(!1,jp),Qp=function(e){var t=ba(e,"br"),n=ie(function(e){for(var t=[],n=e.dom;n;)t.push(kn.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),gr);t.length===n.length&&ne(n,mo)},Zp=function(e){fo(e),co(e,kn.fromHtml('<br data-mce-bogus="1">'))},eg=function(e){Hn(e).each((function(t){zn(t).each((function(n){mr(e)&&gr(t)&&mr(n)&&mo(t)}))}))},tg=function(e,t,n){return Tn(t,e)?(o=function(e,t){for(var n=N(t)?t:W,o=e.dom,r=[];null!==o.parentNode&&void 0!==o.parentNode;){var i=o.parentNode,a=kn.fromDom(i);if(r.push(a),!0===n(a))break;o=i}return r}(e,(function(e){return n(e)||_n(e,t)})),o.slice(0,-1)):[];var o},ng=function(e,t){return tg(e,t,W)},og=function(e,t){return[e].concat(ng(e,t))},rg=function(e,t,n){return Vl(e,t,n,Ip)},ig=function(e,t){return ce(og(kn.fromDom(t.container()),e),mr)},ag=function(e,t,n){return rg(e,t.dom,n).forall((function(e){return ig(t,n).fold((function(){return!1===ll(e,n,t.dom)}),(function(o){return!1===ll(e,n,t.dom)&&Tn(o,kn.fromDom(e.container()))}))}))},ug=function(e,t,n){return ig(t,n).fold((function(){return rg(e,t.dom,n).forall((function(e){return!1===ll(e,n,t.dom)}))}),(function(t){return rg(e,t.dom,n).isNone()}))},sg=V(ug,!1),cg=V(ug,!0),lg=V(ag,!1),dg=V(ag,!0),fg=function(e){return xl(e).exists(gr)},mg=function(e,t,n){var o=ie(og(kn.fromDom(n.container()),t),mr),r=ye(o).getOr(t);return Il(e,r.dom,n).filter(fg)},pg=function(e,t){return xl(t).exists(gr)||mg(!0,e,t).isSome()},gg=function(e,t){return function(e){return K.from(e.getNode(!0)).map(kn.fromDom)}(t).exists(gr)||mg(!1,e,t).isSome()},hg=V(mg,!1),vg=V(mg,!0),bg=function(e){return fu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},yg=function(e,t){var n=ie(og(kn.fromDom(t.container()),e),mr);return ye(n).getOr(e)},xg=function(e,t){return bg(t)?qp(t):qp(t)||Gl(yg(e,t).dom,t).exists(qp)},wg=function(e,t){return bg(t)?Bp(t):Bp(t)||Ul(yg(e,t).dom,t).exists(Bp)},Cg=function(e){return xl(e).bind((function(e){return or(e,Qt)})).exists((function(e){return function(e){return Z(["pre","pre-wrap"],e)}(to(e,"white-space"))}))},kg=function(e,t){return function(e,t){return Gl(e.dom,t).isNone()}(e,t)||function(e,t){return Ul(e.dom,t).isNone()}(e,t)||sg(e,t)||cg(e,t)||gg(e,t)||pg(e,t)},Sg=function(e,t){return!Cg(t)&&(sg(e,t)||lg(e,t)||gg(e,t)||xg(e,t))},Eg=function(e,t){return!Cg(t)&&(cg(e,t)||dg(e,t)||pg(e,t)||wg(e,t))},Og=function(e,t){return Sg(e,t)||Eg(e,function(e){var t=e.container(),n=e.offset();return qo(t)&&n<t.data.length?fu(t,n+1):e}(t))},_g=function(e,t){return sd(e.charAt(t))},Tg=function(e){var t=e.container();return qo(t)&&Xe(t.data,kr)},Ag=function(e){var t=e.data,n=function(e){var t=e.split("");return te(t,(function(e,n){return sd(e)&&n>0&&n<t.length-1&&ld(t[n-1])&&ld(t[n+1])?" ":e})).join("")}(t);return n!==t&&(e.data=n,!0)},Rg=function(e,t){return K.some(t).filter(Tg).bind((function(t){var n=t.container(),o=function(e,t){var n=t.data,o=fu(t,0);return!(!_g(n,0)||Og(e,o))&&(t.data=" "+n.slice(1),!0)}(e,n)||Ag(n)||function(e,t){var n=t.data,o=fu(t,n.length-1);return!(!_g(n,n.length-1)||Og(e,o))&&(t.data=n.slice(0,-1)+" ",!0)}(e,n);return o?K.some(t):K.none()}))},Dg=function(e,t,n){if(0!==n){var o=kn.fromDom(e),r=nr(o,mr).getOr(o),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Eg(r,fu(e,e.data.length)),u=0===t&&Sg(r,fu(e,0));e.replaceData(t,n,oi(i,4,u,a))}},Mg=function(e,t){var n=e.data.slice(t),o=n.length-nt(n).length;Dg(e,t,o)},Ng=function(e,t){var n=e.data.slice(0,t),o=n.length-ot(n).length;Dg(e,t-o,o)},zg=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=ot(e.data).length,i=o?e:t,a=o?t:e;return o?i.appendData(a.data):i.insertData(0,a.data),mo(kn.fromDom(a)),n&&Mg(i,r),i},Pg=function(e,t){return function(e,t){var n=e.container(),o=e.offset();return!1===fu.isTextPosition(e)&&n===t.parentNode&&o>fu.before(t).offset()}(t,e)?fu(t.container(),t.offset()-1):t},Lg=function(e){return Jr(e.previousSibling)?K.some((t=e.previousSibling,qo(t)?fu(t,t.data.length):fu.after(t))):e.previousSibling?$l(e.previousSibling):K.none();var t},Fg=function(e){return Jr(e.nextSibling)?K.some((t=e.nextSibling,qo(t)?fu(t,0):fu.before(t))):e.nextSibling?Wl(e.nextSibling):K.none();var t},Bg=function(e,t){return Lg(t).orThunk((function(){return Fg(t)})).orThunk((function(){return function(e,t){var n=fu.before(t.previousSibling?t.previousSibling:t.parentNode);return Gl(e,n).fold((function(){return Ul(e,fu.after(t))}),K.some)}(e,t)}))},qg=function(e,t){return Fg(t).orThunk((function(){return Lg(t)})).orThunk((function(){return function(e,t){return Ul(e,fu.after(t)).fold((function(){return Gl(e,fu.before(t))}),K.some)}(e,t)}))},Ig=function(e,t,n){return function(e,t,n){return e?qg(t,n):Bg(t,n)}(e,t,n).map(V(Pg,n))},Hg=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},Vg=function(e){return function(t){return t.dom===e}},jg=function(e,t){return t&&ze(e.schema.getBlockElements(),Jt(t))},Ug=function(e){if(li(e)){var t=kn.fromHtml('<br data-mce-bogus="1">');return fo(e),co(e,t),K.some(fu.before(t.dom))}return K.none()},Gg=function(e,t,n){var o,r,i,a,u=zn(e).filter(Zt),s=Pn(e).filter(Zt);return mo(e),(o=u,r=s,i=t,a=function(e,t,o){var r=e.dom,i=t.dom,a=r.data.length;return zg(r,i,n),o.container()===i?fu(r,a):o},o.isSome()&&r.isSome()&&i.isSome()?K.some(a(o.getOrDie(),r.getOrDie(),i.getOrDie())):K.none()).orThunk((function(){return n&&(u.each((function(e){return Ng(e.dom,e.dom.length)})),s.each((function(e){return Mg(e.dom,0)}))),t}))},Wg=function(e,t){return ze(e.schema.getTextInlineElements(),Jt(t))},$g=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=Ig(t,e.getBody(),n.dom),i=nr(n,V(jg,e),Vg(e.getBody())),a=Gg(n,r,Wg(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Ug).fold((function(){o&&Hg(e,t,a)}),(function(n){o&&Hg(e,t,K.some(n))}))},Kg=function(e){return ba(e,"td,th")},Jg=function(e,t){return{start:e,end:t}},Yg=qu([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Xg=function(e,t){return ur(kn.fromDom(e),"td,th",t)},Qg=function(e){return!_n(e.start,e.end)},Zg=function(e,t){return tf(e.start,t).bind((function(n){return tf(e.end,t).bind((function(e){return Wt(_n(n,e),n)}))}))},eh=function(e){return function(t){return Zg(t,e).map((function(e){return function(e,t,n){return{rng:e,table:t,cells:n}}(t,e,Kg(e))}))}},th=function(e,t,n,o){if(n.collapsed||!e.forall(Qg))return K.none();if(t.isSameTable){var r=e.bind(eh(o));return K.some({start:r,end:r})}var i=Xg(n.startContainer,o),a=Xg(n.endContainer,o),u=i.bind(function(e){return function(t){return tf(t,e).bind((function(e){return xe(Kg(e)).map((function(e){return Jg(t,e)}))}))}}(o)).bind(eh(o)),s=a.bind(function(e){return function(t){return tf(t,e).bind((function(e){return ye(Kg(e)).map((function(e){return Jg(e,t)}))}))}}(o)).bind(eh(o));return K.some({start:u,end:s})},nh=function(e,t){return le(e,(function(e){return _n(e,t)}))},oh=function(e){return Gt(nh(e.cells,e.rng.start),nh(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))},rh=function(e,t,n){return e.exists((function(e){return function(e,t){return!Qg(e)&&Zg(e,t).exists((function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))}(e,n)&&rf(e.start,t)}))},ih=function(e,t){var n=t.startTable,o=t.endTable,r=e.cloneRange();return n.each((function(e){return r.setStartAfter(e.dom)})),o.each((function(e){return r.setEndBefore(e.dom)})),r},ah=function(e,t){var n=function(e){return function(t){return _n(e,t)}}(e),o=function(e,t){var n=Xg(e.startContainer,t),o=Xg(e.endContainer,t);return Gt(n,o,Jg)}(t,n),r=function(e,t){var n=function(e){return tf(kn.fromDom(e),t)},o=n(e.startContainer),r=n(e.endContainer),i=o.isSome(),a=r.isSome(),u=Gt(o,r,_n).getOr(!1);return{startTable:o,endTable:r,isStartInTable:i,isEndInTable:a,isSameTable:u,isMultiTable:!u&&i&&a}}(t,n);return rh(o,t,n)?o.map((function(e){return Yg.singleCellTable(t,e.start)})):r.isMultiTable?function(e,t,n,o){return th(e,t,n,o).bind((function(e){var o=e.start,r=e.end,i=o.bind(oh).getOr([]),a=r.bind(oh).getOr([]);if(i.length>0&&a.length>0){var u=ih(n,t);return K.some(Yg.multiTable(i,a,u))}return K.none()}))}(o,r,t,n):function(e,t,n,o){return th(e,t,n,o).bind((function(e){var t=e.start,n=e.end;return t.or(n)})).bind((function(e){var o=t.isSameTable,r=oh(e).getOr([]);if(o&&e.cells.length===r.length)return K.some(Yg.fullTable(e.table));if(r.length>0){if(o)return K.some(Yg.partialTable(r,K.none()));var i=ih(n,t);return K.some(Yg.partialTable(r,K.some(c(c({},t),{},{rng:i}))))}return K.none()}))}(o,r,t,n)},uh=function e(t){var n;return(8===Yt(n=t)||"#comment"===Jt(n)?zn(t):Hn(t)).bind(e).orThunk((function(){return K.some(t)}))},sh=function(e){return ne(e,(function(e){cn(e,"contenteditable"),Zp(e)}))},ch=function(e,t,n,o){var r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),mh(e,r,t,!1).each((function(e){return e()}))},lh=function(e){var t=ef(e),n=kn.fromDom(e.selection.getNode());Jo(n.dom)&&li(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&ee(t,(function(e){return _n(e,n)}))&&on(n,"data-mce-selected","1")},dh=function(e,t,n){return K.some((function(){var o=e.selection.getRng(),r=n.bind((function(n){var r=n.rng,i=n.isStartInTable,a=function(e,t){return K.from(e.dom.getParent(t,e.dom.isBlock)).map(kn.fromDom)}(e,i?r.endContainer:r.startContainer);r.deleteContents(),function(e,t,n){n.each((function(n){t?mo(n):(Zp(n),e.selection.setCursorLocation(n.dom,0))}))}(e,i,a.filter(li));var u=i?t[0]:t[t.length-1];return ch(e,u,o,i),li(u)?K.none():K.some(i?t.slice(1):t.slice(0,-1))})).getOr(t);sh(r),lh(e)}))},fh=function(e,t,n,o){return K.some((function(){var r=e.selection.getRng(),i=t[0],a=n[n.length-1];ch(e,i,r,!0),ch(e,a,r,!1);var u=li(i)?t:t.slice(1),s=li(a)?n:n.slice(0,-1);sh(u.concat(s)),o.deleteContents(),lh(e)}))},mh=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return K.some((function(){t.deleteContents();var r=uh(n).getOr(n),i=kn.fromDom(e.dom.getParent(r.dom,e.dom.isBlock));if(li(i)&&(Zp(i),o&&e.selection.setCursorLocation(i.dom,0)),!_n(n,i)){var a=Ut(Mn(i),n)?[]:Nn(i);ne(a.concat(Bn(n)),(function(e){_n(e,i)||Tn(e,i)||!li(e)||mo(e)}))}}))},ph=function(e,t){return K.some((function(){return $g(e,!1,t)}))},gh=function(e,t,n,o){return vh(t,o).fold((function(){return function(e,t,n){return ah(t,n).bind((function(t){return t.fold(V(mh,e),V(ph,e),V(dh,e),V(fh,e))}))}(e,t,n)}),(function(t){return function(e,t){return bh(e,t)}(e,t)}))},hh=function(e,t){return ce(og(t,e),xr)},vh=function(e,t){return ce(og(t,e),(n="caption",function(e){return Qt(e)&&Jt(e)===n}));var n},bh=function(e,t){return K.some((function(){Zp(t),e.selection.setCursorLocation(t.dom,0)}))},yh=function(e,t,n,o,r){return Hl(n,e.getBody(),r).fold((function(){return K.some(L)}),(function(i){return function(e,t,n,o){return Wl(e.dom).bind((function(r){return $l(e.dom).map((function(e){return t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r)}))})).getOr(!0)}(o,n,r,i)?function(e,t){return bh(e,t)}(e,o):function(e,t,n){return vh(e,kn.fromDom(n.getNode())).fold((function(){return K.some(L)}),(function(e){return Wt(!_n(e,t),L)}))}(t,o,i)}))},xh=function(e,t,n,o){var r=fu.fromRangeStart(e.selection.getRng());return hh(n,o).bind((function(o){return li(o)?bh(e,o):function(e,t,n,o,r){return Hl(n,e.getBody(),r).bind((function(e){return hh(t,kn.fromDom(e.getNode())).bind((function(e){return _n(e,o)?K.none():K.some(L)}))}))}(e,n,t,o,r)}))},wh=function(e,t){return e?Kp(t):Jp(t)},Ch=function(e,t,n){var o=kn.fromDom(e.getBody());return vh(o,n).fold((function(){return xh(e,t,o,n).orThunk((function(){return Wt(function(e,t){var n=fu.fromRangeStart(e.selection.getRng());return wh(t,n)||Il(t,e.getBody(),n).exists((function(e){return wh(t,e)}))}(e,t),L)}))}),(function(n){return function(e,t,n,o){var r=fu.fromRangeStart(e.selection.getRng());return li(o)?bh(e,o):yh(e,n,t,o,r)}(e,t,o,n)}))},kh=function(e,t){var n=kn.fromDom(e.selection.getStart(!0)),o=ef(e);return e.selection.isCollapsed()&&0===o.length?Ch(e,t,n):function(e,t,n){var o=kn.fromDom(e.getBody()),r=e.selection.getRng();return 0!==n.length?dh(e,n,K.none()):gh(e,o,r,t)}(e,n,o)},Sh=function(e,t){for(;t&&t!==e;){if($o(t)||Ko(t))return t;t=t.parentNode}return null},Eh=function e(t,n){n(t),t.firstChild&&e(t.firstChild,n),t.next&&e(t.next,n)},Oh=function(e,t,n,o){for(var r=n.name,i=0,a=e.length;i<a;i++){var u=e[i];if(u.name===r){var s=o.nodes[r];s?s.nodes.push(n):o.nodes[r]={filter:u,nodes:[n]}}}if(n.attributes)for(var c=0,l=t.length;c<l;c++){var d=t[c],f=d.name;if(f in n.attributes.map){var m=o.attributes[f];m?m.nodes.push(n):o.attributes[f]={filter:d,nodes:[n]}}}},_h=function(e,t,n){var o={nodes:{},attributes:{}};return n.firstChild&&Eh(n.firstChild,(function(n){Oh(e,t,n,o)})),o},Th=function(e,t){var n=function(e){Ee(e,(function(e){var n=ie(e.nodes,(function(e){return M(e.parent)}));ne(e.filter.callbacks,(function(o){o(n,e.filter.name,t)}))}))};n(e.nodes),n(e.attributes)},Ah=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=_h(e,t,n);Th(r,o)},Rh=function(e,t,n,o){t.insert&&n[o.name]?o.empty().append(new xp("br",1)):o.empty().append(new xp("#text",3)).value=kr},Dh=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Mh=function(e,t,n,o){return o.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))},Nh=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.parent;if(n.getSpecialElements()[t.name])t.empty().remove();else{var r,i=t.children(),a=u(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;n.isValidChild(o.name,s.name)||e(s,n,o)}}catch(c){a.e(c)}finally{a.f()}t.unwrap()}},zh=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L,o=t.getTextBlockElements(),r=t.getNonEmptyElements(),i=t.getWhitespaceElements(),a=jt.makeMap("tr,td,th,tbody,thead,tfoot,table"),u=new Set,s=0;s<e.length;s++){var c=e[s],l=void 0,d=void 0,f=void 0;if(c.parent&&!u.has(c))if(o[c.name]&&"li"===c.parent.name){for(var m=c.next;m&&o[m.name];)m.name="li",u.add(m),c.parent.insert(m,c.parent),m=m.next;c.unwrap()}else{var p=[c];for(l=c.parent;l&&!t.isValidChild(l.name,c.name)&&!a[l.name];l=l.parent)p.push(l);if(l&&p.length>1)if(t.isValidChild(l.name,c.name)){p.reverse(),n(d=p[0].clone());for(var g=d,h=0;h<p.length-1;h++){t.isValidChild(g.name,p[h].name)?(n(f=p[h].clone()),g.append(f)):f=g;for(var v=p[h].firstChild;v&&v!==p[h+1];){var b=v.next;f.append(v),v=b}g=f}Mh(t,r,i,d)?l.insert(c,p[0],!0):(l.insert(d,p[0],!0),l.insert(c,d)),l=p[0],(Mh(t,r,i,l)||Dh(l,"br"))&&l.empty().remove()}else Nh(c,t);else if(c.parent){if("li"===c.name){var y=c.prev;if(y&&("ul"===y.name||"ol"===y.name)){y.append(c);continue}if((y=c.next)&&("ul"===y.name||"ol"===y.name)){y.insert(c,y.firstChild,!0);continue}var x=new xp("ul",1);n(x),c.wrap(x);continue}if(t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)){var w=new xp("div",1);n(w),c.wrap(w)}else Nh(c,t)}}}},Ph=function(e){var t=fu.fromRangeStart(e),n=fu.fromRangeEnd(e),o=e.commonAncestorContainer;return Il(!1,o,n).map((function(r){return!ll(t,n,o)&&ll(t,r,o)?function(e,t,n,o){var r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r}(t.container(),t.offset(),r.container(),r.offset()):e})).getOr(e)},Lh=function(e){return e.collapsed?e:Ph(e)},Fh=function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||e.value===kr}(t.firstChild)},Bh=function(e,t){var n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Fh(e,t))}(e,o)&&(o=o.prev),!(!n||n!==o)&&("ul"===n.name||"ol"===n.name)},qh=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return e.data===kr||Go(e)}(e.firstChild)},Ih=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||qh(t))?e.slice(0,-1):e;var t},Hh=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Vh=function(e,t){var n=fu.after(e),o=Pl(t).prev(n);return o?o.toRange():null},jh=function(e,t,n){var o=e.parentNode;return jt.each(t,(function(t){o.insertBefore(t,e)})),function(e,t){var n=fu.before(e),o=Pl(t).next(n);return o?o.toRange():null}(e,n)},Uh=function(e,t,n,o){var r,i=function(e,t,n){var o=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(o))}(t,e,o),a=Hh(t,n.startContainer),u=Ih((r=i.firstChild,ie(r.childNodes,(function(e){return"LI"===e.nodeName})))),s=t.getRoot(),c=function(e){var o=fu.fromRangeStart(n),r=Pl(t.getRoot()),i=1===e?r.prev(o):r.next(o);return!i||Hh(t,i.getNode())!==a};return c(1)?jh(a,u,s):c(2)?function(e,t,n,o){return o.insertAfter(t.reverse(),e),Vh(t[0],n)}(a,u,s,t):function(e,t,n,o){var r=function(e,t){var n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]}(e,o),i=e.parentNode;return i.insertBefore(r[0],e),jt.each(t,(function(t){i.insertBefore(t,e)})),i.insertBefore(r[1],e),i.removeChild(e),Vh(t[t.length-1],n)}(a,u,s,n)},Gh=Jo,Wh=function(e){var t=e.dom,n=Lh(e.selection.getRng());e.selection.setRng(n);var o=t.getParent(n.startContainer,Gh);!function(e,t,n){return null!==n&&n===e.getParent(t.endContainer,Gh)&&rf(kn.fromDom(n),t)}(t,n,o)?e.getDoc().execCommand("Delete",!1,null):mh(e,n,kn.fromDom(o))},$h=function(e,t,n){var o,r,i,a=e.selection,u=e.dom,s=e.parser,c=n.merge,l=Dp({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);var f=(r=a.getRng()).startContainer||(r.parentElement?r.parentElement():null),m=e.getBody();f===m&&a.isCollapsed()&&u.isBlock(m.firstChild)&&function(e,t){return t&&!e.schema.getVoidElements()[t.nodeName]}(e,m.firstChild)&&u.isEmpty(m.firstChild)&&((r=u.createRng()).setStart(m.firstChild,0),r.setEnd(m.firstChild,0),a.setRng(r)),a.isCollapsed()||Wh(e);var p,g={context:(o=a.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},h=s.parse(t,g);if(!0===n.paste&&Bh(e.schema,h)&&function(e,t){return!!Hh(e,t)}(u,o))return r=Uh(l,u,a.getRng(),h),a.setRng(r),t;if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(h),"mce_marker"===(i=h.lastChild).attr("id")){var v=i;for(i=i.prev;i;i=i.walk(!0))if(3===i.type||!u.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(v,i,"br"===i.name);break}}if(e._selectionOverrides.showBlockCaretContainer(o),g.invalid){e.selection.setContent(d),o=a.getNode();var b=e.getBody();for(9===o.nodeType?o=i=b:i=o;i!==b;)o=i,i=i.parentNode;t=o===b?b.innerHTML:u.getOuterHTML(o);for(var y=s.parse(t),x=y;x;x=x.walk())if("mce_marker"===x.attr("id")){x.replace(h);break}var w=h.children(),C=h.parent.name;h.unwrap();var k=ie(w,(function(t){return!e.schema.isValidChild(C,t.name)}));zh(k,e.schema),Ah(s.getNodeFilters(),s.getAttributeFilters(),y),t=l.serialize(y),o===b?u.setHTML(b,t):u.setOuterHTML(o,t)}else t=l.serialize(h),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var o=n.firstChild,r=n.lastChild;!o||o===r&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}}(e,t,o);return function(e,t){var n=e.schema.getTextInlineElements(),o=e.dom;if(t){var r=e.getBody(),i=Tp(o);jt.each(o.select("*[data-mce-fragment]"),(function(e){if(M(n[e.nodeName.toLowerCase()])&&Pp(o,e))for(var t=e.parentNode;M(t)&&t!==r&&!Lp(o,e,t);t=t.parentNode)if(i.compare(t,e)){o.remove(e,!0);break}}))}}(e,c),function(e,t){var n,o=e.dom,r=e.selection;if(t){r.scrollIntoView(t);var i=Sh(e.getBody(),t);if("false"===o.getContentEditable(i))return o.remove(t),void r.select(i);var a=o.createRng(),u=t.previousSibling;if(qo(u)){a.setStart(u,u.nodeValue.length);var s=t.nextSibling;qo(s)&&(u.appendData(s.data),s.parentNode.removeChild(s))}else a.setStartBefore(t),a.setEndBefore(t);var c=o.getParent(t,o.isBlock);o.remove(t),c&&o.isEmpty(c)&&(fo(kn.fromDom(c)),a.setStart(c,0),a.setEnd(c,0),Gh(c)||function(e){return!!e.getAttribute("data-mce-fragment")}(c)||!(n=function(t){var n=fu.fromRangeStart(t);if(n=Pl(e.getBody()).next(n))return n.toRange()}(a))?o.add(c,o.create("br",{"data-mce-bogus":"1"})):(a=n,o.remove(c))),r.setRng(a)}}(e,u.get("mce_marker")),p=e.getBody(),jt.each(p.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),function(e,t){K.from(e.getParent(t,"td,th")).map(kn.fromDom).each(eg)}(u,a.getStart()),t},Kh=function(e){return e instanceof xp},Jh=function(e,t,n){e.dom.setHTML(e.getBody(),t),!0!==n&&function(e){Zm(e)&&Wl(e.getBody()).each((function(t){var n=t.getNode(),o=Lo(n)?Wl(n).getOr(t):t;e.selection.setRng(o.toRange())}))}(e)},Yh=function(e,t,n){return K.from(e.getBody()).map((function(o){return Kh(t)?function(e,t,n,o){Ah(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=Dp({validate:!1},e.schema).serialize(n),i=wr(kn.fromDom(t))?r:jt.trim(r);return Jh(e,i,o.no_selection),{content:n,html:i}}(e,o,t,n):function(e,t,n,o){if(0===n.length||/^\s+$/.test(n)){var r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");var i=ss(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=r,n=e.dom.createHTML(i,cs(e),n)):n||(n=r),Jh(e,n,o.no_selection),{content:n,html:n}}"raw"!==o.format&&(n=Dp({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));var a=wr(kn.fromDom(t))?n:jt.trim(n);return Jh(e,a,o.no_selection),{content:a,html:a}}(e,o,t,n)})).getOr({content:t,html:Kh(n.content)?"":n.content})},Xh=function(e,t){return function(e,t){var n=e.dom;return n.parentNode?rr(kn.fromDom(n.parentNode),(function(n){return!_n(e,n)&&t(n)})):K.none()}(e,t).isSome()},Qh=function(e){return N(e)?e:W},Zh=function(e,t,n){var o=t(e),r=Qh(n);return o.orThunk((function(){return r(e)?K.none():function(e,t,n){for(var o=e.dom,r=Qh(n);o.parentNode;){o=o.parentNode;var i=kn.fromDom(o),a=t(i);if(a.isSome())return a;if(r(i))break}return K.none()}(e,t,r)}))},ev=Ed,tv=function(e,t,n){var o=e.formatter.get(n);if(o)for(var r=0;r<o.length;r++){var i=o[r];if(Md(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},nv=function(e,t,n,o,r){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,(function(t){return!!tv(e,t,n)||(t.parentNode===i||!!iv(e,t,n,o,!0))})),!!iv(e,t,n,o,r))},ov=function(e,t,n){return!(!Nd(n)||!ev(t,n.inline))||(!(!Dd(n)||!ev(t,n.block))||!!Md(n)&&(Do(t)&&e.is(t,n.selector)))},rv=function(e,t,n,o,r,i){var a=n[o];if(N(n.onmatch))return n.onmatch(t,n,o);if(a)if(R(a.length)){for(var u in a)if(ze(a,u)){var s="attributes"===o?e.getAttrib(t,u):_d(e,t,u),c=Sd(a[u],i),l=D(s)||it(s);if(l&&D(c))continue;if(r&&l&&!n.exact)return!1;if((!r||n.exact)&&!ev(s,Od(c,u)))return!1}}else for(var d=0;d<a.length;d++)if("attributes"===o?e.getAttrib(t,a[d]):_d(e,t,a[d]))return!0;return!0},iv=function(e,t,n,o,r){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var s=i[u];if(ov(e.dom,t,s)&&rv(a,t,s,"attributes",r,o)&&rv(a,t,s,"styles",r,o)){var c=s.classes;if(c)for(var l=0;l<c.length;l++)if(!e.dom.hasClass(t,Sd(c[l],o)))return;return s}}},av=function(e,t,n,o,r){if(o)return nv(e,o,t,n,r);if(o=e.selection.getNode(),nv(e,o,t,n,r))return!0;var i=e.selection.getStart();return!(i===o||!nv(e,i,t,n,r))},uv=function(e,t){var n=function(t){return _n(t,kn.fromDom(e.getBody()))};return K.from(e.selection.getStart(!0)).bind((function(o){return Zh(kn.fromDom(o),(function(n){return Ce(t,(function(t){return function(t,n){return iv(e,t.dom,n)?K.some(n):K.none()}(n,t)}))}),n)})).getOrNull()},sv=function(e,t,n){return ue(n,(function(n,o){var r=function(e,t){return ee(e.formatter.get(t),(function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return ee(["styles","attributes"],(function(n){return Ne(e,n).exists((function(e){var n=_(e)?e:Me(e);return ee(n,t)}))}))}))}(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n}),[])},cv=Er,lv="_mce_caret",dv=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==cv||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},fv=function(e){if(e){var t=new lr(e,e);for(e=t.current();e;e=t.next())if(qo(e))return e}return null},mv=function(e){var t=kn.fromTag("span");return rn(t,{id:lv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&co(t,kn.fromText(cv)),t},pv=function(e){var t=fv(e);return t&&t.nodeValue.charAt(0)===cv&&t.deleteData(0,1),t},gv=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.dom,r=e.selection;if(dv(t))$g(e,!1,kn.fromDom(t),n);else{var i=r.getRng(),a=o.getParent(t,o.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,l=i.endOffset,d=pv(t);o.remove(t,!0),u===d&&s>0&&i.setStart(d,s-1),c===d&&l>0&&i.setEnd(d,l-1),a&&o.isEmpty(a)&&Zp(kn.fromDom(a)),r.setRng(i)}},hv=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.dom,r=e.selection;if(t)gv(e,t,n);else if(!(t=Yl(e.getBody(),r.getStart())))for(;t=o.get(lv);)gv(e,t,!1)},vv=function(e,t){return e.appendChild(t),t},bv=function(e,t){var n=ae(e,(function(e,t){return vv(e,t.cloneNode(!1))}),t);return vv(n,n.ownerDocument.createTextNode(cv))},yv=function(e,t,n,o){var r,i,a,u=e.dom,s=e.selection,c=[],l=s.getRng(),d=l.startContainer,f=l.startOffset;for(i=d,3===d.nodeType&&(f!==d.nodeValue.length&&(r=!0),i=i.parentNode);i;){if(iv(e,i,t,n,o)){a=i;break}i.nextSibling&&(r=!0),c.push(i),i=i.parentNode}if(a)if(r){var m=s.getBookmark();l.collapse(!0);var p=Jd(e,l,e.formatter.get(t),!0);p=im(p),e.formatter.remove(t,n,p,o),s.moveToBookmark(m)}else{var g=Yl(e.getBody(),a),h=mv(!1).dom;!function(e,t,n){var o=e.dom,r=o.getParent(n,V(wd,e));r&&o.isEmpty(r)?n.parentNode.replaceChild(t,n):(Qp(kn.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))}(e,h,null!==g?g:a);var v=function(e,t,n,o,r,i){var a=e.formatter,u=e.dom,s=ie(ke(a.get()),(function(e){return e!==o&&!Xe(e,"removeformat")})),c=sv(e,n,s);if(ie(c,(function(t){return!Rd(e,t,o)})).length>0){var l=n.cloneNode(!1);return u.add(t,l),a.remove(o,r,l,i),u.remove(l),K.some(l)}return K.none()}(e,h,a,t,n,o),b=bv(c.concat(v.toArray()),h);gv(e,g,!1),s.setCursorLocation(b,1),u.isEmpty(a)&&u.remove(a)}},xv=function(e){e.on("mouseup keydown",(function(t){!function(e,t){var n=e.selection,o=e.getBody();hv(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==cv||hv(e,Yl(o,n.getStart())),37!==t&&39!==t||hv(e,Yl(o,n.getStart()))}(e,t.keyCode)}))},wv=function(e,t){var n=e.schema.getTextInlineElements();return ze(n,Jt(t))&&!Jl(t.dom)&&!Po(t.dom)},Cv={},kv=Ie,Sv=Be;!function(e,t){Cv[e]||(Cv[e]=[]),Cv[e].push(t)}("pre",(function(e){var t,n=e.selection.getRng(),o=Mo(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Sv(kv(kv(t,o),(function(e){return o(e.previousSibling)&&-1!==He(t,e.previousSibling)})),(function(e){!function(e,t){var n=kn.fromDom(t),o=Rn(n).dom;mo(n),lo(kn.fromDom(e),[kn.fromTag("br",o),kn.fromTag("br",o)].concat(a(Bn(n))))}(e.previousSibling,e)})))}));var Ev=jt.each,Ov=function(e){return Do(e)&&!ud(e)&&!Jl(e)&&!Po(e)},_v=function(e,t){for(var n=e;n;n=n[t]){if(qo(n)&&rt(n.data))return e;if(Do(n)&&!ud(n))return n}return e},Tv=function(e,t,n){var o=Tp(e);if(t&&n&&(t=_v(t,"previousSibling"),n=_v(n,"nextSibling"),o.compare(t,n))){for(var r=t.nextSibling;r&&r!==n;){var i=r;r=r.nextSibling,t.appendChild(i)}return e.remove(n),jt.each(jt.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},Av=function(e,t,n,o){if(o&&!1!==t.merge_siblings){var r=Tv(e,xd(o),o);Tv(e,r,xd(r,!0))}},Rv=function e(t,n,o){Ev(t.childNodes,(function(t){Ov(t)&&(n(t)&&o(t),t.hasChildNodes()&&e(t,n,o))}))},Dv=function(e,t){return function(n){return!(!n||!_d(e,n,t))}},Mv=function(e,t,n){return function(o){e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)}(e,o)}},Nv=qu([{keep:[]},{rename:["name"]},{removed:[]}]),zv=/^(src|href|style)$/,Pv=jt.each,Lv=Ed,Fv=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Bv=function(e,t,n){var o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(Do(o)){var i=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>i?i:r]}return qo(o)&&n&&r>=o.nodeValue.length&&(o=new lr(o,e.getBody()).next()||o),qo(o)&&!n&&0===r&&(o=new lr(o,e.getBody()).prev()||o),o},qv=function(e,t){var n=t?"firstChild":"lastChild";if(function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}(e)&&e[n]){var o=e[n];return"TR"===e.nodeName&&o[n]||o}return e},Iv=function(e,t,n,o){var r=e.create(n,o);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},Hv=function(e,t,n,o,r){var i=kn.fromDom(t),a=kn.fromDom(e.create(o,r)),u=n?Fn(i):Ln(i);return lo(a,u),n?(ao(i,a),so(a,i)):(uo(i,a),co(a,i)),a.dom},Vv=function(e,t,n){var o,r=t.parentNode,i=e.dom,a=ss(e);Dd(n)&&r===i.getRoot()&&(n.list_block&&Lv(t,n.list_block)||ne(we(t.childNodes),(function(t){Cd(e,a,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Iv(i,t,a),i.setAttribs(o,cs(e))):o=null}))),function(e){return Md(e)&&Nd(e)&&Ut(Ne(e,"mixed"),!0)}(n)&&!Lv(n.inline,t)||i.remove(t,!0)},jv=function(e,t,n,o,r){var i,a=e.dom;if(!ov(a,o,t)&&!function(e,t){return t.links&&"A"===e.nodeName}(o,t))return Nv.keep();var u=o;if(Nd(t)&&"all"===t.remove&&_(t.preserve_attributes)){var s=ie(a.getAttribs(u),(function(e){return Z(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(u),ne(s,(function(e){return a.setAttrib(u,e.name,e.value)})),s.length>0)return Nv.rename("span")}if("all"!==t.remove){Pv(t.styles,(function(e,o){e=Od(Sd(e,n),o+""),z(o)&&(o=e,r=null),(t.remove_similar||!r||Lv(_d(a,r,o),e))&&a.setStyle(u,o,""),i=!0})),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Pv(t.attributes,(function(e,o){var i;if(e=Sd(e,n),z(o)&&(o=e,r=null),t.remove_similar||!r||Lv(a.getAttrib(r,o),e)){if("class"===o&&(e=a.getAttrib(u,o))&&(i="",ne(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i))return void a.setAttrib(u,o,i);if(zv.test(o)&&u.removeAttribute("data-mce-"+o),"style"===o&&Mo(["li"])(u)&&"none"===a.getStyle(u,"list-style-type"))return u.removeAttribute(o),void a.setStyle(u,"list-style-type","none");"class"===o&&u.removeAttribute("className"),u.removeAttribute(o)}})),Pv(t.classes,(function(e){e=Sd(e,n),r&&!a.hasClass(r,e)||a.removeClass(u,e)}));for(var c=a.getAttribs(u),l=0;l<c.length;l++){var d=c[l].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return Nv.keep()}}return"none"!==t.remove?(Vv(e,u,t),Nv.removed()):Nv.keep()},Uv=function(e,t,n,o,r){return jv(e,t,n,o,r).fold(W,(function(t){return e.dom.rename(o,t),!0}),$)},Gv=function(e,t,n,o){return jv(e,t,n,o,o).fold(q(o),(function(t){return e.dom.createFragment().appendChild(o),e.dom.rename(o,t)}),q(null))},Wv=function(e,t,n,o,r){var i=e.formatter.get(t),a=i[0],u=!0,s=e.dom,c=e.selection,l=function(o){var u=function(e,t,n,o,r){var i;return ne(Ad(e.dom,t.parentNode).reverse(),(function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=iv(e,t,n,o,r);a&&!1!==a.split&&(i=t)}})),i}(e,o,t,n,r);return function(e,t,n,o,r,i,a,u){var s,c,l,d=e.dom;if(n){for(var f=n.parentNode,m=o.parentNode;m&&m!==f;m=m.parentNode){s=d.clone(m,!1);for(var p=0;p<t.length&&null!==(s=Gv(e,t[p],u,s));p++);s&&(c&&s.appendChild(c),l||(l=s),c=s)}!i||a.mixed&&d.isBlock(n)||(o=d.split(n,o)),c&&(r.parentNode.insertBefore(c,r),l.appendChild(r),Nd(a)&&Av(d,a,0,c))}return o}(e,i,u,o,o,!0,a,n)},d=function(t){return ee(i,(function(o){return Uv(e,o,n,t,t)}))},f=function t(n){var o=!0,r=!1;Do(n)&&s.getContentEditable(n)&&(o=u,u="true"===s.getContentEditable(n),r=!0);var c=we(n.childNodes);if(u&&!r){var l=d(n)||ee(i,(function(e){return ov(s,n,e)})),f=n.parentNode;!l&&M(f)&&zd(a)&&d(f)}if(a.deep&&c.length){for(var m=0;m<c.length;m++)t(c[m]);r&&(u=o)}ne(["underline","line-through","overline"],(function(t){Do(n)&&e.dom.getStyle(n,"text-decoration")===t&&n.parentNode&&Td(s,n.parentNode)===t&&Uv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:t}},null,n)}))},m=function(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return function(e){return ud(e)&&Do(e)&&("_start"===e.id||"_end"===e.id)}(n)&&(n=n[e?"firstChild":"lastChild"]),qo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n},p=function(t){var n,o,r=Jd(e,t,i,t.collapsed);if(a.split){if(r=im(r),(n=Bv(e,r,!0))!==(o=Bv(e,r))){if(n=qv(n,!0),o=qv(o,!1),Fv(s,n,o)){var u=K.from(n.firstChild).getOr(n);return l(Hv(s,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(Fv(s,o,n)){var c=K.from(o.lastChild).getOr(o);return l(Hv(s,c,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=Iv(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=Iv(s,o,"span",{id:"_end","data-mce-type":"bookmark"});var d=s.createRng();d.setStartAfter(n),d.setEndBefore(o),Yd(s,d,(function(e){ne(e,(function(e){ud(e)||ud(e.parentNode)||l(e)}))})),l(n),l(o),n=m(!0),o=m()}else n=o=l(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=s.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=s.nodeIndex(o)+1}Yd(s,r,(function(e){ne(e,f)}))};if(o){if(bd(o)){var g=s.createRng();g.setStartBefore(o),g.setEndAfter(o),p(g)}else p(o);Cf(e,t,o,n)}else if("false"!==s.getContentEditable(c.getNode()))c.isCollapsed()&&Nd(a)&&!ef(e).length?yv(e,t,n,r):(cf(c,!0,(function(){sf(e,p)})),Nd(a)&&av(e,t,n,c.getStart())&&yd(s,c,c.getRng()),e.nodeChanged()),Cf(e,t,o,n);else{o=c.getNode();for(var h=0;h<i.length&&(!i[h].ceFalseOverride||!Uv(e,i[h],n,o,o));h++);Cf(e,t,o,n)}},$v=jt.each,Kv=function(e,t,n,o){$v(t,(function(t){Nd(t)&&$v(e.dom.select(t.inline,o),(function(o){Ov(o)&&Uv(e,t,n,o,t.exact?o:null)})),function(e,t,n){if(t.clear_child_styles){var o=t.links?"*:not(a)":"*";Ev(e.select(o,n),(function(n){Ov(n)&&Ev(t.styles,(function(t,o){e.setStyle(n,o,"")}))}))}}(e.dom,t,o)}))},Jv=jt.each,Yv=function(e){return Do(e)&&!ud(e)&&!Jl(e)&&!Po(e)},Xv=function(e,t,n,o){var r=e.formatter.get(t),i=r[0],a=!o&&e.selection.isCollapsed(),u=e.dom,s=e.selection,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(N(t.onformat)&&t.onformat(e,t,n,o),Jv(t.styles,(function(t,o){u.setStyle(e,o,Sd(t,n))})),t.styles){var r=u.getAttrib(e,"style");r&&u.setAttrib(e,"data-mce-style",r)}Jv(t.attributes,(function(t,o){u.setAttrib(e,o,Sd(t,n))})),Jv(t.classes,(function(t){t=Sd(t,n),u.hasClass(e,t)||u.addClass(e,t)}))},d=function(e,t){var n=!1;return Jv(e,(function(e){return!!Md(e)&&(M(e.collapsed)&&e.collapsed!==a?void 0:u.is(t,e.selector)&&!Jl(t)?(l(t,e),n=!0,!1):void 0)})),n},f=function(e){if(S(e)){var t=u.create(e);return l(t),t}return null},m=function(o,a,u){var s=[],m=!0,p=i.inline||i.block,g=f(p);Yd(o,a,(function(a){var f;ne(a,(function a(h){var v=!1,b=m,y=h.nodeName.toLowerCase(),x=h.parentNode,w=x.nodeName.toLowerCase();if(Do(h)&&o.getContentEditable(h)&&(b=m,m="true"===o.getContentEditable(h),v=!0),Go(h)&&!function(e,t,n,o){if(Ws(e)&&Nd(t)){var r=c(c({},e.schema.getTextBlockElements()),{},{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=Xh(kn.fromDom(n),(function(e){return Jl(e.dom)}));return Pe(r,o)&&li(kn.fromDom(n.parentNode),!1)&&!i}return!1}(e,i,h,w))return f=null,void(Dd(i)&&o.remove(h));if(Dd(i)&&i.wrapper&&iv(e,h,t,n))f=null;else{if(m&&!v&&Dd(i)&&!i.wrapper&&wd(e,y)&&Cd(e,w,p)){var C=o.rename(h,p);return l(C),s.push(C),void(f=null)}if(Md(i)){var k=d(r,h);if(!k&&M(x)&&zd(i)&&(k=d(r,x)),!Nd(i)||k)return void(f=null)}!m||v||!Cd(e,p,y)||!Cd(e,w,p)||!u&&qo(h)&&Or(h.data)||Jl(h)||Nd(i)&&o.isBlock(h)?(f=null,ne(we(h.childNodes),a),v&&(m=b),f=null):(f||(f=o.clone(g,!1),h.parentNode.insertBefore(f,h),s.push(f)),f.appendChild(h))}}))})),!0===i.links&&ne(s,(function(e){!function e(t){"A"===t.nodeName&&l(t,i),ne(we(t.childNodes),e)}(e)})),ne(s,(function(a){var u=function(e){var t=0;return ne(e.childNodes,(function(e){(function(e){return M(e)&&qo(e)&&0===e.length})(e)||ud(e)||t++})),t}(a);!(s.length>1)&&o.isBlock(a)||0!==u?(Nd(i)||Dd(i)&&i.wrapper)&&(i.exact||1!==u||(a=function(e){var t=ce(e.childNodes,Yv).filter((function(e){return ov(o,e,i)}));return t.map((function(t){var n=o.clone(t,!1);return l(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)}(a)),Kv(e,r,n,a),function(e,t,n,o,r){iv(e,r.parentNode,n,o)&&Uv(e,t,o,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,(function(i){if(iv(e,i,n,o))return Uv(e,t,o,r),!0}))}(e,i,t,n,a),function(e,t,n,o){t.styles&&t.styles.backgroundColor&&Rv(o,Dv(e,"fontSize"),Mv(e,"backgroundColor",Sd(t.styles.backgroundColor,n)))}(o,i,n,a),function(e,t,n,o){var r=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=Td(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(jt.walk(o,r,"childNodes"),r(o))}(o,i,0,a),function(e,t,n,o){!Nd(t)||"sub"!==t.inline&&"sup"!==t.inline||(Rv(o,Dv(e,"fontSize"),Mv(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",o),!0))}(o,i,0,a),Av(o,i,0,a)):o.remove(a,!0)}))};if("false"!==u.getContentEditable(s.getNode())){if(i){if(o)if(bd(o)){if(!d(r,o)){var p=u.createRng();p.setStartBefore(o),p.setEndAfter(o),m(u,Jd(e,p,r),!0)}}else m(u,o,!0);else a&&Nd(i)&&!ef(e).length?function(e,t,n){var o,r,i=e.selection,a=i.getRng(),u=a.startOffset,s=a.startContainer.nodeValue;(o=Yl(e.getBody(),i.getStart()))&&(r=fv(o));var c,l,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&u>0&&u<s.length&&d.test(s.charAt(u))&&d.test(s.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var m=Jd(e,a,e.formatter.get(t));m=im(m),e.formatter.apply(t,n,m),i.moveToBookmark(f)}else o&&r.nodeValue===cv||(c=e.getDoc(),l=mv(!0).dom,r=(o=c.importNode(l,!0)).firstChild,a.insertNode(o),u=1),e.formatter.apply(t,n,o),i.setCursorLocation(r,u)}(e,t,n):(s.setRng(Lh(s.getRng())),cf(s,!0,(function(){sf(e,(function(t,n){var o=n?t:Jd(e,t,r);m(u,o,!1)}))})),yd(u,s,s.getRng()),e.nodeChanged());!function(e,t){Sv(Cv[e],(function(e){e(t)}))}(t,e)}wf(e,t,o,n)}else{o=s.getNode();for(var g=0,h=r.length;g<h;g++){var v=r[g];if(v.ceFalseOverride&&Md(v)&&u.is(o,v.selector)){l(o,v);break}}wf(e,t,o,n)}},Qv=function(e){return ze(e,"vars")},Zv=function(e){return e.selection.getStart()},eb=function(e,t,n,o,r){return se(t,(function(t){var i=e.formatter.matchNode(t,n,null!==r&&void 0!==r?r:{},o);return!R(i)}),(function(t){return!!tv(e,t,n)||!o&&M(e.formatter.matchNode(t,n,r,!0))}))},tb=function(e,t){var n=null!==t&&void 0!==t?t:Zv(e);return ie(Ad(e.dom,n),(function(e){return Do(e)&&!Po(e)}))},nb=function(e,t,n){var o=tb(e,t);Ee(n,(function(n,r){var i=function(n){var i=eb(e,o,r,n.similar,Qv(n)?n.vars:void 0),a=i.isSome();if(n.state.get()!==a){n.state.set(a);var u=i.getOr(t);Qv(n)?n.callback(a,{node:u,format:r,parents:o}):ne(n.callbacks,(function(e){return e(a,{node:u,format:r,parents:o})}))}};ne([n.withSimilar,n.withoutSimilar],i),ne(n.withVars,i)}))},ob=function(e,t,n,o,r,i){return null===t.get()&&function(e,t){e.set({}),t.on("NodeChange",(function(n){nb(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(function(n){var o=K.from(n.node).map((function(e){return bd(e)?e:e.startContainer})).bind((function(e){return Do(e)?K.some(e):K.from(e.parentElement)})).getOrThunk((function(){return Zv(t)}));nb(t,o,e.get())}))}(t,e),function(e,t,n,o,r,i){var a=t.get();ne(n.split(","),(function(t){var n=Ne(a,t).getOrThunk((function(){var e={withSimilar:{state:sa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:sa(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e})),u=function(){var n=tb(e);return eb(e,n,t,r,i).isSome()};if(R(i)){var s=r?n.withSimilar:n.withoutSimilar;s.callbacks.push(o),1===s.callbacks.length&&s.state.set(u())}else n.withVars.push({state:sa(u()),similar:r,vars:i,callback:o})})),t.set(a)}(e,t,n,o,r,i),{unbind:function(){return function(e,t,n){var o=e.get();ne(t.split(","),(function(e){return Ne(o,e).each((function(t){o[e]={withSimilar:c(c({},t.withSimilar),{},{callbacks:ie(t.withSimilar.callbacks,(function(e){return e!==n}))}),withoutSimilar:c(c({},t.withoutSimilar),{},{callbacks:ie(t.withoutSimilar.callbacks,(function(e){return e!==n}))}),withVars:ie(t.withVars,(function(e){return e.callback!==n}))}}))})),e.set(o)}(t,n,o)}}};var rb=Object.hasOwnProperty,ib=Object.setPrototypeOf,ab=Object.isFrozen,ub=Object.getPrototypeOf,sb=Object.getOwnPropertyDescriptor,cb=Object.freeze,lb=Object.seal,db=Object.create,fb="undefined"!==typeof Reflect&&Reflect,mb=fb.apply,pb=fb.construct;mb||(mb=function(e,t,n){return e.apply(t,n)}),cb||(cb=function(e){return e}),lb||(lb=function(e){return e}),pb||(pb=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var gb,hb=Ob(Array.prototype.forEach),vb=Ob(Array.prototype.pop),bb=Ob(Array.prototype.push),yb=Ob(String.prototype.toLowerCase),xb=Ob(String.prototype.match),wb=Ob(String.prototype.replace),Cb=Ob(String.prototype.indexOf),kb=Ob(String.prototype.trim),Sb=Ob(RegExp.prototype.test),Eb=(gb=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return pb(gb,t)});function Ob(e){return function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return mb(e,t,o)}}function _b(e,t){ib&&ib(e,null);for(var n=t.length;n--;){var o=t[n];if("string"===typeof o){var r=yb(o);r!==o&&(ab(t)||(t[n]=r),o=r)}e[o]=!0}return e}function Tb(e){var t=db(null),n=void 0;for(n in e)mb(rb,e,[n])&&(t[n]=e[n]);return t}function Ab(e,t){for(;null!==e;){var n=sb(e,t);if(n){if(n.get)return Ob(n.get);if("function"===typeof n.value)return Ob(n.value)}e=ub(e)}return function(e){return console.warn("fallback value for",e),null}}var Rb=cb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Db=cb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mb=cb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Nb=cb(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zb=cb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Pb=cb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Lb=cb(["#text"]),Fb=cb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bb=cb(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qb=cb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ib=cb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hb=lb(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Vb=lb(/<%[\s\S]*|[\s\S]*%>/gm),jb=lb(/^data-[\-\w.\u00B7-\uFFFF]/),Ub=lb(/^aria-[\-\w]+$/),Gb=lb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Wb=lb(/^(?:\w+script|data):/i),$b=lb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kb=lb(/^html$/i),Jb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Yb(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Xb=function(){return"undefined"===typeof window?null:window},Qb=function(e,t){if("object"!==("undefined"===typeof e?"undefined":Jb(e))||"function"!==typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(i){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Zb,ey=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xb(),n=function(t){return e(t)};if(n.version="2.3.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,u=t.Node,s=t.Element,c=t.NodeFilter,l=t.NamedNodeMap,d=void 0===l?t.NamedNodeMap||t.MozNamedAttrMap:l,f=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,g=s.prototype,h=Ab(g,"cloneNode"),v=Ab(g,"nextSibling"),b=Ab(g,"childNodes"),y=Ab(g,"parentNode");if("function"===typeof a){var x=r.createElement("template");x.content&&x.content.ownerDocument&&(r=x.content.ownerDocument)}var w=Qb(p,o),C=w?w.createHTML(""):"",k=r,S=k.implementation,E=k.createNodeIterator,O=k.createDocumentFragment,_=k.getElementsByTagName,T=o.importNode,A={};try{A=Tb(r).documentMode?r.documentMode:{}}catch(Ve){}var R={};n.isSupported="function"===typeof y&&S&&"undefined"!==typeof S.createHTMLDocument&&9!==A;var D=Hb,M=Vb,N=jb,z=Ub,P=Wb,L=$b,F=Gb,B=null,q=_b({},[].concat(Yb(Rb),Yb(Db),Yb(Mb),Yb(zb),Yb(Lb))),I=null,H=_b({},[].concat(Yb(Fb),Yb(Bb),Yb(qb),Yb(Ib))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,U=null,G=!0,W=!0,$=!1,K=!1,J=!1,Y=!1,X=!1,Q=!1,Z=!1,ee=!1,te=!0,ne=!0,oe=!1,re={},ie=null,ae=_b({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,se=_b({},["audio","video","img","source","image","track"]),ce=null,le=_b({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",pe=me,ge=!1,he=void 0,ve=["application/xhtml+xml","text/html"],be="text/html",ye=void 0,xe=null,we=r.createElement("form"),Ce=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){xe&&xe===e||(e&&"object"===("undefined"===typeof e?"undefined":Jb(e))||(e={}),e=Tb(e),B="ALLOWED_TAGS"in e?_b({},e.ALLOWED_TAGS):q,I="ALLOWED_ATTR"in e?_b({},e.ALLOWED_ATTR):H,ce="ADD_URI_SAFE_ATTR"in e?_b(Tb(le),e.ADD_URI_SAFE_ATTR):le,ue="ADD_DATA_URI_TAGS"in e?_b(Tb(se),e.ADD_DATA_URI_TAGS):se,ie="FORBID_CONTENTS"in e?_b({},e.FORBID_CONTENTS):ae,j="FORBID_TAGS"in e?_b({},e.FORBID_TAGS):{},U="FORBID_ATTR"in e?_b({},e.FORBID_ATTR):{},re="USE_PROFILES"in e&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,$=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,J=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,Z=e.RETURN_DOM_FRAGMENT||!1,ee=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,pe=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),he=he=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?be:e.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===he?function(e){return e}:yb,K&&(W=!1),Z&&(Q=!0),re&&(B=_b({},[].concat(Yb(Lb))),I=[],!0===re.html&&(_b(B,Rb),_b(I,Fb)),!0===re.svg&&(_b(B,Db),_b(I,Bb),_b(I,Ib)),!0===re.svgFilters&&(_b(B,Mb),_b(I,Bb),_b(I,Ib)),!0===re.mathMl&&(_b(B,zb),_b(I,qb),_b(I,Ib))),e.ADD_TAGS&&(B===q&&(B=Tb(B)),_b(B,e.ADD_TAGS)),e.ADD_ATTR&&(I===H&&(I=Tb(I)),_b(I,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&_b(ce,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ie===ae&&(ie=Tb(ie)),_b(ie,e.FORBID_CONTENTS)),ne&&(B["#text"]=!0),J&&_b(B,["html","head","body"]),B.table&&(_b(B,["tbody"]),delete j.tbody),cb&&cb(e),xe=e)},Se=_b({},["mi","mo","mn","ms","mtext"]),Ee=_b({},["foreignobject","desc","title","annotation-xml"]),Oe=_b({},["title","style","font","a","script"]),_e=_b({},Db);_b(_e,Mb),_b(_e,Nb);var Te=_b({},zb);_b(Te,Pb);var Ae=function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var n=yb(e.tagName),o=yb(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===o||Se[o]):Boolean(_e[n]):e.namespaceURI===de?t.namespaceURI===me?"math"===n:t.namespaceURI===fe?"math"===n&&Ee[o]:Boolean(Te[n]):e.namespaceURI===me&&(!(t.namespaceURI===fe&&!Ee[o])&&(!(t.namespaceURI===de&&!Se[o])&&(!Te[n]&&(Oe[n]||!_e[n]))))},Re=function(e){bb(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Ve){try{e.outerHTML=C}catch(Ve){e.remove()}}},De=function(e,t){try{bb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Ve){bb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!I[e])if(Q||Z)try{Re(t)}catch(Ve){}else try{t.setAttribute(e,"")}catch(Ve){}},Me=function(e){var t=void 0,n=void 0;if(X)e="<remove></remove>"+e;else{var o=xb(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===he&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=w?w.createHTML(e):e;if(pe===me)try{t=(new m).parseFromString(i,he)}catch(Ve){}if(!t||!t.documentElement){t=S.createDocument(pe,"template",null);try{t.documentElement.innerHTML=ge?"":i}catch(Ve){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),pe===me?_.call(t,J?"html":"body")[0]:J?t.documentElement:a},Ne=function(e){return E.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ze=function(e){return e instanceof f&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof d)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore)},Pe=function(e){return"object"===("undefined"===typeof u?"undefined":Jb(u))?e instanceof u:e&&"object"===("undefined"===typeof e?"undefined":Jb(e))&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Le=function(e,t,o){R[e]&&hb(R[e],(function(e){e.call(n,t,o,xe)}))},Fe=function(e){var t=void 0;if(Le("beforeSanitizeElements",e,null),ze(e))return Re(e),!0;if(Sb(/[\u0080-\uFFFF]/,e.nodeName))return Re(e),!0;var o=ye(e.nodeName);if(Le("uponSanitizeElement",e,{tagName:o,allowedTags:B}),e.hasChildNodes()&&!Pe(e.firstElementChild)&&(!Pe(e.content)||!Pe(e.content.firstElementChild))&&Sb(/<[/\w]/g,e.innerHTML)&&Sb(/<[/\w]/g,e.textContent))return Re(e),!0;if("select"===o&&Sb(/<template/i,e.innerHTML))return Re(e),!0;if(!B[o]||j[o]){if(!j[o]&&qe(o)){if(V.tagNameCheck instanceof RegExp&&Sb(V.tagNameCheck,o))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(o))return!1}if(ne&&!ie[o]){var r=y(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(h(i[a],!0),v(e))}return Re(e),!0}return e instanceof s&&!Ae(e)?(Re(e),!0):"noscript"!==o&&"noembed"!==o||!Sb(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=wb(t,D," "),t=wb(t,M," "),e.textContent!==t&&(bb(n.removed,{element:e.cloneNode()}),e.textContent=t)),Le("afterSanitizeElements",e,null),!1):(Re(e),!0)},Be=function(e,t,n){if(te&&("id"===t||"name"===t)&&(n in r||n in we))return!1;if(W&&!U[t]&&Sb(N,t));else if(G&&Sb(z,t));else if(!I[t]||U[t]){if(!(qe(e)&&(V.tagNameCheck instanceof RegExp&&Sb(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&Sb(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Sb(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(ce[t]);else if(Sb(F,wb(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Cb(n,"data:")||!ue[e]){if($&&!Sb(P,wb(n,L,"")));else if(n)return!1}else;return!0},qe=function(e){return e.indexOf("-")>0},Ie=function(e){var t=void 0,n=void 0,o=void 0,r=void 0;Le("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I};for(r=i.length;r--;){var u=t=i[r],s=u.name,c=u.namespaceURI;n=kb(t.value),o=ye(s);var l=n;if(a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Le("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(Sb(/\/>/i,n))De(s,e);else{K&&(n=wb(n,D," "),n=wb(n,M," "));var d=ye(e.nodeName);if(Be(d,o,n)){if(n!==l)try{c?e.setAttributeNS(c,s,n):e.setAttribute(s,n)}catch(Ve){De(s,e)}}else De(s,e)}else De(s,e)}Le("afterSanitizeAttributes",e,null)}},He=function e(t){var n=void 0,o=Ne(t);for(Le("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Le("uponSanitizeShadowNode",n,null),Fe(n)||(n.content instanceof i&&e(n.content),Ie(n));Le("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var a=void 0,s=void 0,c=void 0,l=void 0,d=void 0;if((ge=!e)&&(e="\x3c!--\x3e"),"string"!==typeof e&&!Pe(e)){if("function"!==typeof e.toString)throw Eb("toString is not a function");if("string"!==typeof(e=e.toString()))throw Eb("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Jb(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof e)return t.toStaticHTML(e);if(Pe(e))return t.toStaticHTML(e.outerHTML)}return e}if(Y||ke(r),n.removed=[],"string"===typeof e&&(oe=!1),oe){if(e.nodeName){var f=ye(e.nodeName);if(!B[f]||j[f])throw Eb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)1===(s=(a=Me("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Q&&!K&&!J&&-1===e.indexOf("<"))return w&&ee?w.createHTML(e):e;if(!(a=Me(e)))return Q?null:ee?C:""}a&&X&&Re(a.firstChild);for(var m=Ne(oe?e:a);c=m.nextNode();)3===c.nodeType&&c===l||Fe(c)||(c.content instanceof i&&He(c.content),Ie(c),l=c);if(l=null,oe)return e;if(Q){if(Z)for(d=O.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return I.shadowroot&&(d=T.call(o,d,!0)),d}var p=J?a.outerHTML:a.innerHTML;return J&&B["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&Sb(Kb,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),K&&(p=wb(p,D," "),p=wb(p,M," ")),w&&ee?w.createHTML(p):p},n.setConfig=function(e){ke(e),Y=!0},n.clearConfig=function(){xe=null,Y=!1},n.isValidAttribute=function(e,t,n){xe||ke({});var o=ye(e),r=ye(t);return Be(o,r,n)},n.addHook=function(e,t){"function"===typeof t&&(R[e]=R[e]||[],bb(R[e],t))},n.removeHook=function(e){R[e]&&vb(R[e])},n.removeHooks=function(e){R[e]&&(R[e]=[])},n.removeAllHooks=function(){R={}},n}(),ty=function(e,t,n){e.addNodeFilter("font",(function(e){ne(e,(function(e){var o=t.parse(e.attr("style")),r=e.attr("color"),i=e.attr("face"),a=e.attr("size");r&&(o.color=r),i&&(o["font-family"]=i),a&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),function(e,t){ne(t,(function(t){e.attr(t,null)}))}(e,["color","face","size"])}))}))},ny=function(e,t,n){var o=qi();t.convert_fonts_to_spans&&ty(e,o,jt.explode(t.font_size_legacy_values)),function(e,t,n){e.addNodeFilter("strike",(function(e){var o="html4"!==t.type;ne(e,(function(e){if(o)e.name="s";else{var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))}(e,n,o)},oy=function(e,t,n){t.inline_styles&&ny(e,t,n)},ry=function(e){var t,n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}},iy=function(e,t){var n;try{n=atob(t)}catch(i){return K.none()}for(var o=new Uint8Array(n.length),r=0;r<o.length;r++)o[r]=n.charCodeAt(r);return K.some(new Blob([o],{type:e}))},ay=function(e){return 0===e.indexOf("blob:")?function(e){return new Promise((function(t,n){var o=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200===r.status?t(r.response):o()},r.onerror=o,r.send()}catch(i){o()}}))}(e):0===e.indexOf("data:")?(t=e,new Promise((function(e){var n=ry(t),o=n.type,r=n.data;iy(o,r).fold((function(){return e(new Blob([]))}),e)}))):null;var t},uy=function(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))},sy=0,cy=function(e){return(e||"blobid")+sy++},ly=function(e,t){var n={};return{findAll:function(o,r){r||(r=$);var i=ie(function(e){return e?we(e.getElementsByTagName("img")):[]}(o),(function(t){var n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===qt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&r(t):0===n.indexOf("data:")&&r(t))))})),a=te(i,(function(e){if(void 0!==n[e.src])return new Promise((function(t){n[e.src].then((function(n){if("string"===typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var o=new Promise((function(n,o){!function(e,t,n,o){var r,i;if(0!==t.src.indexOf("blob:")){var a=ry(t.src),u=a.data,s=a.type;r=u,(i=e.getByData(r,s))?n({image:t,blobInfo:i}):ay(t.src).then((function(o){i=e.create(cy(),o,r),e.add(i),n({image:t,blobInfo:i})}),(function(e){o(e)}))}else(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):ay(t.src).then((function(o){uy(o).then((function(a){r=ry(a).data,i=e.create(cy(),o,r),e.add(i),n({image:t,blobInfo:i})}))}),(function(e){o(e)}))}(t,e,n,o)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=o,o}));return Promise.all(a)}}},dy=function(e,t){var n=t.blob_cache,o=function(e){var t=e.attr("src");(function(e){return e.attr("src")===qt.transparentSrc||M(e.attr("data-mce-placeholder"))})(e)||function(e){return M(e.attr("data-mce-bogus"))}(e)||function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?K.some({type:t[1],data:decodeURIComponent(t[2])}):K.none()}(t).bind((function(e){var t=e.type,o=e.data;return K.from(n.getByData(o,t)).orThunk((function(){return iy(t,o).map((function(e){var t=n.create(cy(),e,o);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return ne(e,o)}))},fy=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,t,o){var r=jt.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),a=n.getWhitespaceElements();r.body=1;for(var u=0,s=e.length;u<s;u++){var c=e[u],l=c.parent;if(r[c.parent.name]&&c===l.lastChild){for(var d=c.prev;d;){var f=d.name;if("span"!==f||"bookmark"!==d.attr("data-mce-type")){"br"===f&&(c=null);break}d=d.prev}if(c&&(c.remove(),Mh(n,i,a,l))){var m=n.getElementRule(l.name);m&&(m.removeEmpty?l.remove():m.paddEmpty&&Rh(0,o,r,l))}}else{for(var p=c;l&&l.firstChild===p&&l.lastChild===p&&(p=l,!r[l.name]);)l=l.parent;if(p===l){var g=new xp("#text",3);g.value=kr,c.replace(g)}}}})),e.addAttributeFilter("href",(function(e){var n=e.length,o=function(e){var t=e?jt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(t)};if(!t.allow_unsafe_link_target)for(;n--;){var r=e[n];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",o(r.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,o,r,i=e.length;i--;)if("a"===(r=e[i]).name&&r.firstChild&&!r.attr("href")){o=r.parent,t=r.lastChild;do{n=t.prev,o.insert(t,r),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,o=e.length;o--;)if("ul"===(n=(t=e[o]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new xp("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t=n.getValidClasses(),o=e.length;o--;){for(var r=e[o],i=r.attr("class").split(" "),a="",u=0;u<i.length;u++){var s=i[u],c=!1,l=t["*"];l&&l[s]&&(c=!0),l=t[r.name],!c&&l&&l[s]&&(c=!0),c&&(a&&(a+=" "),a+=s)}a.length||(a=null),r.attr("class",a)}})),dy(e,t)},my=jt.each,py=jt.trim,gy="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),hy={ftp:21,http:80,https:443,mailto:25},vy=["img","video"],by=function(e,t,n){var o=function(e){try{return decodeURIComponent(e)}catch(t){return unescape(e)}}(t);return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?function(e,t){return M(e)?!e:!M(t)||!Z(vy,t)}(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))},yy=function(){function e(t,n){l(this,e),t=py(t),this.settings=n||{};var o=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(o&&o.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+r.toAbsPath(a,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+r.toAbsPath(a,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);my(gy,(function(e,t){var n=s[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n})),o&&(r.protocol||(r.protocol=o.protocol),r.userInfo||(r.userInfo=o.userInfo),r.port||"mce_host"!==r.host||(r.port=o.port),r.host&&"mce_host"!==r.host||(r.host=o.host),r.source=""),i&&(r.protocol="")}}return d(e,[{key:"setPath",value:function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()}},{key:"toRelative",value:function(t){var n;if("./"===t)return t;var o=new e(t,{base_uri:this});if("mce_host"!==o.host&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&""!==o.protocol)return o.getURI();var r=this.getURI(),i=o.getURI();return r===i||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===i?r:(n=this.toRelPath(this.path,o.path),o.query&&(n+="?"+o.query),o.anchor&&(n+="#"+o.anchor),n)}},{key:"toAbsolute",value:function(t,n){var o=new e(t,{base_uri:this});return o.getURI(n&&this.isSameOrigin(o))}},{key:"isSameOrigin",value:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=hy[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1}},{key:"toRelPath",value:function(e,t){var n,o,r=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,o=a.length;n<o;n++)if(n>=u.length||a[n]!==u[n]){r=n+1;break}if(a.length<u.length)for(n=0,o=u.length;n<o;n++)if(n>=a.length||a[n]!==u[n]){r=n+1;break}if(1===r)return t;for(n=0,o=a.length-(r-1);n<o;n++)i+="../";for(n=r-1,o=u.length;n<o;n++)i+=n!==r-1?"/"+u[n]:u[n];return i}},{key:"toAbsPath",value:function(e,t){var n,o,r=0,i=[],a=/\/$/.test(t)?"/":"",u=e.split("/"),s=t.split("/");for(my(u,(function(e){e&&i.push(e)})),u=i,n=s.length-1,i=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?r>0?r--:i.push(s[n]):r++);return 0!==(o=(n=u.length-r)<=0?pe(i).join("/"):u.slice(0,n).join("/")+"/"+pe(i).join("/")).indexOf("/")&&(o="/"+o),a&&o.lastIndexOf("/")!==o.length-1&&(o+=a),o}},{key:"getURI",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source}}],[{key:"parseDataUri",value:function(e){var t,n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}},{key:"isDomSafe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.allow_script_urls)return!0;var o=Ti.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!by(n,o,t)}},{key:"getDocumentBaseUrl",value:function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t}}]),e}(),xy=jt.makeMap,wy=jt.each,Cy=jt.explode,ky=jt.extend,Sy={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},Ey=jt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Oy="data-mce-type",_y=function(e,t){var n=c({},Sy);return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},Ty=function(e,t){var n=ey(),o=e.validate,r=0;return n.addHook("uponSanitizeElement",(function(n,i){var a,u;8===n.nodeType&&!e.allow_conditional_comments&&/^\[if/i.test(n.nodeValue)&&(n.nodeValue=" "+n.nodeValue);var s=i.tagName;if(1===n.nodeType&&"body"!==s){var c=kn.fromDom(n),l=sn(c,Oy),d=an(c,"data-mce-bogus");if(l||!S(d)){var f=t.getElementRule(s.toLowerCase());if(!o||f){if(i.allowedTags[s]=!0,o&&!l){if(ne(null!==(a=f.attributesForced)&&void 0!==a?a:[],(function(e){on(c,e.name,"{$uid}"===e.value?"mce_".concat(r++):e.value)})),ne(null!==(u=f.attributesDefault)&&void 0!==u?u:[],(function(e){sn(c,e.name)||on(c,e.name,"{$uid}"===e.value?"mce_".concat(r++):e.value)})),f.attributesRequired&&!ee(f.attributesRequired,(function(e){return sn(c,e)})))return void po(c);if(f.removeEmptyAttrs&&function(e){var t=e.dom.attributes;return void 0===t||null===t||0===t.length}(c))return void po(c);f.outputName&&f.outputName!==s.toLowerCase()&&Na(c,f.outputName)}}else po(c)}else"all"===d?mo(c):po(c)}})),n.addHook("uponSanitizeAttribute",(function(n,r){var i=n.tagName.toLowerCase(),a=r.attrName,u=r.attrValue;r.keepAttr=!o||t.isValid(i,a)||Qe(a,"data-")||Qe(a,"aria-"),a in Ey&&by(e,u,i)&&(r.keepAttr=!1),r.keepAttr?(r.allowedAttributes[a]=!0,a in t.getBoolAttrs()&&(r.attrValue=a),e.allow_svg_data_urls&&Qe(u,"data:image/svg+xml")&&(r.forceKeepAttr=!0)):!n.hasAttribute(Oy)||"id"!==a&&"class"!==a&&"style"!==a||(r.forceKeepAttr=!0)})),n},Ay=function e(t,n,o){for(var r=t.name,i=(r in o&&"title"!==r&&"textarea"!==r),a=n.childNodes,u=0,s=a.length;u<s;u++){var c=a[u],l=new xp(c.nodeName.toLowerCase(),c.nodeType);if(Do(c))for(var d=c.attributes,f=0,m=d.length;f<m;f++){var p=d[f];l.attr(p.name,p.value)}else qo(c)?(l.value=c.data,i&&(l.raw=!0)):(Vo(c)||Io(c)||Ho(c))&&(l.value=c.data);e(l,c,o),t.append(l)}},Ry=function(e,t,n){for(var o=[],r=function(n,r){ne(t,(function(e){return e(n)})),D(n.parent)&&n!==e?n=r:o.push(n),i=n},i=e,a=i;M(i);a=i,i=i.walk())r(i,a);for(var u=function(e){var t=o[e];ne(n,(function(e){return e(t)}))},s=o.length-1;s>=0;s--)u(s)},Dy=function(e,t,n,o){var r=n.validate,i=t.getNonEmptyElements(),a=t.getWhitespaceElements(),u=ky(xy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),s=/[ \t\r\n]+/g,c=/^[ \t\r\n]+/,l=/[ \t\r\n]+$/,d=function(e){for(e=e.parent;M(e);){if(e.name in a)return!0;e=e.parent}return!1},f=function(t,n){var r=n?t.prev:t.next;return!M(r)&&(t.parent.name in u&&(t.parent!==e||o.isRootContent))};return[function(e){if(3===e.type&&!d(e)){var t=e.value;t=t.replace(s," "),(function(e,t){return e&&(e.name in t||"br"===e.name)}(e.prev,u)||f(e,!0))&&(t=t.replace(c,"")),0===t.length?e.remove():e.value=t}},function(e){var n;if(1===e.type){var s=t.getElementRule(e.name);if(r&&s){var c=Mh(t,i,a,e);s.removeEmpty&&c?u[e.name]?e.remove():e.unwrap():s.paddEmpty&&(c||function(e){return Dh(e,"#text")&&e.firstChild.value===kr}(e))&&Rh(0,o,u,e)}}else if(3===e.type&&!d(e)){var m=e.value;(u[null===(n=e.next)||void 0===n?void 0:n.name]||f(e,!1))&&(m=m.replace(l,"")),0===m.length?e.remove():e.value=m}}]},My=function(e,t){var n,o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o},Ny=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi(),n={},o=[],r=c({validate:!0,root_name:"body"},e),a=new DOMParser,u=Ty(r,t),s=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html",i="xhtml"===o?"application/xhtml+xml":"text/html",s=ze(t.getSpecialElements(),n.toLowerCase()),c=s?"<".concat(n,">").concat(e,"</").concat(n,">"):e,l="xhtml"===o?'<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'.concat(c,"</body></html>"):"<body>".concat(c,"</body>"),d=a.parseFromString(l,i).body;return u.sanitize(d,_y(r,i)),u.removed=[],s?d.firstChild:d},l=function(e,t){wy(Cy(e),(function(e){var o=n[e];o||(n[e]=o=[]),o.push(t)}))},d=function(){var e=[];for(var t in n)ze(n,t)&&e.push({name:t,callbacks:n[t]});return e},f=function(e,t){wy(Cy(e),(function(e){var n;for(n=0;n<o.length;n++)if(o[n].name===e)return void o[n].callbacks.push(t);o.push({name:e,callbacks:[t]})}))},m=function(){return[].concat(o)},p=function(e,n){var o=e.parent;o&&t.children[e.name]&&!t.isValidChild(o.name,e.name)&&n.push(e)},g=function(e,n){var o=ky(xy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,a=/[ \t\r\n]+$/,u=e.firstChild,s=null,c=function(e){e&&((u=e.firstChild)&&3===u.type&&(u.value=u.value.replace(i,"")),(u=e.lastChild)&&3===u.type&&(u.value=u.value.replace(a,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;u;){var l=u.next;3===u.type||1===u.type&&"p"!==u.name&&!o[u.name]&&!u.attr(Oy)?(s||((s=new xp(n,1)).attr(r.forced_root_block_attrs),e.insert(s,u)),s.append(u)):(c(s),s=null),u=l}c(s)}},h=function(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.validate,c=null!==(n=a.context)&&void 0!==n?n:r.root_name,l=s(e,c,a.format),f=new xp(c,11);Ay(f,l,t.getSpecialElements());var m=Dy(f,t,r,a),h=i(m,2),v=h[0],b=h[1],y=[],x=u?function(e){return p(e,y)}:L,w=d(),C={nodes:{},attributes:{}},k=function(e){return Oh(w,o,e,C)};if(Ry(f,[v,k],[b,x]),y.reverse(),u&&y.length>0)if(a.context){var S=re(y,(function(e){return e.parent===f})),E=S.pass,O=S.fail;zh(O,t,k),a.invalid=E.length>0}else zh(y,t,k);var _=My(r,a);return _&&("body"===f.name||a.isRootContent)&&g(f,_),a.invalid||Th(C,a),f},v={schema:t,addAttributeFilter:f,getAttributeFilters:m,addNodeFilter:l,getNodeFilters:d,parse:h};return fy(v,r),oy(v,r,t),v},zy=function(e,t){var n=function(e){return Kh(e)?Dp({validate:!1}).serialize(e):e}(e),o=t(n);if(o.isDefaultPrevented())return o;if(Kh(e)){if(o.content!==n){var r=Ny({validate:!1,forced_root_block:!1}).parse(o.content,{context:e.name});return c(c({},o),{},{content:r})}return c(c({},o),{},{content:e})}return o},Py=function(e,t){if(t.no_events)return Bu.value(t);var n=function(e,t){return e.dispatch("BeforeGetContent",t)}(e,t);return n.isDefaultPrevented()?Bu.error(Sf(e,c({content:""},n)).content):Bu.value(n)},Ly=function(e,t,n){return n.no_events?t:zy(t,(function(t){return Sf(e,c(c({},n),{},{content:t}))})).content},Fy=function(e,t){if(t.no_events)return Bu.value(t);var n=zy(t.content,(function(n){return function(e,t){return e.dispatch("BeforeSetContent",t)}(e,c(c({},t),{},{content:n}))}));return n.isDefaultPrevented()?(kf(e,n),Bu.error(void 0)):Bu.value(n)},By=function(e,t,n){n.no_events||kf(e,c(c({},n),{},{content:t}))},qy=function(e,t,n){return{element:e,width:t,rows:n}},Iy=function(e,t){return{element:e,cells:t}},Hy=function(e,t){return{x:e,y:t}},Vy=function(e,t){var n=parseInt(an(e,t),10);return isNaN(n)?1:n},jy=function(e,t,n){var o=e.rows;return!!(o[n]?o[n].cells:[])[t]},Uy=function(e){return ue(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)},Gy=function(e,t){for(var n=e.rows,o=0;o<n.length;o++)for(var r=n[o].cells,i=0;i<r.length;i++)if(_n(r[i],t))return K.some(Hy(i,o));return K.none()},Wy=function(e,t,n,o,r){for(var i=[],a=e.rows,u=n;u<=r;u++){var s=a[u].cells,c=t<o?s.slice(t,o+1):s.slice(o,t+1);i.push(Iy(a[u].element,c))}return i},$y=function(e){var t=qy(Da(e),0,[]);return ne(ba(e,"tr"),(function(e,n){ne(ba(e,"td,th"),(function(o,r){!function(e,t,n,o,r){for(var i=Vy(r,"rowspan"),a=Vy(r,"colspan"),u=e.rows,s=n;s<n+i;s++){u[s]||(u[s]=Iy(Ma(o),[]));for(var c=t;c<t+a;c++)u[s].cells[c]=s===n&&c===t?r:Da(r)}}(t,function(e,t,n){for(;jy(e,t,n);)t++;return t}(t,r,n),n,e,o)}))})),qy(t.element,Uy(t.rows),t.rows)},Ky=function(e){return function(e,t){var n=Da(e.element),o=kn.fromTag("tbody");return lo(o,t),co(n,o),n}(e,function(e){return te(e.rows,(function(e){var t=te(e.cells,(function(e){var t=Ma(e);return cn(t,"colspan"),cn(t,"rowspan"),t})),n=Da(e.element);return lo(n,t),n}))}(e))},Jy=function(e,t,n){return Gy(e,t).bind((function(t){return Gy(e,n).map((function(n){return function(e,t,n){var o=t.x,r=t.y,i=n.x,a=n.y,u=r<a?Wy(e,o,r,i,a):Wy(e,o,a,i,r);return qy(e.element,Uy(u),u)}(e,t,n)}))}))},Yy=function(e,t){return ce(e,(function(e){return"li"===Jt(e)&&rf(e,t)})).fold(q([]),(function(t){return function(e){return ce(e,(function(e){return"ul"===Jt(e)||"ol"===Jt(e)}))}(e).map((function(e){var t=kn.fromTag(Jt(e)),n=Re(ro(e),(function(e,t){return Qe(t,"list-style")}));return eo(t,n),[kn.fromTag("li"),t]})).getOr([])}))},Xy=function(e,t){var n=kn.fromDom(t.commonAncestorContainer),o=og(n,e),r=ie(o,(function(e){return pr(e)||fr(e)})),i=Yy(o,t),a=r.concat(i.length?i:function(e){return br(e)?Mn(e).filter(vr).fold(q([]),(function(t){return[e,t]})):vr(e)?[e]:[]}(n));return te(a,Da)},Qy=function(){return Uf([])},Zy=function(e,t){return function(e,t){var n=ue(t,(function(e,t){return co(t,e),t}),e);return t.length>0?Uf([n]):n}(kn.fromDom(t.cloneContents()),Xy(e,t))},ex=function(e,t){return function(e,t){return ir(t,"table",V(_n,e))}(e,t[0]).bind((function(e){var n=t[0],o=t[t.length-1],r=$y(e);return Jy(r,n,o).map((function(e){return Uf([Ky(e)])}))})).getOrThunk(Qy)},tx=function(e,t){var n=Zd(t,e);return n.length>0?ex(e,n):function(e,t){return t.length>0&&t[0].collapsed?Qy():Zy(e,t[0])}(e,t)},nx=function(e,t){return t>=0&&t<e.length&&cd(e.charAt(t))},ox=function(e){return _r(e.innerText)},rx=function(e,t){if("text"===t.format)return function(e){return K.from(e.selection.getRng()).map((function(t){var n=K.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),r=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}(n),i=e.dom.add(o,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),a=ox(i),u=_r(i.textContent);if(e.dom.remove(i),nx(u,0)||nx(u,u.length-1)){var s=n.getOr(o),c=ox(s),l=c.indexOf(a);return-1===l?a:(nx(c,l-1)?" ":"")+a+(nx(c,l+a.length)?" ":"")}return a})).getOr("")}(e);var n=function(e,t){var n=e.selection.getRng(),o=e.dom.create("body"),r=e.selection.getSel(),i=up(e,Xd(r)),a=t.contextual?tx(kn.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&o.appendChild(a),e.selection.serializer.serialize(o,t)}(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n},ix=function(e,t){return c(c({},e),{},{format:t,get:!0,selection:!0,getInner:!0})},ax=function(e){return Do(e)?e.outerHTML:qo(e)?Ti.encodeRaw(e.data,!1):Vo(e)?"\x3c!--"+e.data+"--\x3e":""},ux=function(e,t,n){var o=function(e){var t,n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(o,r)}else e.appendChild(o)},sx=function(e,t){return function(e,t){var n=0;ne(e,(function(e){0===e[0]?n++:1===e[0]?(ux(t,e[1],n),n++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,n)}))}(function(e,t){var n=e.length+t.length+2,o=new Array(n),r=new Array(n),i=function(n,o,r,i){for(var a=n;a-o<i&&a<r&&e[a]===t[a-o];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,o)},a=function(n,a,u,s){var c=a-n,l=s-u;if(0===c||0===l)return null;var d,f,m,p,g,h=c-l,v=l+c,b=(v%2===0?v:v+1)/2;for(o[1+b]=n,r[1+b]=a+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){for(m=f+b,f===-d||f!==d&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,g=(p=o[m])-n+u-f;p<a&&g<s&&e[p]===t[g];)o[m]=++p,++g;if(h%2!==0&&h-d<=f&&f<=h+d&&r[m-h]<=o[m])return i(r[m-h],f+n-u,a,s)}for(f=h-d;f<=h+d;f+=2){for(m=f+b-h,f===h-d||f!==h+d&&r[m+1]<=r[m-1]?r[m]=r[m+1]-1:r[m]=r[m-1],g=(p=r[m]-1)-n+u-f;p>=n&&g>=u&&e[p]===t[g];)r[m]=p--,g--;if(h%2===0&&-d<=f&&f<=d&&r[m]<=o[m+h])return i(r[m],f+n-u,a,s)}}},u=[];return function n(o,r,i,u,s){var c=a(o,r,i,u);if(null===c||c.start===r&&c.diag===r-u||c.end===o&&c.diag===o-i)for(var l=o,d=i;l<r||d<u;)l<r&&d<u&&e[l]===t[d]?(s.push([0,e[l]]),++l,++d):r-o>u-i?(s.push([2,e[l]]),++l):(s.push([1,t[d]]),++d);else{n(o,c.start,i,c.start-c.diag,s);for(var f=c.start;f<c.end;++f)s.push([0,e[f]]);n(c.end,r,c.end-c.diag,u,s)}}(0,e.length,0,t.length,u),u}(te(we(t.childNodes),ax),e),t),t},cx=Ge((function(){return document.implementation.createHTMLDocument("undo")})),lx=function(e){var t,n=(t=e.getBody(),ie(te(we(t.childNodes),ax),(function(e){return e.length>0}))),o=fe(n,(function(t){var n=Sp(e.serializer,t);return n.length>0?[n]:[]})),r=o.join("");return function(e){return-1!==e.indexOf("</iframe>")}(r)?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(o):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(r)},dx=function(e,t,n){var o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?sx(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!M(o)||!Xl(o)||!o.isFakeCaret}),e.selection.moveToBookmark(o)},fx=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},mx=function(e){var t=kn.fromTag("body",cx());return ho(t,fx(e)),ne(ba(t,"*[data-mce-bogus]"),po),go(t)},px=function(e,t){return!(!e||!t)&&(!!function(e,t){return fx(e)===fx(t)}(e,t)||function(e,t){return mx(e)===mx(t)}(e,t))},gx=function(e){return 0===e.get()},hx=function(e,t,n){gx(n)&&(e.typing=t)},vx=function(e,t){e.typing&&(hx(e,!1,t),e.add())},bx=function(e){return{init:{bindEvents:L},undoManager:{beforeChange:function(t,n){return function(e,t,n){gx(t)&&n.set(Pu(e.selection))}(e,t,n)},add:function(t,n,o,r,i,a){return function(e,t,n,o,r,i,a){var u=lx(e);if(i=i||{},i=jt.extend(i,u),!1===gx(o)||e.removed)return null;var s=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&px(s,i))return null;t.data[n.get()]&&r.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var c=Zs(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=Pu(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var d={level:i,lastLevel:s,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),i}(e,t,n,o,r,i,a)},undo:function(t,n,o){return function(e,t,n,o){var r;return t.typing&&(t.add(),t.typing=!1,hx(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],dx(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r}(e,t,n,o)},redo:function(t,n){return function(e,t,n){var o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],dx(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o}(e,t,n)},clear:function(t,n){return function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")}(e,t,n)},reset:function(e){return function(e){e.clear(),e.add()}(e)},hasUndo:function(t,n){return function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!px(lx(e),t.data[0])}(e,t,n)},hasRedo:function(e,t){return function(e,t){return t.get()<e.data.length-1&&!e.typing}(e,t)},transact:function(e,t,n){return function(e,t,n){return vx(e,t),e.beforeChange(),e.ignore(n),e.add()}(e,t,n)},ignore:function(e,t){return function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(e,t)},extra:function(t,n,o,r){return function(e,t,n,o,r){if(t.transact(o)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];dx(e,a,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=i)}}(e,t,n,o,r)}},formatter:{match:function(t,n,o,r){return av(e,t,n,o,r)},matchAll:function(t,n){return function(e,t,n){var o=[],r={},i=e.selection.getStart();return e.dom.getParent(i,(function(i){for(var a=0;a<t.length;a++){var u=t[a];!r[u]&&iv(e,i,u,n)&&(r[u]=!0,o.push(u))}}),e.dom.getRoot()),o}(e,t,n)},matchNode:function(t,n,o,r){return iv(e,t,n,o,r)},canApply:function(t){return function(e,t){var n=e.formatter.get(t),o=e.dom;if(n)for(var r=e.selection.getStart(),i=Ad(o,r),a=n.length-1;a>=0;a--){var u=n[a];if(!Md(u))return!0;for(var s=i.length-1;s>=0;s--)if(o.is(i[s],u.selector))return!0}return!1}(e,t)},closest:function(t){return uv(e,t)},apply:function(t,n,o){return Xv(e,t,n,o)},remove:function(t,n,o,r){return Wv(e,t,n,o,r)},toggle:function(t,n,o){return function(e,t,n,o){var r=e.formatter.get(t);!av(e,t,n,o)||"toggle"in r[0]&&!r[0].toggle?Xv(e,t,n,o):Wv(e,t,n,o)}(e,t,n,o)},formatChanged:function(t,n,o,r,i){return ob(e,t,n,o,r,i)}},editor:{getContent:function(t){return function(e,t){return K.from(e.getBody()).fold(q("tree"===t.format?new xp("body",11):""),(function(n){return Op(e,t,n)}))}(e,t)},setContent:function(t,n){return Yh(e,t,n)},insertContent:function(t,n){return $h(e,t,n)},addVisual:function(t){return function(e,t){var n=e.dom,o=M(t)?t:e.getBody();R(e.hasVisual)&&(e.hasVisual=ac(e)),ne(n.select("table,a",o),(function(t){switch(t.nodeName){case"TABLE":var o=uc(e),r=n.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){var i=n.getAttrib(t,"name")||t.id,a=sc(e);i&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})}(e,t)}},selection:{getContent:function(t,n){return function(e,t){var n=ix(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t);return Py(e,n).fold(I,(function(t){var n=rx(e,t);return Ly(e,n,t)}))}(e,t,n)}},autocompleter:{addDecoration:function(t){return mp(e,t)},removeDecoration:function(){return function(e,t){return gp(t).each((function(t){var n=e.selection.getBookmark();po(t),e.selection.moveToBookmark(n)}))}(e,kn.fromDom(e.getBody()))}},raw:{getModel:function(){return K.none()}}}},yx=function(e){return ze(e.plugins,"rtc")},xx=function(e){var t=e;return function(e){return Ne(e.plugins,"rtc").bind((function(e){return K.from(e.setup)}))}(e).fold((function(){return t.rtcInstance=bx(e),K.none()}),(function(e){return t.rtcInstance=function(){var e=q(null),t=q("");return{init:{bindEvents:L},undoManager:{beforeChange:L,add:e,undo:e,redo:e,clear:L,reset:L,hasUndo:W,hasRedo:W,transact:e,ignore:L,extra:L},formatter:{match:W,matchAll:q([]),matchNode:q(void 0),canApply:W,closest:t,apply:L,remove:L,toggle:L,formatChanged:q({unbind:L})},editor:{getContent:t,setContent:q({content:"",html:""}),insertContent:q(""),addVisual:L},selection:{getContent:t},autocompleter:{addDecoration:L,removeDecoration:L},raw:{getModel:q(K.none())}}}(),K.some((function(){return e().then((function(e){return t.rtcInstance=function(e){var t=function(e){return E(e)?e:{}},n=e.init,o=e.undoManager,r=e.formatter,i=e.editor,a=e.selection,u=e.autocompleter,s=e.raw;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:function(e,t,n){return o.transact(n)},ignore:function(e,t){return o.ignore(t)},extra:function(e,t,n,r){return o.extra(n,r)}},formatter:{match:function(e,n,o,i){return r.match(e,t(n),i)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(e){return r.canApply(e)},closest:function(e){return r.closest(e)},apply:function(e,n,o){return r.apply(e,t(n))},remove:function(e,n,o,i){return r.remove(e,t(n))},toggle:function(e,n,o){return r.toggle(e,t(n))},formatChanged:function(e,t,n,o,i){return r.formatChanged(t,n,o,i)}},editor:{getContent:function(e){return i.getContent(e)},setContent:function(e,t){return{content:i.setContent(e,t),html:""}},insertContent:function(e,t){return i.insertContent(e),""},addVisual:i.addVisual},selection:{getContent:function(e,t){return a.getContent(t)}},autocompleter:{addDecoration:u.addDecoration,removeDecoration:u.removeDecoration},raw:{getModel:function(){return K.some(s.getRawModel())}}}}(e),e.rtc.isRemote}))}))}))},wx=function(e){return e.rtcInstance?e.rtcInstance:bx(e)},Cx=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},kx=function(e,t){return wx(e).editor.getContent(t)},Sx=function(e,t,n){return wx(e).editor.setContent(t,n)},Ex=function(e,t,n){return Cx(e).selection.getContent(t,n)},Ox=function(e){return Cx(e).init.bindEvents()},_x=function(e){return 0===e.dom.length?(mo(e),K.none()):K.some(e)},Tx=function(e,t,n,o){e.bind((function(e){return(o?Ng:Mg)(e.dom,o?e.dom.length:0),t.filter(Zt).map((function(t){return function(e,t,n,o){var r=e.dom,i=t.dom,a=o?r.length:i.length;o?(zg(r,i,!1,!o),n.setStart(i,a)):(zg(i,r,!1,!o),n.setEnd(i,a))}(e,t,n,o)}))})).orThunk((function(){var e=function(e,t){return e.filter((function(e){return bf.isBookmarkNode(e.dom)})).bind(t?Pn:zn)}(t,o).or(t).filter(Zt);return e.map((function(e){return function(e,t){Mn(e).each((function(n){var o=e.dom;t&&Sg(n,fu(o,0))?Mg(o,0):!t&&Eg(n,fu(o,o.length))&&Ng(o,o.length)}))}(e,o)}))}))},Ax=function(e,t){var n=K.from(t.firstChild).map(kn.fromDom),o=K.from(t.lastChild).map(kn.fromDom);e.deleteContents(),e.insertNode(t);var r=n.bind(zn).filter(Zt).bind(_x),i=o.bind(Pn).filter(Zt).bind(_x);Tx(r,n,e,!0),Tx(i,o,e,!1),e.collapse(!1)},Rx=function(e,t){return c(c({format:"html"},e),{},{set:!0,selection:!0,content:t})},Dx=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,c(c({forced_root_block:!1},r),t));return Dp({validate:!1},e.schema).serialize(i)}return t.content},Mx=function(e,t,n){if(e&&ze(e,t)){var o=ie(e[t],(function(e){return e!==n}));0===o.length?delete e[t]:e[t]=o}},Nx=function(e){return!(!e||!e.ownerDocument)&&Tn(kn.fromDom(e.ownerDocument),kn.fromDom(e))},zx=function(e,t,n,o){var r,i,a=function(e,t){var n,o,r=function(t,n){return ce(n,(function(n){return e.is(n,t)}))},i=function(t){return e.getParents(t,null,e.getRoot())};return{selectorChangedWithUnbind:function(e,a){return n||(n={},o={},t.on("NodeChange",(function(e){var t=e.element,a=i(t),u={};jt.each(n,(function(e,t){r(t,a).each((function(n){o[t]||(ne(e,(function(e){e(!0,{node:n,selector:t,parents:a})})),o[t]=e),u[t]=e}))})),jt.each(o,(function(e,n){u[n]||(delete o[n],jt.each(e,(function(e){e(!1,{node:t,selector:n,parents:a})})))}))}))),n[e]||(n[e]=[]),n[e].push(a),r(e,i(t.selection.getStart())).each((function(){o[e]=n[e]})),{unbind:function(){Mx(n,e,a),Mx(o,e,a)}}}}}(e,o),u=a.selectorChangedWithUnbind,s=function(e,t){return function(e,t){var n=Rx(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t);Fy(e,n).each((function(t){var n=Dx(e,t),o=e.selection.getRng();Ax(o,o.createContextualFragment(n)),e.selection.setRng(o),Am(e,o),By(e,n,t)}))}(o,e,t)},c=function(e){var t=d();t.collapse(!!e),f(t)},l=function(){return t.getSelection?t.getSelection():t.document.selection},d=function(){var n,a,u,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(o){return-1}},c=t.document;if(void 0!==o.bookmark&&!1===Zm(o)){var d=Hm(o);if(d.isSome())return d.map((function(e){return up(o,[e])[0]})).getOr(c.createRange())}try{(n=l())&&!Ro(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=up(o,[a])[0])}catch(f){}return a||(a=c.createRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=e.getRoot(),a.setStart(u,0),a.setEnd(u,0)),r&&i&&(0===s(a.START_TO_START,a,r)&&0===s(a.END_TO_END,a,r)?a=i:(r=null,i=null)),a},f=function(e,t){var n;if(function(e){return!!e&&Nx(e.startContainer)&&Nx(e.endContainer)}(e)){var a=l();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,a){i=e;try{a.removeAllRanges(),a.addRange(e)}catch(u){}!1===t&&a.extend&&(a.collapse(e.endContainer,e.endOffset),a.extend(e.startContainer,e.startOffset)),r=a.rangeCount>0?a.getRangeAt(0):null}!e.collapsed&&e.startContainer===e.endContainer&&a.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(a.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),a.anchorNode===e.startContainer&&a.focusNode===e.endContainer||a.setBaseAndExtent(n,0,n,1)),o.dispatch("AfterSetSelectionRange",{range:e,forward:t})}},m=function(){var t=l(),n=null===t||void 0===t?void 0:t.anchorNode,o=null===t||void 0===t?void 0:t.focusNode;if(!t||!n||!o||Ro(n)||Ro(o))return!0;var r=e.createRng();r.setStart(n,t.anchorOffset),r.collapse(!0);var i=e.createRng();return i.setStart(o,t.focusOffset),i.collapse(!0),r.compareBoundaryPoints(r.START_TO_START,i)<=0},p={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:o,collapse:c,setCursorLocation:function(t,n){var r=e.createRng();M(t)&&M(n)?(r.setStart(t,n),r.setEnd(t,n),f(r),c(!1)):(af(e,r,o.getBody(),!0),f(r))},getContent:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format?t.format:"html";return Ex(e,n,t)}(o,e)},setContent:s,getBookmark:function(e,t){return g.getBookmark(e,t)},moveToBookmark:function(e){return g.moveToBookmark(e)},select:function(t,n){return function(e,t,n){return K.from(t).map((function(t){var o=e.nodeIndex(t),r=e.createRng();return r.setStart(t.parentNode,o),r.setEnd(t.parentNode,o+1),n&&(af(e,r,t,!0),af(e,r,t,!1)),r}))}(e,t,n).each(f),t},isCollapsed:function(){var e=d(),t=l();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:m,setNode:function(t){return s(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){var n,o,r;if(!t)return e;o=t.startContainer,r=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(o===r&&a-i<2&&o.hasChildNodes()&&(n=o.childNodes[i]),3===o.nodeType&&3===r.nodeType&&(o=o.length===i?ap(o.nextSibling,!0):o.parentNode,r=0===a?ap(r.previousSibling,!1):r.parentNode,o&&o===r))?o:n&&3===n.nodeType?n.parentNode:n}(o.getBody(),d())},getSel:l,setRng:f,getRng:d,getStart:function(e){return rp(o.getBody(),d(),e)},getEnd:function(e){return ip(o.getBody(),d(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,o){var r,i=[],a=e.getRoot();if(n=e.getParent(n||rp(a,t,t.collapsed),e.isBlock),o=e.getParent(o||ip(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&o&&n!==o){r=n;for(var u=new lr(n,a);(r=u.next())&&r!==o;)e.isBlock(r)&&i.push(r)}return o&&n!==o&&o!==a&&i.push(o),i}(e,d(),t,n)},normalize:function(){var t=d(),n=l();if(!(Xd(n).length>1)&&uf(o)){var r=om(e,t);return r.each((function(e){f(e,m())})),r.getOr(t)}return t},selectorChanged:function(e,t){return u(e,t),p},selectorChangedWithUnbind:u,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){M(e)?function(e,t,n){(e.inline?Om:Tm)(e,t,n)}(o,e,t):Am(o,d(),t)},placeCaretAt:function(e,t){return f($f(e,t,o.getDoc()))},getBoundingClientRect:function(){var e=d();return e.collapsed?fu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=r=i=null,h.destroy()}},g=bf(p),h=_f(p,o);return p.bookmarkManager=g,p.controlSelection=h,p},Px=function(e,t,n){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(e,n)?function(e,t,n){var o,r=e.dom,i=t.cloneNode(!0),a=document.implementation;if(a.createHTMLDocument){var u=a.createHTMLDocument("");jt.each("BODY"===i.nodeName?i.childNodes:[i],(function(e){u.body.appendChild(u.importNode(e,!0))})),i="BODY"!==i.nodeName?u.body.firstChild:u.body,o=r.doc,r.doc=u}return function(e,t){e.dispatch("PreProcess",t)}(e,c(c({},n),{},{node:i})),o&&(r.doc=o),i}(e,t,n):t},Lx=function(e,t,n){-1===jt.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},Fx=function(e,t,n){var o=_r(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||wr(kn.fromDom(t))?o:jt.trim(o)},Bx=function(e,t,n){var o=n.selection?c({forced_root_block:!1},n):n,r=e.parse(t,o);return function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var o=n.prev;t(o)&&(n.remove(),o.remove())}}(r),r},qx=function(e,t,n,o,r){var i=function(e,t,n){return Dp(e,t).serialize(n)}(t,n,o);return function(e,t,n){if(!t.no_events&&e){var o=function(e,t){return e.dispatch("PostProcess",t)}(e,c(c({},t),{},{content:n}));return o.content}return n}(e,r,i)},Ix=function(e,t){var n=["data-mce-selected"],o=t&&t.dom?t.dom:ia.DOM,r=t&&t.schema?t.schema:Bi(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i=Ny(e,r);!function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n=e.length;n--;){var o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",(function(e,o){for(var r="data-mce-"+o,i=t.url_converter,a=t.url_converter_scope,u=e.length;u--;){var s=e[u],c=s.attr(r);void 0!==c?(s.attr(o,c.length>0?c:null),s.attr(r,null)):(c=s.attr(o),"style"===o?c=n.serializeStyle(n.parseStyle(c),s.name):i&&(c=i.call(a,c,o,s.name)),s.attr(o,c.length>0?c:null))}})),e.addAttributeFilter("class",(function(e){for(var t=e.length;t--;){var n=e[t],o=n.attr("class");o&&(o=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var o=e.length;o--;){var r=e[o];if("bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=K.from(r.firstChild).exists((function(e){return!Or(e.value)}));i?r.unwrap():r.remove()}}})),e.addNodeFilter("noscript",(function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=Ti.decode(n.value))}})),e.addNodeFilter("script,style",(function(e,n){for(var o=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},r=e.length;r--;){var i=e[r],a=i.firstChild?i.firstChild.value:"";if("script"===n){var u=i.attr("type");u&&i.attr("type","mce-no/type"===u?null:u.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="// <![CDATA[\n"+o(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="\x3c!--\n"+o(a)+"\n--\x3e")}})),e.addNodeFilter("#comment",(function(e){for(var o=e.length;o--;){var r=e[o];t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n=e.length;n--;){var o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(function(t){ne(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}(i,e,o);return{schema:r,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c({format:"html"},a),s=Px(t,n,u),l=Fx(o,s,u),d=Bx(i,l,u);return"tree"===u.format?d:qx(t,e,r,d,u)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:V(Lx,i,n),getTempAttrs:q(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},Hx=function(e,t){var n=Ix(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},Vx="html",jx=function(e,t){return c(c({},e),{},{format:t,get:!0,getInner:!0})},Ux=function(e,t){return c(c({format:"html"},e),{},{set:!0,content:t})},Gx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Ux(n,t);return Fy(e,o).map((function(t){var n=Sx(e,t.content,t);return By(e,n.html,t),n.content})).getOr(t)},Wx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),$x="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Kx=function(e){var t=ie(Wx,(function(t){return ze(e,t)})),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),ve(t)},Jx=function(e){var t=jt.makeMap(e.plugins," "),n=ie($x,(function(e){return ze(t,e)}));return ve(n)},Yx=function(e,t){!function(e,t){var n=Kx(e),o=Jx(t),r=o.length>0,i=n.length>0,a="mobile"===t.theme;if(r||i||a){var u="\n- ",s=a?"\n\nThemes:".concat(u,"mobile"):"",c=r?"\n\nPlugins:".concat(u).concat(o.join(u)):"",l=i?"\n\nOptions:".concat(u).concat(n.join(u)):"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+s+c+l)}}(e,t)},Xx=ia.DOM,Qx=function(e){return K.from(e).each((function(e){return e.destroy()}))},Zx=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&Xx.remove(r.nextSibling),function(e){e.dispatch("remove")}(e),e.editorManager.remove(e),!e.inline&&o&&function(e){Xx.setStyle(e.id,"display",e.orgDisplay)}(e),function(e){e.dispatch("detach")}(e),Xx.remove(e.getContainer()),Qx(t),Qx(n),e.destroy()}},ew=function(e,t){var n=e.selection,o=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Qx(n),Qx(o)),function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Xx.unbind(t,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},tw=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return ze(e,t)}}}(),nw=ma.ModelManager,ow=function(e,t){return t.dom[e]},rw=function(e,t){return parseInt(to(t,e),10)},iw=V(ow,"clientWidth"),aw=V(ow,"clientHeight"),uw=V(rw,"margin-top"),sw=V(rw,"margin-left"),cw=function(e,t,n){var o,r=kn.fromDom(e.getBody()),i=e.inline?r:(o=r,kn.fromDom(Rn(o).dom.documentElement)),a=function(e,t,n,o){var r=function(e){return e.dom.getBoundingClientRect()}(t);return{x:n-(e?r.left+t.dom.clientLeft+sw(t):0),y:o-(e?r.top+t.dom.clientTop+uw(t):0)}}(e.inline,i,t,n);return function(e,t,n){var o=iw(e),r=aw(e);return t>=0&&n>=0&&t<=o&&n<=r}(i,a.x,a.y)},lw=function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,K.from(t).map(kn.fromDom)).map(Xn).getOr(!1)},dw=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}}()},o=function(){return K.from(t[0])},r=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout},i=function(){ne(t,(function(e){e.reposition()}))},a=function(e){t.push(e)},u=function(e){le(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},s=function(s){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.removed&&lw(e))return l&&e.dispatch("BeforeOpenNotification",{notification:s}),ce(t,(function(e){return r(n().getArgs(e),s)})).getOrThunk((function(){e.editorManager.setActive(e);var t=n().open(s,(function(){u(t),i(),o().fold((function(){return e.focus()}),(function(e){return Rm(kn.fromDom(e.getEl()))}))}));return a(t),i(),e.dispatch("OpenNotification",{notification:c({},t)}),t}))},l=q(t);return function(e){e.on("SkinLoaded",(function(){var t=Bs(e);t&&s({text:t,type:"warning",timeout:0},!1),i()})),e.on("show ResizeEditor ResizeWindow NodeChange",(function(){requestAnimationFrame(i)})),e.on("remove",(function(){ne(t.slice(),(function(e){n().close(e)}))}))}(e),{open:s,close:function(){o().each((function(e){n().close(e),u(e),i()}))},getNotifications:l}},fw=ma.PluginManager,mw=ma.ThemeManager,pw=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}()},o=function(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t?t.apply(e,o):void 0}},r=function(n){t.push(n),function(t){e.dispatch("OpenWindow",{dialog:t})}(n)},i=function(n){!function(t){e.dispatch("CloseWindow",{dialog:t})}(n),0===(t=ie(t,(function(e){return e!==n}))).length&&e.focus()},a=function(t){e.editorManager.setActive(e),Im(e),e.ui.show();var n=t();return r(n),n};return e.on("remove",(function(){ne(t,(function(e){n().close(e)}))})),{open:function(e,t){return a((function(){return n().open(e,t,i)}))},openUrl:function(e){return a((function(){return n().openUrl(e,i)}))},alert:function(e,t,r){var i=n();i.alert(e,o(r||i,t))},confirm:function(e,t,r){var i=n();i.confirm(e,o(r||i,t))},close:function(){K.from(t[t.length-1]).each((function(e){n().close(e),i(e)}))}}},gw=function(e,t){e.notificationManager.open({type:"error",text:t})},hw=function(e,t){e._skinLoaded?gw(e,t):e.on("SkinLoaded",(function(){gw(e,t)}))},vw=function(e,t,n){xf(e,t,{message:n}),console.error(n)},bw=function(e,t,n){return n?"Failed to load ".concat(e,": ").concat(n," from url ").concat(t):"Failed to load ".concat(e," url: ").concat(t)},yw=function(e){var t=window.console;if(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t.error?t.error.apply(t,[e].concat(o)):t.log.apply(t,[e].concat(o))}},xw=function(e,t){var n=e.editorManager.baseURL+"/skins/content",o=e.editorManager.suffix,r="content".concat(o,".css"),i=!0===e.inline;return te(t,(function(t){return function(e){return/^[a-z0-9\-]+$/i.test(e)}(t)&&!i?"".concat(n,"/").concat(t,"/").concat(r):e.documentBaseURI.toAbsolute(t)}))},ww=function(e){e.contentCSS=e.contentCSS.concat(function(e){return xw(e,As(e))}(e),function(e){return xw(e,Ds(e))}(e))},Cw=$,kw=function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,o){e[n]=t(2,o)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}},Sw=0,Ew=function(e){return e+Sw+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()}()},Ow=function(e,t){var n={},o=function(e,n){return new Promise((function(o,r){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){n(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var e,n,a=JSON.parse(i.responseText);if(a&&S(a.location))o((e=t.basePath,n=a.location,e?e.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n));else r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)}))},r=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},a=function(e,t){jt.each(n[e],(function(e){e(t)})),delete n[e]},u=function(t,n,o){return e.markPending(t.blobUri()),new Promise((function(u){var s;try{var c=function(){s&&(s.close(),L)};n(t,(function(e){e<0||e>100||K.from(s).orThunk((function(){return K.from(o).map(U)})).each((function(t){s=t,t.progressBar.value(e)}))})).then((function(n){c(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),r(t,n)),u(r(t,n))}),(function(n){!function(n){c(),e.removeFailed(t.blobUri()),a(t.blobUri(),i(t,n)),u(i(t,n))}(S(n)?{message:n}:n)}))}catch(l){u(i(t,l))}}))},s=function(o,r){return o=jt.grep(o,(function(t){return!e.isUploaded(t.blobUri())})),Promise.all(jt.map(o,(function(o){return e.isPending(o.blobUri())?function(e){var t=e.blobUri();return new Promise((function(e){n[t]=n[t]||[],n[t].push(e)}))}(o):u(o,t.handler,r)})))};return!1===N(t.handler)&&(t.handler=o),{upload:function(e,n){return t.url||t.handler!==o?s(e,n):new Promise((function(e){e([])}))}}},_w=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Tw=function(e,t){return Ow(t,{url:ys(e),basePath:xs(e),credentials:ws(e),handler:Cs(e)})},Aw=function(e){var t,n,o=function(){var e=[],t=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t,n=e.id||Ew("blobid"),o=e.name||n,r=e.blob;return{id:q(n),name:q(o),filename:q(e.filename||o+"."+(t=r.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[t.toLowerCase()]||"dat")),blob:q(r),base64:q(e.base64),blobUri:q(e.blobUri||URL.createObjectURL(r)),uri:q(e.uri)}},n=function(t){return ce(e,t).getOrUndefined()},o=function(e){return n((function(t){return t.id()===e}))};return{create:function(e,n,o,r,i){if(S(e))return t({id:e,name:r,filename:i,blob:n,base64:o});if(E(e))return t(e);throw new Error("Unknown input type")},add:function(t){o(t.id())||e.push(t)},get:o,getByUri:function(e){return n((function(t){return t.blobUri()===e}))},getByData:function(e,t){return n((function(n){return n.base64()===e&&n.blob().type===t}))},findFirst:n,removeByUri:function(t){e=ie(e,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){ne(e,(function(e){URL.revokeObjectURL(e.blobUri())})),e=[]}}}(),r=kw(),i=[],a=function(e){var t=sa(null);return e.on("change AddUndo",(function(e){t.set(c({},e.level))})),{fireIfChanged:function(){var n=e.undoManager.data;xe(n).filter((function(e){return!px(t.get(),e)})).each((function(t){e.setDirty(!0),e.dispatch("change",{level:t,lastLevel:be(n,n.length-2).getOrNull()})}))}}}(e),u=function(t){return function(n){return e.selection?t(n):[]}},s=function(e,t,n){var o=0;do{-1!==(o=e.indexOf(t,o))&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=function(e,t,n){var o='src="'.concat(n,'"').concat(n===qt.transparentSrc?' data-mce-placeholder="1"':"");return e=s(e,'src="'.concat(t,'"'),o),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},d=function(t,n){ne(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=te(e.fragments,(function(e){return l(e,t,n)})):e.content=l(e.content,t,n)}))},f=function(){return t||(t=Tw(e,r)),g().then(u((function(n){var r=te(n,(function(e){return e.blobInfo}));return t.upload(r,_w(e)).then(u((function(t){var r=[],i=te(t,(function(t,i){var a=n[i].blobInfo,u=n[i].image,s=!1;return t.status&&hs(e)?(o.removeByUri(u.src),yx(e)||function(t,n){var o,r=e.convertURL(n,"src");d(t.src,n),rn(kn.fromDom(t),{src:gs(e)?(o=n,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":r})}(u,t.url)):t.error&&(t.error.remove&&(d(u.getAttribute("src"),qt.transparentSrc),r.push(u),s=!0),function(e,t){hw(e,fa.translate(["Failed to upload image: {0}",t]))}(e,t.error.message)),{element:u,status:t.status,uploadUri:t.url,blobInfo:a,removed:s}}));return i.length>0&&a.fireIfChanged(),r.length>0&&!yx(e)&&e.undoManager.transact((function(){ne(r,(function(t){e.dom.remove(t),o.removeByUri(t.src)}))})),i})))})))},m=function(){return ps(e)?f():Promise.resolve([])},p=function(e){return me(i,(function(t){return t(e)}))},g=function(){return n||(n=ly(r,o)),n.findAll(e.getBody(),p).then(u((function(t){return t=ie(t,(function(t){return"string"!==typeof t||(hw(e,t),!1)})),yx(e)||ne(t,(function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},h=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var i=r.getResultUri(n);if(i)return'src="'+i+'"';var a=o.getByUri(n);return a||(a=ue(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':t}))};return e.on("SetContent",(function(){ps(e)?m():g()})),e.on("RawSaveContent",(function(e){e.content=h(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=h(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){ne(e,(function(e){var t=e.attr("src");if(!o.getByUri(t)){var n=r.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:o,addFilter:function(e){i.push(e)},uploadImages:f,uploadImagesAuto:m,scanForImages:g,destroy:function(){o.destroy(),r.destroy(),n=t=null}}},Rw={remove_similar:!0,inherit:!1},Dw=c({selector:"td,th"},Rw),Mw={tablecellbackgroundcolor:c({styles:{backgroundColor:"%value"}},Dw),tablecellverticalalign:c({styles:{"vertical-align":"%value"}},Dw),tablecellbordercolor:c({styles:{borderColor:"%value"}},Dw),tablecellclass:c({classes:["%value"]},Dw),tableclass:c({selector:"table",classes:["%value"]},Rw),tablecellborderstyle:c({styles:{borderStyle:"%value"}},Dw),tablecellborderwidth:c({styles:{borderWidth:"%value"}},Dw)},Nw=q(Mw),zw=function(e){var t={},n=function e(n,o){n&&(S(n)?(_(o)||(o=[o]),ne(o,(function(e){R(e.deep)&&(e.deep=!Md(e)),R(e.split)&&(e.split=!Md(e)||Nd(e)),R(e.remove)&&Md(e)&&!Nd(e)&&(e.remove="none"),Md(e)&&Nd(e)&&(e.mixed=!0,e.block_expand=!0),S(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[n]=o):Ee(n,(function(t,n){e(n,t)})))};return n(function(e){var t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:function(e){t.setStyle(e,"float",null)},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:function(e){t.setStyle(e,"float",null)},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:function(){var e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]}(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Do(e)&&e.hasAttribute("href")},onformat:function(e,n,o){jt.each(o,(function(n,o){t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return jt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){o[e]={block:e,remove:"all"}})),o}(e)),n(Nw()),n(Us(e)),{get:function(e){return M(e)?t[e]:t},has:function(e){return ze(t,e)},register:n,unregister:function(e){return e&&t[e]&&delete t[e],t}}},Pw=jt.each,Lw=ia.DOM,Fw=function(e,t){var n,o,r,i=t&&t.schema||Bi({}),a=function(e){o="string"===typeof e?{name:e,classes:[],attrs:{}}:e;var t=Lw.create(o.name);return function(e,t){t.classes.length&&Lw.addClass(e,t.classes.join(" ")),Lw.setAttribs(e,t.attrs)}(t,o),t};return e&&e.length?(o=e[0],n=a(o),(r=Lw.create("div")).appendChild(function e(t,n,o){var r,u,s=n.length>0&&n[0],c=s&&s.name,l=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e,o=i.getElementRule(n),r=o&&o.parentsRequired;return!(!r||!r.length)&&(t&&-1!==jt.inArray(r,t)?t:r[0])}(t,c);if(l)c===l?(u=n[0],n=n.slice(1)):u=l;else if(s)u=n[0],n=n.slice(1);else if(!o)return t;return u&&(r=a(u)).appendChild(t),o&&(r||(r=Lw.create("div")).appendChild(t),jt.each(o,(function(e){var n=a(e);r.insertBefore(n,t)}))),e(r,n,u&&u.siblings)}(n,e.slice(1),o.siblings)),r):""},Bw=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=jt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,o,r,i){switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==jt.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===r){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},qw=function(e,t){var n,o,r,i="",a=Gs(e);if(""===a)return"";var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var s=Ne(t,"preview");if(Ut(s,!1))return"";a=s.getOr(a)}n=t.block||t.inline||"span";var c,l=(c=t.selector)&&"string"===typeof c?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),jt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=jt.map(e.split(/(?:~\+|~|\+)/),Bw),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[];l.length?(l[0].name||(l[0].name=n),n=t.selector,o=Fw(l,e)):o=Fw([n],e);var d=Lw.select(n,o)[0]||o.firstChild;return Pw(t.styles,(function(e,t){var n=u(e);n&&Lw.setStyle(d,t,n)})),Pw(t.attributes,(function(e,t){var n=u(e);n&&Lw.setAttrib(d,t,n)})),Pw(t.classes,(function(e){var t=u(e);Lw.hasClass(d,t)||Lw.addClass(d,t)})),e.dispatch("PreviewFormats"),Lw.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),r=Lw.getStyle(e.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,Pw(a.split(" "),(function(t){var n=Lw.getStyle(d,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=Lw.getStyle(e.getBody(),t,!0),"#ffffff"!==vd(n).toLowerCase()))&&("color"!==t||"#000000"!==vd(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===r)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*r+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}})),e.dispatch("AfterPreviewFormats"),Lw.remove(o),i},Iw=function(e){var t=zw(e),n=sa(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),xv(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,o){!function(e,t,n,o){Cx(e).formatter.apply(t,n,o)}(e,t,n,o)},remove:function(t,n,o,r){!function(e,t,n,o,r){Cx(e).formatter.remove(t,n,o,r)}(e,t,n,o,r)},toggle:function(t,n,o){!function(e,t,n,o){Cx(e).formatter.toggle(t,n,o)}(e,t,n,o)},match:function(t,n,o,r){return function(e,t,n,o,r){return Cx(e).formatter.match(t,n,o,r)}(e,t,n,o,r)},closest:function(t){return function(e,t){return Cx(e).formatter.closest(t)}(e,t)},matchAll:function(t,n){return function(e,t,n){return Cx(e).formatter.matchAll(t,n)}(e,t,n)},matchNode:function(t,n,o,r){return function(e,t,n,o,r){return Cx(e).formatter.matchNode(t,n,o,r)}(e,t,n,o,r)},canApply:function(t){return function(e,t){return Cx(e).formatter.canApply(t)}(e,t)},formatChanged:function(t,o,r,i){return function(e,t,n,o,r,i){return Cx(e).formatter.formatChanged(t,n,o,r,i)}(e,n,t,o,r,i)},getCssText:V(qw,e)}},Hw=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Vw=function(e){var t=pa(),n=sa(0),o=sa(0),r={data:[],typing:!1,beforeChange:function(){!function(e,t,n){Cx(e).undoManager.beforeChange(t,n)}(e,n,t)},add:function(i,a){return function(e,t,n,o,r,i,a){return Cx(e).undoManager.add(t,n,o,r,i,a)}(e,r,o,n,t,i,a)},undo:function(){return function(e,t,n,o){return Cx(e).undoManager.undo(t,n,o)}(e,r,n,o)},redo:function(){return function(e,t,n){return Cx(e).undoManager.redo(t,n)}(e,o,r.data)},clear:function(){!function(e,t,n){Cx(e).undoManager.clear(t,n)}(e,r,o)},reset:function(){!function(e,t){Cx(e).undoManager.reset(t)}(e,r)},hasUndo:function(){return function(e,t,n){return Cx(e).undoManager.hasUndo(t,n)}(e,r,o)},hasRedo:function(){return function(e,t,n){return Cx(e).undoManager.hasRedo(t,n)}(e,r,o)},transact:function(t){return function(e,t,n,o){return Cx(e).undoManager.transact(t,n,o)}(e,r,n,t)},ignore:function(t){!function(e,t,n){Cx(e).undoManager.ignore(t,n)}(e,n,t)},extra:function(t,n){!function(e,t,n,o,r){Cx(e).undoManager.extra(t,n,o,r)}(e,r,o,t,n)}};return yx(e)||function(e,t,n){var o=sa(!1),r=function(e){hx(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var o=e.command;Hw(o)||(vx(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;Hw(t)||r(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!1===px(lx(e),t.data[0])&&(!1===e.isDirty()&&e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&r(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),hx(t,!0,n),t.add({},e),o.set(!0))}})),e.on("mousedown",(function(e){t.typing&&r(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}(e))&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}(e,r,n),function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")}(e),r},jw=[9,27,Of.HOME,Of.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Of.DOWN,Of.UP,Of.LEFT,Of.RIGHT].concat(qt.browser.isFirefox()?[224]:[]),Uw="data-mce-placeholder",Gw=function(e){return"keydown"===e.type||"keyup"===e.type},Ww=function(e){var t=e.keyCode;return t===Of.BACKSPACE||t===Of.DELETE},$w=function(e){var t=e.dom,n=ss(e),o=Ls(e),r=function r(i,a){if(!function(e){if(Gw(e)){var t=e.keyCode;return!Ww(e)&&(Of.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Z(jw,t))}return!1}(i)){var u=e.getBody(),s=!function(e){return Gw(e)&&!(Ww(e)||"keyup"===e.type&&229===e.keyCode)}(i)&&function(e,t,n){if(li(kn.fromDom(t),!1)){var o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1}(t,u,n);(""!==t.getAttrib(u,Uw)!==s||a)&&(t.setAttrib(u,Uw,s?o:null),t.setAttrib(u,"aria-placeholder",s?o:null),function(e,t){e.dispatch("PlaceholderToggle",{state:t})}(e,s),e.on(s?"keydown":"keyup",r),e.off(s?"keyup":"keydown",r))}};o&&e.on("init",(function(t){r(t,!0),e.on("change SetContent ExecCommand",r),e.on("paste",(function(t){return jm.setEditorTimeout(e,(function(){return r(t)}))}))}))},Kw=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Jw=function(e,t){return En(kn.fromDom(t),Ns(e))},Yw=function(e){return"rtl"===ia.DOM.getStyle(e,"direction",!0)||function(e){return Kw.test(e)}(e.textContent)},Xw=function(e,t,n){var o=function(e,t,n){return ie(ia.DOM.getParents(n.container(),"*",t),e)}(e,t,n);return K.from(o[o.length-1])},Qw=function(e,t){if(!t)return t;var n=t.container(),o=t.offset();return e?Dr(n)?qo(n.nextSibling)?fu(n.nextSibling,0):fu.after(n):zr(t)?fu(n,o+1):t:Dr(n)?qo(n.previousSibling)?fu(n.previousSibling,n.previousSibling.data.length):fu.before(n):Pr(t)?fu(n,o-1):t},Zw=V(Qw,!0),eC=V(Qw,!1),tC=function(e,t){var n=function(e){return e.stopImmediatePropagation()};e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},nC=function(e){return tC(e,"Delete")},oC=function(e){return hr(e)||br(e)},rC=function(e,t){return Tn(e,t)?or(t,oC,function(e){return function(t){return _n(e,kn.fromDom(t.dom.parentNode))}}(e)):K.none()},iC=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},aC=function(e,t){return{from:e,to:t}},uC=function(e,t){var n=kn.fromDom(e),o=kn.fromDom(t.container());return rC(n,o).map((function(e){return function(e,t){return{block:e,position:t}}(e,t)}))},sC=function(e,t,n){var o=uC(e,fu.fromRangeStart(n)),r=o.bind((function(n){return Il(t,e,n.position).bind((function(n){return uC(e,n).map((function(n){return function(e,t,n){return Go(n.position.getNode())&&!1===li(n.block)?jl(!1,n.block.dom).bind((function(o){return o.isEqual(n.position)?Il(t,e,o).bind((function(t){return uC(e,t)})):K.some(n)})).getOr(n):n}(e,t,n)}))}))}));return Gt(o,r,aC).filter((function(e){return function(e){return!1===_n(e.from.block,e.to.block)}(e)&&function(e){return Mn(e.from.block).bind((function(t){return Mn(e.to.block).filter((function(e){return _n(t,e)}))})).isSome()}(e)&&function(e){return!1===Ko(e.from.block.dom)&&!1===Ko(e.to.block.dom)}(e)}))},cC=function(e){var t=Bn(e);return le(t,mr).fold(q(t),(function(e){return t.slice(0,e)}))},lC=function(e){var t=cC(e);return ne(t,mo),t},dC=function(e,t){var n=og(t,e);return ce(n.reverse(),(function(e){return li(e)})).each(mo)},fC=function(e,t,n,o){if(li(n))return Zp(n),Wl(n.dom);0===ie(Ln(o),(function(e){return!li(e)})).length&&li(t)&&ao(o,kn.fromTag("br"));var r=Gl(n.dom,fu.before(o.dom));return ne(lC(t),(function(e){ao(o,e)})),dC(e,t),r},mC=function(e,t,n){if(li(n))return mo(n),li(t)&&Zp(t),Wl(t.dom);var o=$l(n.dom);return ne(lC(t),(function(e){co(n,e)})),dC(e,t),o},pC=function(e,t){return Tn(t,e)?function(e,t){var n=og(t,e);return K.from(n[n.length-1])}(t,e):K.none()},gC=function(e,t){jl(e,t.dom).map((function(e){return e.getNode()})).map(kn.fromDom).filter(gr).each(mo)},hC=function(e,t,n){return gC(!0,t),gC(!1,n),pC(t,n).fold(V(mC,e,t,n),V(fC,e,t,n))},vC=function(e,t,n,o){return t?hC(e,o,n):hC(e,n,o)},bC=function(e,t){var n=kn.fromDom(e.getBody()),o=function(e,t,n){return n.collapsed?sC(e,t,n):K.none()}(n.dom,t,e.selection.getRng()).map((function(o){return function(){vC(n,t,o.from.block,o.to.block).each((function(t){e.selection.setRng(t.toRange())}))}}));return o},yC=function(e,t){var n=kn.fromDom(t),o=V(_n,e);return nr(n,xr,o).isSome()},xC=function(e,t){var n=Gl(e.dom,fu.fromRangeStart(t)).isNone(),o=Ul(e.dom,fu.fromRangeEnd(t)).isNone();return!function(e,t){return yC(e,t.startContainer)||yC(e,t.endContainer)}(e,t)&&n&&o},wC=function(e){var t=kn.fromDom(e.getBody()),n=e.selection.getRng();return xC(t,n)?function(e){return K.some((function(){e.setContent(""),e.selection.setCursorLocation()}))}(e):function(e,t){var n=t.getRng();return Gt(rC(e,kn.fromDom(n.startContainer)),rC(e,kn.fromDom(n.endContainer)),(function(o,r){return!1===_n(o,r)?K.some((function(){n.deleteContents(),vC(e,!0,o,r).each((function(e){t.setRng(e.toRange())}))})):K.none()})).getOr(K.none())}(t,e.selection)},CC=function(e,t){return e.selection.isCollapsed()?K.none():wC(e)},kC=$o,SC=Ko,EC=function(e,t,n,o,r){return K.from(t._selectionOverrides.showCaret(e,n,o,r))},OC=function(e,t){return e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?K.none():K.some(function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t))},_C=function(e,t,n){return t.collapsed?function(e,t,n){var o=vl(1,e.getBody(),t),r=fu.fromRangeStart(o),i=r.getNode();if(Jc(i))return EC(1,e,i,!r.isAtEnd(),!1);var a=r.getNode(!0);if(Jc(a))return EC(1,e,a,!1,!1);var u=e.dom.getParent(r.getNode(),(function(e){return SC(e)||kC(e)}));return Jc(u)?EC(1,e,u,!1,n):K.none()}(e,t,n).getOr(t):t},TC=function(e){return Yp(e)||Wp(e)},AC=function(e){return Xp(e)||$p(e)},RC=function(e,t,n,o,r,i){EC(o,e,i.getNode(!r),r,!0).each((function(n){if(t.collapsed){var o=t.cloneRange();r?o.setEnd(n.startContainer,n.startOffset):o.setStart(n.endContainer,n.endOffset),o.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),function(e,t){qo(t)&&0===t.data.length&&e.remove(t)}(e.dom,n)},DC=function(e,t){return function(e,t){var n=e.selection.getRng();if(!qo(n.commonAncestorContainer))return K.none();var o=t?Iu.Forwards:Iu.Backwards,r=Pl(e.getBody()),i=V(wl,t?r.next:r.prev),a=t?TC:AC,u=yl(o,e.getBody(),n),s=Qw(t,i(u));if(!s||!Cl(u,s))return K.none();if(a(s))return K.some((function(){return RC(e,n,u.getNode(),o,t,s)}));var c=i(s);return c&&a(c)&&Cl(s,c)?K.some((function(){return RC(e,n,u.getNode(),o,t,c)})):K.none()}(e,t)},MC=qu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),NC=function(e,t,n,o){var r=o.getNode(!1===t);return rC(kn.fromDom(e),kn.fromDom(n.getNode())).map((function(e){return li(e)?MC.remove(e.dom):MC.moveToElement(r)})).orThunk((function(){return K.some(MC.moveToElement(r))}))},zC=function(e,t,n){return Il(t,e,n).bind((function(o){return r=o.getNode(),xr(kn.fromDom(r))||br(kn.fromDom(r))||function(e,t,n,o){var r=function(t){return pr(kn.fromDom(t))&&!ll(n,o,e)};return bl(!t,n).fold((function(){return bl(t,o).fold(W,r)}),r)}(e,t,n,o)?K.none():t&&Ko(o.getNode())||!1===t&&Ko(o.getNode(!0))?NC(e,t,n,o):t&&Xp(n)||!1===t&&Yp(n)?K.some(MC.moveToPosition(o)):K.none();var r}))},PC=function(e,t,n){return function(e,t){var n=t.getNode(!1===e),o=e?"after":"before";return Do(n)&&n.getAttribute("data-mce-caret")===o}(t,n)?function(e,t){return e&&Ko(t.nextSibling)?K.some(MC.moveToElement(t.nextSibling)):!1===e&&Ko(t.previousSibling)?K.some(MC.moveToElement(t.previousSibling)):K.none()}(t,n.getNode(!1===t)).fold((function(){return zC(e,t,n)}),K.some):zC(e,t,n).bind((function(t){return function(e,t,n){return n.fold((function(e){return K.some(MC.remove(e))}),(function(e){return K.some(MC.moveToElement(e))}),(function(n){return ll(t,n,e)?K.none():K.some(MC.moveToPosition(n))}))}(e,n,t)}))},LC=function(e,t){return K.from(Sh(e.getBody(),t))},FC=function(e,t){var n=e.selection.getNode();return LC(e,n).filter(Ko).fold((function(){return function(e,t,n){var o=vl(t?1:-1,e,n),r=fu.fromRangeStart(o),i=kn.fromDom(e);return!1===t&&Xp(r)?K.some(MC.remove(r.getNode(!0))):t&&Yp(r)?K.some(MC.remove(r.getNode())):!1===t&&Yp(r)&&gg(i,r)?hg(i,r).map((function(e){return MC.remove(e.getNode())})):t&&Xp(r)&&pg(i,r)?vg(i,r).map((function(e){return MC.remove(e.getNode())})):PC(e,t,r)}(e.getBody(),t,e.selection.getRng()).map((function(n){return function(){return n.fold(function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),$g(e,t,kn.fromDom(n)),!0}}(e,t),function(e,t){return function(n){var o=t?fu.before(n):fu.after(n);return e.selection.setRng(o.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))}}))}),(function(){return K.some(L)}))},BC=function(e,t){var n=e.selection.getNode();return Ko(n)&&!Jo(n)?LC(e,n.parentNode).filter(Ko).fold((function(){return K.some((function(){var n;n=kn.fromDom(e.getBody()),ne(ba(n,".mce-offscreen-selection"),mo),$g(e,t,kn.fromDom(e.selection.getNode())),iC(e)}))}),(function(){return K.some(L)})):K.none()},qC=function(e){var t=e.dom,n=e.selection,o=Sh(e.getBody(),n.getNode());if($o(o)&&t.isBlock(o)&&t.isEmpty(o)){var r=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(r),n.setRng(fu.before(r).toRange())}return!0},IC=function(e,t){return e.selection.isCollapsed()?FC(e,t):BC(e,t)},HC=function(e,t){return e.selection.isCollapsed()?function(e,t){var n=fu.fromRangeStart(e.selection.getRng());return Il(t,e.getBody(),n).filter((function(e){return t?Up(e):Gp(e)})).bind((function(e){return K.from(dl(t?0:-1,e))})).map((function(t){return function(){return e.selection.select(t)}}))}(e,t):K.none()},VC=qo,jC=function(e){return VC(e)&&e.data[0]===Er},UC=function(e){return VC(e)&&e.data[e.data.length-1]===Er},GC=function(e){return e.ownerDocument.createTextNode(Er)},WC=function(e,t){return e?function(e){if(VC(e.previousSibling))return UC(e.previousSibling)||e.previousSibling.appendData(Er),e.previousSibling;if(VC(e))return jC(e)||e.insertData(0,Er),e;var t=GC(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(VC(e.nextSibling))return jC(e.nextSibling)||e.nextSibling.insertData(0,Er),e.nextSibling;if(VC(e))return UC(e)||e.appendData(Er),e;var t=GC(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},$C=V(WC,!0),KC=V(WC,!1),JC=function(e,t){return qo(e.container())?WC(t,e.container()):WC(t,e.getNode())},YC=function(e,t){var n=t.get();return n&&e.container()===n&&Dr(n)},XC=function(e,t){return t.fold((function(t){Vc(e.get());var n=$C(t);return e.set(n),K.some(fu(n,n.length-1))}),(function(t){return Wl(t).map((function(t){if(YC(t,e))return fu(e.get(),1);Vc(e.get());var n=JC(t,!0);return e.set(n),fu(n,1)}))}),(function(t){return $l(t).map((function(t){if(YC(t,e))return fu(e.get(),e.get().length-1);Vc(e.get());var n=JC(t,!1);return e.set(n),fu(n,n.length-1)}))}),(function(t){Vc(e.get());var n=KC(t);return e.set(n),K.some(fu(n,1))}))},QC=function(e,t){for(var n=0;n<e.length;n++){var o=e[n].apply(null,t);if(o.isSome())return o}return K.none()},ZC=qu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ek=function(e,t){var n=cl(t,e);return n||e},tk=function(e,t,n){var o=Zw(n),r=ek(t,o.container());return Xw(e,r,o).fold((function(){return Ul(r,o).bind(V(Xw,e,r)).map((function(e){return ZC.before(e)}))}),K.none)},nk=function(e,t){return null===Yl(e,t)},ok=function(e,t,n){return Xw(e,t,n).filter(V(nk,t))},rk=function(e,t,n){var o=eC(n);return ok(e,t,o).bind((function(e){return Gl(e,o).isNone()?K.some(ZC.start(e)):K.none()}))},ik=function(e,t,n){var o=Zw(n);return ok(e,t,o).bind((function(e){return Ul(e,o).isNone()?K.some(ZC.end(e)):K.none()}))},ak=function(e,t,n){var o=eC(n),r=ek(t,o.container());return Xw(e,r,o).fold((function(){return Gl(r,o).bind(V(Xw,e,r)).map((function(e){return ZC.after(e)}))}),K.none)},uk=function(e){return!1===Yw(ck(e))},sk=function(e,t,n){return QC([tk,rk,ik,ak],[e,t,n]).filter(uk)},ck=function(e){return e.fold(I,I,I,I)},lk=function(e){return e.fold(q("before"),q("start"),q("end"),q("after"))},dk=function(e){return e.fold(ZC.before,ZC.before,ZC.after,ZC.after)},fk=function(e){return e.fold(ZC.start,ZC.start,ZC.end,ZC.end)},mk=function(e,t,n,o,r,i){return Gt(Xw(t,n,o),Xw(t,n,r),(function(t,o){return t!==o&&function(e,t,n){var o=cl(t,e),r=cl(n,e);return o&&o===r}(n,t,o)?ZC.after(e?t:o):i})).getOr(i)},pk=function(e,t){return e.fold($,(function(e){return o=t,!(lk(n=e)===lk(o)&&ck(n)===ck(o));var n,o}))},gk=function(e,t){return e?t.fold(F(K.some,ZC.start),K.none,F(K.some,ZC.after),K.none):t.fold(K.none,F(K.some,ZC.before),K.none,F(K.some,ZC.end))},hk=function(e,t,n,o){var r=Qw(e,o),i=sk(t,n,r);return sk(t,n,r).bind(V(gk,e)).orThunk((function(){return function(e,t,n,o,r){var i=Qw(e,r);return Il(e,n,i).map(V(Qw,e)).fold((function(){return o.map(dk)}),(function(r){return sk(t,n,r).map(V(mk,e,t,n,i,r)).filter(V(pk,o))})).filter(uk)}(e,t,n,i,o)}))},vk=function(e,t,n){var o=e?1:-1;return t.setRng(fu(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},bk=function(e,t){var n=t.selection.getRng(),o=e?fu.fromRangeEnd(n):fu.fromRangeStart(n);return!!function(e){return N(e.selection.getSel().modify)}(t)&&(e&&zr(o)?vk(!0,t.selection,o):!(e||!Pr(o))&&vk(!1,t.selection,o))};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Zb||(Zb={}));var yk,xk=function(e,t){return e===Iu.Backwards?pe(t):t},wk=function(e,t,n){return e===Iu.Forwards?t.next(n):t.prev(n)},Ck=function(e,t,n,o){return Go(o.getNode(t===Iu.Forwards))?Zb.Br:!1===ll(n,o)?Zb.Block:Zb.Wrap},kk=function(e,t,n,o){for(var r=Pl(n),i=o,a=[];i;){var u=wk(t,r,i);if(!u)break;if(Go(u.getNode(!1)))return t===Iu.Forwards?{positions:xk(t,a).concat([u]),breakType:Zb.Br,breakAt:K.some(u)}:{positions:xk(t,a),breakType:Zb.Br,breakAt:K.some(u)};if(u.isVisible()){if(e(i,u)){var s=Ck(0,t,i,u);return{positions:xk(t,a),breakType:s,breakAt:K.some(u)}}a.push(u),i=u}else i=u}return{positions:xk(t,a),breakType:Zb.Eol,breakAt:K.none()}},Sk=function(e,t,n,o){return t(n,o).breakAt.map((function(o){var r=t(n,o).positions;return e===Iu.Backwards?r.concat(o):[o].concat(r)})).getOr([])},Ek=function(e,t){return ue(e,(function(e,n){return e.fold((function(){return K.some(n)}),(function(o){return Gt(ye(o.getClientRects()),ye(n.getClientRects()),(function(e,r){var i=Math.abs(t-e.left);return Math.abs(t-r.left)<=i?n:o})).or(e)}))}),K.none())},Ok=function(e,t){return ye(t.getClientRects()).bind((function(t){return Ek(e,t.left)}))},_k=V(kk,fu.isAbove,-1),Tk=V(kk,fu.isBelow,1),Ak=V(Sk,-1,_k),Rk=V(Sk,1,Tk),Dk=Ko,Mk=function(e,t){return Math.abs(e.left-t)},Nk=function(e,t){return Math.abs(e.right-t)},zk=function(e,t){return Ve(e,(function(e,n){var o=Math.min(Mk(e,t),Nk(e,t)),r=Math.min(Mk(n,t),Nk(n,t));return r===o&&Pe(n,"node")&&Dk(n.node)||r<o?n:e}))},Pk=function(e){var t=function(t){return te(t,(function(t){var n=Fa(t);return n.node=e,n}))};if(Do(e))return t(e.getClientRects());if(qo(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},Lk=function(e){return fe(e,Pk)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(yk||(yk={}));var Fk,Bk=function(e,t,n,o,r,i){var a=0,u=[],s=function(o){var i=Lk([o]);-1===e&&(i=i.reverse());for(var s=0;s<i.length;s++){var l=i[s];if(!n(l,c)){if(u.length>0&&t(l,Ue(u))&&a++,l.line=a,r(l))return!0;u.push(l)}}},c=Ue(i.getClientRects());if(!c)return u;var l=i.getNode();return s(l),function(e,t,n,o){for(;o=sl(o,e,Xr,t);)if(n(o))return}(e,o,s,l),u},qk=V(Bk,yk.Up,Ia,Ha),Ik=V(Bk,yk.Down,Ha,Ia),Hk=function(e){return function(t){return function(e,t){return t.line>e}(e,t)}},Vk=function(e){return function(t){return function(e,t){return t.line===e}(e,t)}},jk=function(e,t){e.selection.setRng(t),Am(e,e.selection.getRng())},Uk=function(e,t,n){return K.some(_C(e,t,n))},Gk=function(e,t,n,o,r,i){var a=t===Iu.Forwards,u=Pl(e.getBody()),s=V(wl,a?u.next:u.prev),c=a?o:r;if(!n.collapsed){var l=ja(n);if(i(l))return EC(t,e,l,t===Iu.Backwards,!1)}var d=yl(t,e.getBody(),n);if(c(d))return OC(e,d.getNode(!a));var f=Qw(a,s(d)),m=Ir(n);if(!f)return m?K.some(n):K.none();if(c(f))return EC(t,e,f.getNode(!a),a,!1);var p=s(f);return p&&c(p)&&Cl(f,p)?EC(t,e,p.getNode(!a),a,!1):m?Uk(e,f.toRange(),!1):K.none()},Wk=function(e,t,n,o,r,i){var a=yl(t,e.getBody(),n),u=Ue(a.getClientRects()),s=t===yk.Down;if(!u)return K.none();var c,l=(s?Ik:qk)(e.getBody(),Hk(1),a),d=ie(l,Vk(1)),f=u.left,m=zk(d,f);if(m&&i(m.node)){var p=Math.abs(f-m.left),g=Math.abs(f-m.right);return EC(t,e,m.node,p<g,!1)}if(c=o(a)?a.getNode():r(a)?a.getNode(!0):ja(n)){var h=function(e,t,n,o){var r,i,a,u,s=Pl(t),c=[],l=0,d=function(e){return Ue(e.getClientRects())};1===e?(r=s.next,i=Ha,a=Ia,u=fu.after(o)):(r=s.prev,i=Ia,a=Ha,u=fu.before(o));var f=d(u);do{if(u.isVisible()){var m=d(u);if(!a(m,f)){c.length>0&&i(m,Ue(c))&&l++;var p=Fa(m);if(p.position=u,p.line=l,n(p))return c;c.push(p)}}}while(u=r(u));return c}(t,e.getBody(),Hk(1),c),v=zk(ie(h,Vk(1)),f);if(v)return Uk(e,v.position.toRange(),!1);if(v=Ue(ie(h,Vk(0))))return Uk(e,v.position.toRange(),!1)}return 0===d.length?$k(e,s).filter(s?r:o).map((function(t){return _C(e,t.toRange(),!1)})):K.none()},$k=function(e,t){var n,o,r=e.selection.getRng(),i=t?fu.fromRangeEnd(r):fu.fromRangeStart(r),a=(n=i.container(),o=e.getBody(),nr(kn.fromDom(n),(function(e){return Xc(e.dom)}),(function(e){return e.dom===o})).map((function(e){return e.dom})).getOr(o));if(t){var u=Tk(a,i);return xe(u.positions)}var s=_k(a,i);return ye(s.positions)},Kk=function(e,t,n){return $k(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))},Jk=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Yk=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Xk=function(e,t,n){return XC(t,n).map((function(t){return Jk(e,t),n}))},Qk=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=fu.fromRangeStart(e.selection.getRng());fu.isTextPosition(n)&&!1===function(e){return zr(e)||Pr(e)}(n)&&(Jk(e,Hc(t.get(),n)),t.set(null))}},Zk=function(e,t,n){return!!js(e)&&function(e,t,n){var o=e.getBody(),r=fu.fromRangeStart(e.selection.getRng()),i=V(Jw,e);return hk(n,i,o,r).bind((function(n){return Xk(e,t,n)}))}(e,t,n).isSome()},eS=function(e,t,n){return!!js(t)&&bk(e,t)},tS=function(e){var t=sa(null),n=V(Jw,e);return e.on("NodeChange",(function(o){js(e)&&(function(e,t,n){var o=te(ba(kn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),r=ie(o,e),i=ie(n,e);ne(ge(r,i),V(Yk,!1)),ne(ge(i,r),V(Yk,!0))}(n,e.dom,o.parents),Qk(e,t),function(e,t,n,o){if(t.selection.isCollapsed()){var r=ie(o,e);ne(r,(function(o){var r=fu.fromRangeStart(t.selection.getRng());sk(e,t.getBody(),r).bind((function(e){return Xk(t,n,e)}))}))}}(n,e,t,o.parents))})),t},nS=V(eS,!0),oS=V(eS,!1),rS=function(e,t,n){if(js(e)){var o=$k(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?fu.fromRangeEnd(n):fu.fromRangeStart(n)}));return sk(V(Jw,e),e.getBody(),o).exists((function(t){var o=dk(t);return XC(n,o).exists((function(t){return Jk(e,t),!0}))}))}return!1},iS=function(e,t){return function(n){return XC(t,n).map((function(t){return function(){return Jk(e,t)}}))}},aS=function(e,t,n,o){var r=e.getBody(),i=V(Jw,e);e.undoManager.ignore((function(){e.selection.setRng(function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(n,o)),nC(e),sk(i,r,fu.fromRangeStart(e.selection.getRng())).map(fk).bind(iS(e,t)).each(G)})),e.nodeChanged()},uS=function(e,t,n,o){var r=function(e,t){return cl(t,e)||e}(e.getBody(),o.container()),i=V(Jw,e),a=sk(i,r,o);return a.bind((function(e){return n?e.fold(q(K.some(fk(e))),K.none,q(K.some(dk(e))),K.none):e.fold(K.none,q(K.some(dk(e))),K.none,q(K.some(fk(e))))})).map(iS(e,t)).getOrThunk((function(){var u=Hl(n,r,o),s=u.bind((function(e){return sk(i,r,e)}));return Gt(a,s,(function(){return Xw(i,r,o).bind((function(t){return function(e){return Gt(Wl(e),$l(e),(function(t,n){var o=Qw(!0,t),r=Qw(!1,n);return Ul(e,o).forall((function(e){return e.isEqual(r)}))})).getOr(!0)}(t)?K.some((function(){$g(e,n,kn.fromDom(t))})):K.none()}))})).getOrThunk((function(){return s.bind((function(){return u.map((function(r){return function(){n?aS(e,t,o,r):aS(e,t,r,o)}}))}))}))}))},sS=function(e,t,n){if(e.selection.isCollapsed()&&js(e)){var o=fu.fromRangeStart(e.selection.getRng());return uS(e,t,n,o)}return K.none()},cS=function(e){return 1===Vn(e)},lS=function(e,t,n,o){var r=V(wv,t),i=te(ie(o,r),(function(e){return e.dom}));if(0===i.length)$g(t,e,n);else{var a=function(e,t){var n=mv(!1),o=bv(t,n.dom);return ao(kn.fromDom(e),n),mo(kn.fromDom(e)),fu(o,0)}(n.dom,i);t.selection.setRng(a.toRange())}},dS=function(e,t){var n=kn.fromDom(e.getBody()),o=kn.fromDom(e.selection.getStart()),r=ie(function(e,t){var n=og(t,e);return le(n,mr).fold(q(n),(function(e){return n.slice(0,e)}))}(n,o),cS);return xe(r).bind((function(n){var o,i=fu.fromRangeStart(e.selection.getRng());return!function(e,t,n){return Gt(Wl(n),$l(n),(function(o,r){var i=Qw(!0,o),a=Qw(!1,r),u=Qw(!1,t);return e?Ul(n,u).exists((function(e){return e.isEqual(a)&&t.isEqual(i)})):Gl(n,u).exists((function(e){return e.isEqual(i)&&t.isEqual(a)}))})).getOr(!0)}(t,i,n.dom)||Jl((o=n).dom)&&dv(o.dom)?K.none():K.some((function(){return lS(t,e,n,r)}))}))},fS=function(e,t){return e.selection.isCollapsed()?dS(e,t):K.none()},mS=function(e,t,n){return K.some((function(){e._selectionOverrides.hideFakeCaret(),$g(e,t,kn.fromDom(n))}))},pS=function(e,t){return e.selection.isCollapsed()?function(e,t){var n=t?Wp:$p,o=t?Iu.Forwards:Iu.Backwards,r=yl(o,e.getBody(),e.selection.getRng());return n(r)?mS(e,t,r.getNode(!t)):K.from(Qw(t,r)).filter((function(e){return n(e)&&Cl(r,e)})).map((function(n){return function(){return mS(e,t,n.getNode(!t))}}))}(e,t):function(e,t){var n=e.selection.getNode();return Yo(n)?mS(e,t,n):K.none()}(e,t)},gS=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},hS=function(e,t){return(e||"table"===Jt(t)?"margin":"padding")+("rtl"===to(t,"direction")?"-right":"-left")},vS=function(e){var t=yS(e);return!e.mode.isReadOnly()&&(t.length>1||function(e,t){return me(t,(function(t){var n=hS(_s(e),t),o=oo(t,n).map(gS).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0}))}(e,t))},bS=function(e){return vr(e)||br(e)},yS=function(e){return ie((t=e.selection.getSelectedBlocks(),te(t,kn.fromDom)),(function(e){return!bS(e)&&!function(e){return Mn(e).exists(bS)}(e)&&or(e,(function(e){return $o(e.dom)||Ko(e.dom)})).exists((function(e){return $o(e.dom)}))}));var t},xS=function(e,t){var n=e.dom,o=Ts(e),r=/[a-z%]+$/i.exec(o)[0],i=parseInt(o,10),a=_s(e);ne(yS(e),(function(e){!function(e,t,n,o,r,i){var a=hS(n,kn.fromDom(i));if("outdent"===t){var u=Math.max(0,gS(i.style[a])-o);e.setStyle(i,a,u?u+r:"")}else{var s=gS(i.style[a])+o+r;e.setStyle(i,a,s)}}(n,t,a,i,r,e.dom)}))},wS=function(e){return xS(e,"outdent")},CS=function(e){if(e.selection.isCollapsed()&&vS(e)){var t=e.dom,n=e.selection.getRng(),o=fu.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&sg(kn.fromDom(r),o))return K.some((function(){return wS(e)}))}return K.none()},kS=function(e,t,n){return Ce([CS,IC,DC,function(e,n){return sS(e,t,n)},bC,kh,HC,pS,CC,fS],(function(t){return t(e,n)}))},SS=function(e,t){kS(e,t,!0).fold((function(){return function(e){return tC(e,"ForwardDelete")}(e)}),G)},ES=function(e,t){e.addCommand("delete",(function(){!function(e,t){kS(e,t,!1).fold((function(){nC(e),iC(e)}),G)}(e,t)})),e.addCommand("forwardDelete",(function(){SS(e,t)}))},OS=function(e){return void 0===e.touches||1!==e.touches.length?K.none():K.some(e.touches[0])},_S=function(e){var t=pa(),n=sa(!1),o=ha((function(t){e.dispatch("longpress",c(c({},t),{},{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){OS(e).each((function(r){o.cancel();var i={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(i)}))}),!0),e.on("touchmove",(function(r){o.cancel(),OS(r).each((function(o){t.on((function(r){(function(e,t){var n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,r)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(r){o.cancel(),"touchcancel"!==r.type&&t.get().filter((function(e){return e.target.isEqualNode(r.target)})).each((function(){n.get()?r.preventDefault():e.dispatch("tap",c(c({},r),{},{type:"tap"}))}))}),!0)},TS=function(e,t){return ze(e,t.nodeName)},AS=function(e,t){return!!qo(t)||!!Do(t)&&(!TS(e,t)&&!ud(t))},RS=function(e,t){if(qo(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||TS(e,t.nextSibling)))return!0}return!1},DS=function(e){var t,n,o,r=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),s=i.getStart(),c=e.getBody(),l=ss(e);if(s&&Do(s)){var d=c.nodeName.toLowerCase();if(a.isValidChild(d,l.toLowerCase())&&!function(e,t,n){return ee(ng(kn.fromDom(n),kn.fromDom(t)),(function(t){return TS(e,t.dom)}))}(u,c,s)){var f=i.getRng(),m=f.startContainer,p=f.startOffset,g=f.endContainer,h=f.endOffset,v=Zm(e);for(s=c.firstChild;s;)if(AS(u,s)){if(RS(u,s)){n=s,s=s.nextSibling,r.remove(n);continue}t||(t=r.create(l,cs(e)),s.parentNode.insertBefore(t,s),o=!0),n=s,s=s.nextSibling,t.appendChild(n)}else t=null,s=s.nextSibling;o&&v&&(f.setStart(m,p),f.setEnd(g,h),i.setRng(f),e.nodeChanged())}}},MS=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},NS=function(e,t,n){return function(o){var r=arguments,i=r[r.length-2],a=i>0?t.charAt(i-1):"";if('"'===a)return o;if(">"===a){var u=t.lastIndexOf("<",i);if(-1!==u){var s=t.substring(u,i);if(-1!==s.indexOf('contenteditable="false"'))return o}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"===typeof r[1]?r[1]:r[0])+"</span>"}},zS=function(e){var t="contenteditable",n=" "+jt.trim(Ac(e))+" ",o=" "+jt.trim(Tc(e))+" ",r=MS(n),i=MS(o),a=Rc(e);a.length>0&&e.on("BeforeSetContent",(function(t){!function(e,t,n){var o=t.length,r=n.content;if("raw"!==n.format){for(;o--;)r=r.replace(t[o],NS(e,r,Tc(e)));n.content=r}}(e,a,t)})),e.parser.addAttributeFilter("class",(function(e){for(var n=e.length;n--;){var o=e[n];r(o)?o.attr(t,"true"):i(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(function(e){for(var n=e.length;n--;){var o=e[n];(r(o)||i(o))&&(a.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}}))},PS=function(e,t){t.hasAttribute("data-mce-caret")&&(qr(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},LS=function(e,t){var n=function(e){return ar(kn.fromDom(e.getBody()),"*[data-mce-caret]").map((function(e){return e.dom})).getOrNull()}(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void PS(e,n)):void(Nr(n)&&(PS(e,n),e.undoManager.add()))},FS=Ko,BS=function(e,t,n){var o=Pl(e.getBody()),r=V(wl,1===t?o.next:o.prev);if(n.collapsed){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!r(fu.fromRangeStart(n))){var a=kn.fromDom(function(e){var t=e.dom.create(ss(e));return t.innerHTML='<br data-mce-bogus="1">',t}(e));1===t?uo(kn.fromDom(i),a):ao(kn.fromDom(i),a),e.selection.select(a.dom,!0),e.selection.collapse()}}},qS=function(e,t){var n=t?Iu.Forwards:Iu.Backwards,o=e.selection.getRng();return function(e,t,n){return Gk(t,e,n,Yp,Xp,FS)}(n,e,o).orThunk((function(){return BS(e,n,o),K.none()}))},IS=function(e,t){var n=t?1:-1,o=e.selection.getRng();return function(e,t,n){return Wk(t,e,n,(function(e){return Yp(e)||Kp(e)}),(function(e){return Xp(e)||Jp(e)}),FS)}(n,e,o).orThunk((function(){return BS(e,n,o),K.none()}))},HS=function(e,t){return qS(e,t).exists((function(t){return jk(e,t),!0}))},VS=function(e,t){return IS(e,t).exists((function(t){return jk(e,t),!0}))},jS=function(e,t){return Kk(e,t,t?Xp:Yp)},US=function(e){return Z(["figcaption"],Jt(e))},GS=function(e,t,n,o){var r=kn.fromTag(n),i=kn.fromTag("br");return rn(r,o),co(r,i),function(e,t,n){n?co(e,t):so(e,t)}(e,r,t),function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}(i)},WS=function(e,t,n){return t?function(e,t){return Tk(e,t).breakAt.isNone()}(e.dom,n):function(e,t){return _k(e,t).breakAt.isNone()}(e.dom,n)},$S=function(e,t){var n=kn.fromDom(e.getBody()),o=fu.fromRangeStart(e.selection.getRng()),r=ss(e),i=cs(e);return function(e,t){var n=V(_n,t);return or(kn.fromDom(e.container()),mr,n).filter(US)}(o,n).exists((function(){if(WS(n,t,o)){var a=GS(n,t,r,i);return e.selection.setRng(a),!0}return!1}))},KS=function(e,t){return!!e.selection.isCollapsed()&&$S(e,t)},JS={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},YS=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},XS=function(e,t){return fe(function(e){return te(e,(function(e){return c(c({},JS),{},{action:L},e)}))}(e),(function(e){return YS(e,t)?[e]:[]}))},QS=function(e,t){return fe(function(e){return te(e,(function(e){return c(c({},JS),{},{action:function(){return K.none()}},e)}))}(e),(function(e){return YS(e,t)?[e]:[]}))},ZS=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){return e.apply(null,n)}},eE=function(e,t){return ce(XS(e,t),(function(e){return e.action()}))},tE=function(e,t){return Ce(QS(e,t),(function(e){return e.action()}))},nE=function(e,t){var n=t?Iu.Forwards:Iu.Backwards,o=e.selection.getRng();return Gk(e,n,o,Wp,$p,Yo).exists((function(t){return jk(e,t),!0}))},oE=function(e,t){var n=t?1:-1,o=e.selection.getRng();return Wk(e,n,o,Wp,$p,Yo).exists((function(t){return jk(e,t),!0}))},rE=function(e,t){return Kk(e,t,t?$p:Wp)},iE=qu([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),aE=c(c({},iE),{},{none:function(e){return iE.none(e)}}),uE=function e(t,n,o){return fe(Bn(t),(function(t){return En(t,n)?o(t)?[t]:[]:e(t,n,o)}))},sE=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;if(n(t))return K.none();if(Z(e,Jt(t)))return K.some(t);var o=function(e){return En(e,"table")||n(e)};return ir(t,e.join(","),o)}(["td","th"],e,t)},cE=function(e){return uE(e,"th,td",$)},lE=function(e,t){return ur(e,"table",t)},dE=function e(t,n,o,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$,a=1===r;if(!a&&o<=0)return aE.first(t[0]);if(a&&o>=t.length-1)return aE.last(t[t.length-1]);var u=o+r,s=t[u];return i(s)?aE.middle(n,s):e(t,n,u,r,i)},fE=function(e,t){return lE(e,t).bind((function(t){var n=cE(t);return le(n,(function(t){return _n(e,t)})).map((function(e){return{index:e,all:n}}))}))},mE=function(e){return ur(e,"[contenteditable]")},pE=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xn(e)?e.dom.isContentEditable:mE(e).fold(q(t),(function(e){return"true"===gE(e)}))},gE=function(e){return e.dom.contentEditable},hE=function(e,t,n,o,r){var i=ba(kn.fromDom(n),"td,th,caption").map((function(e){return e.dom})),a=ie(function(e,t){return fe(t,(function(t){var n=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}(Fa(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))}(e,i),(function(e){return t(e,r)}));return function(e,t,n){return ue(e,(function(e,o){return e.fold((function(){return K.some(o)}),(function(e){var r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return K.some(i<r?o:e)}))}),K.none())}(a,o,r).map((function(e){return e.cell}))},vE=V(hE,(function(e){return e.bottom}),(function(e,t){return e.y<t})),bE=V(hE,(function(e){return e.top}),(function(e,t){return e.y>t})),yE=function(e,t){return ye(t.getClientRects()).bind((function(t){return vE(e,t.left,t.top)})).bind((function(e){return Ok($l(n=e).map((function(e){return _k(n,e).positions.concat(e)})).getOr([]),t);var n}))},xE=function(e,t){return xe(t.getClientRects()).bind((function(t){return bE(e,t.left,t.top)})).bind((function(e){return Ok(Wl(n=e).map((function(e){return[e].concat(Tk(n,e).positions)})).getOr([]),t);var n}))},wE=function(e,t,n){var o=e(t,n);return function(e){return e.breakType===Zb.Wrap&&0===e.positions.length}(o)||!Go(n.getNode())&&function(e){return e.breakType===Zb.Br&&1===e.positions.length}(o)?!function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))}(e,t,o):o.breakAt.isNone()},CE=V(wE,_k),kE=V(wE,Tk),SE=function(e,t,n,o){var r=e.selection.getRng(),i=t?1:-1;return!(!Kc()||!function(e,t,n){var o=fu.fromRangeStart(t);return jl(!e,n).exists((function(e){return e.isEqual(o)}))}(t,r,n))&&(EC(i,e,n,!t,!1).each((function(t){jk(e,t)})),!0)},EE=function(e,t){var n=t.getNode(e);return Do(n)&&"TABLE"===n.nodeName?K.some(n):K.none()},OE=function(e,t,n){var o=EE(!!t,n),r=!1===t;o.fold((function(){return jk(e,n.toRange())}),(function(o){return jl(r,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return jk(e,n.toRange())}),(function(n){return function(e,t,n){var o=ss(t);t.undoManager.transact((function(){var r=kn.fromTag(o);rn(r,cs(t)),co(r,kn.fromTag("br")),e?uo(kn.fromDom(n),r):ao(kn.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),jk(t,i)}))}(t,e,o)}))}))},_E=function(e,t,n,o){var r=e.selection.getRng(),i=fu.fromRangeStart(r),a=e.getBody();if(!t&&CE(o,i)){var u=function(e,t,n){return yE(t,n).orThunk((function(){return ye(n.getClientRects()).bind((function(n){return Ek(Ak(e,fu.before(t)),n.left)}))})).getOr(fu.before(t))}(a,n,i);return OE(e,t,u),!0}if(t&&kE(o,i)){var s=function(e,t,n){return xE(t,n).orThunk((function(){return ye(n.getClientRects()).bind((function(n){return Ek(Rk(e,fu.after(t)),n.left)}))})).getOr(fu.after(t))}(a,n,i);return OE(e,t,s),!0}return!1},TE=function(e,t,n){return K.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(o){return K.from(e.dom.getParent(o,"table")).map((function(r){return n(e,t,r,o)}))})).getOr(!1)},AE=function(e,t){return TE(e,t,SE)},RE=function(e,t){return TE(e,t,_E)},DE=function(e,t,n){return n.fold(K.none,K.none,(function(e,t){return lp(t).map((function(e){return function(e){var t=If.exact(e,0,e,0);return Gf(t)}(e)}))}),(function(n){return e.execCommand("mceTableInsertRowAfter"),ME(e,t,n)}))},ME=function(e,t,n){return DE(e,t,function(e,t,n){return fE(e,n).fold((function(){return aE.none(e)}),(function(n){return dE(n.all,e,n.index,1,t)}))}(n,pE))},NE=function(e,t,n){return DE(e,t,function(e,t,n){return fE(e,n).fold((function(){return aE.none()}),(function(n){return dE(n.all,e,n.index,-1,t)}))}(n,pE))},zE=function(e,t){var n=["table","li","dl"],o=kn.fromDom(e.getBody()),r=function(e){var t=Jt(e);return _n(e,o)||Z(n,t)},i=e.selection.getRng(),a=kn.fromDom(t?i.endContainer:i.startContainer);return sE(a,r).map((function(n){return lE(n,r).each((function(t){e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?ME:NE)(e,r,n).each((function(t){e.selection.setRng(t)})),!0})).getOr(!1)},PE=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){var o=Mt().os;eE([{keyCode:Of.RIGHT,action:ZS(HS,e,!0)},{keyCode:Of.LEFT,action:ZS(HS,e,!1)},{keyCode:Of.UP,action:ZS(VS,e,!1)},{keyCode:Of.DOWN,action:ZS(VS,e,!0)},{keyCode:Of.RIGHT,action:ZS(AE,e,!0)},{keyCode:Of.LEFT,action:ZS(AE,e,!1)},{keyCode:Of.UP,action:ZS(RE,e,!1)},{keyCode:Of.DOWN,action:ZS(RE,e,!0)},{keyCode:Of.RIGHT,action:ZS(nE,e,!0)},{keyCode:Of.LEFT,action:ZS(nE,e,!1)},{keyCode:Of.UP,action:ZS(oE,e,!1)},{keyCode:Of.DOWN,action:ZS(oE,e,!0)},{keyCode:Of.RIGHT,action:ZS(Zk,e,t,!0)},{keyCode:Of.LEFT,action:ZS(Zk,e,t,!1)},{keyCode:Of.RIGHT,ctrlKey:!o.isMacOS(),altKey:o.isMacOS(),action:ZS(nS,e,t)},{keyCode:Of.LEFT,ctrlKey:!o.isMacOS(),altKey:o.isMacOS(),action:ZS(oS,e,t)},{keyCode:Of.UP,action:ZS(KS,e,!1)},{keyCode:Of.DOWN,action:ZS(KS,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},LE=function(e,t){return{container:e,offset:t}},FE=ia.DOM,BE=function(e){return function(t){return e===t?-1:0}},qE=function(e,t,n){if(qo(e)&&t>=0)return K.some(LE(e,t));var o=Pa(FE);return K.from(o.backwards(e,t,BE(e),n)).map((function(e){return LE(e.container,e.container.data.length)}))},IE=function e(t,n,o){if(!qo(t))return K.none();var r=t.textContent;if(n>=0&&n<=r.length)return K.some(LE(t,n));var i=Pa(FE);return K.from(i.backwards(t,n,BE(t),o)).bind((function(t){var r=t.container.data;return e(t.container,n+r.length,o)}))},HE=function e(t,n,o){if(!qo(t))return K.none();var r=t.textContent;if(n<=r.length)return K.some(LE(t,n));var i=Pa(FE);return K.from(i.forwards(t,n,BE(t),o)).bind((function(t){return e(t.container,n-r.length,o)}))},VE=function(e,t,n,o,r){var i=Pa(e,function(e){return function(t){return e.isBlock(t)||Z(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}}(e));return K.from(i.backwards(t,n,o,r))},jE=function(e){return e.collapsed&&3===e.startContainer.nodeType},UE=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},GE=function(e){return""!==e&&-1!==" \xa0\f\n\r\t\v".indexOf(e)},WE=function(e,t){return e.substring(t.length)},$E=function(e,t,n){var o;for(o=t-1;o>=0;o--){var r=e.charAt(o);if(GE(r))return K.none();if(r===n)break}return K.some(o)},KE=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!jE(t))return K.none();var r=function(e,t,o){return $E(o,t,n).getOr(t)},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return VE(e,t.startContainer,t.startOffset,r,i).bind((function(e){var r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return K.none();var i=UE(r);return 0!==i.lastIndexOf(n)||WE(i,n).length<o?K.none():K.some({text:WE(i,n),range:r,triggerChar:n})}))},JE=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return pp(kn.fromDom(t.startContainer)).fold((function(){return KE(e,t,n,o)}),(function(t){var o=e.createRng();o.selectNode(t.dom);var r=UE(o);return K.some({range:o,text:WE(r,n),triggerChar:n})}))},YE=function e(t){if(function(e){return 3===e.nodeType}(t))return LE(t,t.data.length);var n=t.childNodes;return n.length>0?e(n[n.length-1]):LE(t,n.length)},XE=function e(t,n){var o=t.childNodes;return o.length>0&&n<o.length?e(o[n],0):o.length>0&&function(e){return 1===e.nodeType}(t)&&o.length===n?YE(o[o.length-1]):LE(t,n)},QE=function(e){return function(t){var n=XE(t.startContainer,t.startOffset);return!function(e,t){return VE(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!GE(t)})).isSome()}(e,n)}},ZE=function(e,t){var n=t(),o=e.selection.getRng();return function(e,t,n){return Ce(n.triggerChars,(function(n){return JE(e,t,n)}))}(e.dom,o,n).bind((function(n){return eO(e,t,n)}))},eO=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,u=ie(r.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return QE(e.dom)}))(n.range,a,n.text)}));if(0===u.length)return K.none();var s=Promise.all(te(u,(function(e){return e.fetch(n.text,e.maxResults,o).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return K.some({lookupData:s,context:n})};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Fk||(Fk={}));var tO,nO,oO=function(e,t,n){return e.stype===Fk.Error?t(e.serror):n(e.svalue)},rO=function(e){return{stype:Fk.Value,svalue:e}},iO=function(e){return{stype:Fk.Error,serror:e}},aO=function(e){return oO(e,Bu.error,Bu.value)},uO=rO,sO=function(e){var t=[],n=[];return ne(e,(function(e){oO(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},cO=iO,lO=function(e,t){return e.stype===Fk.Error?t(e.serror):e},dO=function(e,t){return e.stype===Fk.Value?{stype:Fk.Value,svalue:t(e.svalue)}:e},fO=function(e,t){return e.stype===Fk.Error?{stype:Fk.Error,serror:t(e.serror)}:e},mO=oO,pO=function(e){return E(e)&&ke(e).length>100?" removed due to size":JSON.stringify(e,null,2)},gO=function(e,t){return cO([{path:e,getErrorInfo:t}])},hO=function(e,t,n,o){return Ne(n,o).fold((function(){return function(e,t,n){return gO(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+pO(t)}))}(e,n,o)}),(function(n){return n.extract(e.concat(["branch: "+o]),t)}))},vO=function(e,t){return{extract:function(n,o){return Ne(o,e).fold((function(){return function(e,t){return gO(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return hO(n,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+ke(t)}}},bO=function(e){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var t={},n=0;n<arguments.length;n++){var o=n<0||arguments.length<=n?void 0:arguments[n];for(var r in o)ze(o,r)&&(t[r]=e(t[r],o[r]))}return t}},yO=bO((function(e,t){return O(e)&&O(t)?yO(e,t):t})),xO=(bO((function(e,t){return t})),function(e){return{tag:"defaultedThunk",process:q(e)}}),wO=function(e){return F(cO,de)(e)},CO=function(e){var t=sO(e);return t.errors.length>0?wO(t.errors):uO(t.values)},kO=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},SO=function(e){return{extract:function(t,n){return lO(e(n),(function(e){return function(e,t){return gO(e,q(t))}(t,e)}))},toString:q("val")}},EO=SO(uO),OO=function(e,t,n,o){return Ne(t,n).fold((function(){return function(e,t,n){return gO(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+pO(n)}))}(e,n,t)}),o)},_O=function(e,t,n,o){return o(Ne(e,t).getOrThunk((function(){return n(e)})))},TO=function(e,t,n,o,r){var i=function(e){return r.extract(t.concat([o]),e)},a=function(e){return e.fold((function(){return uO(K.none())}),(function(e){var n=r.extract(t.concat([o]),e);return dO(n,K.some)}))};switch(e.tag){case"required":return OO(t,n,o,i);case"defaultedThunk":return _O(n,o,e.process,i);case"option":return function(e,t,n){return n(Ne(e,t))}(n,o,a);case"defaultedOptionThunk":return function(e,t,n,o){return o(Ne(e,t).map((function(t){return!0===t?n(e):t})))}(n,o,e.process,a);case"mergeWithThunk":return _O(n,o,q({}),(function(t){var o=yO(e.process(n),t);return i(o)}))}},AO=function(e){return{extract:function(t,n){return function(e,t,n){var o,r={},i=[],s=u(n);try{for(s.s();!(o=s.n()).done;){var c=o.value;kO(c,(function(n,o,u,s){var c=TO(u,e,t,n,s);mO(c,(function(e){i.push.apply(i,a(e))}),(function(e){r[o]=e}))}),(function(e,n){r[e]=n(t)}))}}catch(l){s.e(l)}finally{s.f()}return i.length>0?cO(i):uO(r)}(t,n,e)},toString:function(){var t=te(e,(function(e){return kO(e,(function(e,t,n,o){return e+" -> "+o.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"}}},RO=function(e){return{extract:function(t,n){var o=te(n,(function(n,o){return e.extract(t.concat(["["+o+"]"]),n)}));return CO(o)},toString:function(){return"array("+e.toString()+")"}}},DO=function(e,t,n){return aO(function(e,t,n){var o=t.extract([e],n);return fO(o,(function(e){return{input:n,errors:e}}))}(e,t,n))},MO=function(e){return"Errors: \n"+function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:q("... (only showing first ten failures)")}]):e;return te(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))}(e.errors).join("\n")+"\n\nInput object: "+pO(e.input)},NO=function(e,t){return vO(e,Oe(t,AO))},zO=q(EO),PO=function(e,t){return SO((function(n){var o=typeof n;return e(n)?uO(n):cO("Expected type: ".concat(t," but got: ").concat(o))}))},LO=PO(z,"number"),FO=PO(S,"string"),BO=PO(A,"boolean"),qO=PO(N,"function"),IO=function(e,t,n,o){return{tag:"field",key:e,newKey:t,presence:n,prop:o}},HO=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},VO=function(e){return t=function(t){return Z(e,t)?Bu.value(t):Bu.error('Unsupported value: "'.concat(t,'", choose one of "').concat(e.join(", "),'".'))},SO((function(e){return t(e).fold(cO,uO)}));var t},jO=function(e,t){return IO(e,e,{tag:"required",process:{}},t)},UO=function(e){return jO(e,FO)},GO=function(e){return jO(e,qO)},WO=function(e,t){return IO(e,e,{tag:"option",process:{}},t)},$O=function(e){return WO(e,FO)},KO=function(e,t,n){return IO(e,e,xO(t),n)},JO=function(e,t){return KO(e,t,LO)},YO=function(e,t,n){return KO(e,t,VO(n))},XO=function(e,t){return KO(e,t,BO)},QO=function(e,t){return KO(e,t,qO)},ZO=UO("type"),e_=GO("fetch"),t_=GO("onAction"),n_=QO("onSetup",(function(){return L})),o_=$O("text"),r_=$O("icon"),i_=$O("tooltip"),a_=$O("label"),u_=XO("active",!1),s_=XO("enabled",!0),c_=XO("primary",!1),l_=function(e){return function(e,t){return KO(e,t,FO)}("type",e)},d_=AO([ZO,UO("ch"),JO("minChars",1),(nO=1,function(e,t){return IO(e,e,xO(t),zO())}("columns",nO)),JO("maxResults",10),(tO="matches",WO(tO,qO)),e_,t_,function(e,t,n){return KO(e,t,RO(n))}("highlightOn",[],FO)]),f_=[s_,i_,r_,o_,n_],m_=[u_].concat(f_),p_=[QO("predicate",W),YO("scope","node",["node","editor"]),YO("position","selection",["node","selection","line"])],g_=f_.concat([l_("contextformbutton"),c_,t_,HO("original",I)]),h_=m_.concat([l_("contextformbutton"),c_,t_,HO("original",I)]),v_=f_.concat([l_("contextformbutton")]),b_=m_.concat([l_("contextformtogglebutton")]),y_=NO("type",{contextformbutton:g_,contextformtogglebutton:h_});AO([l_("contextform"),QO("initValue",q("")),a_,function(e,t){return IO(e,e,{tag:"required",process:{}},RO(t))}("commands",y_),WO("launch",NO("type",{contextformbutton:v_,contextformtogglebutton:b_}))].concat(p_));var x_,w_=function(e){var t=e.ui.registry.getAll().popups,n=Oe(t,(function(e){return(t=e,DO("Autocompleter",d_,t)).fold((function(e){throw new Error(MO(e))}),I);var t})),o=Le(De(n,(function(e){return e.ch}))),r=Me(n);return{dataset:n,triggerChars:o,lookupByChar:function(e){return ie(r,(function(t){return t.ch===e}))}}},C_=function(e){var t=pa(),n=sa(!1),o=t.isSet,r=function(){o()&&(!function(e){Cx(e).autocompleter.removeDecoration()}(e),function(e){e.dispatch("AutocompleterEnd")}(e),n.set(!1),t.clear())},i=function(n){o()||(!function(e,t){Cx(e).autocompleter.addDecoration(t)}(e,n.range),t.set({triggerChar:n.triggerChar,matchLength:n.text.length}))},a=Ge((function(){return w_(e)})),u=function(o){(function(n){return t.get().map((function(t){return JE(e.dom,e.selection.getRng(),t.triggerChar).bind((function(t){return eO(e,a,t,n)}))})).getOrThunk((function(){return ZE(e,a)}))})(o).fold(r,(function(o){i(o.context),o.lookupData.then((function(i){t.get().map((function(a){var u=o.context;a.triggerChar===u.triggerChar&&(u.text.length-a.matchLength>=10?r():(t.set(c(c({},a),{},{matchLength:u.text.length})),n.get()?function(e,t){e.dispatch("AutocompleterUpdate",t)}(e,{lookupData:i}):(n.set(!0),function(e,t){e.dispatch("AutocompleterStart",t)}(e,{lookupData:i}))))}))}))}))};e.addCommand("mceAutocompleterReload",(function(e,t){var n=E(t)?t.fetchOptions:{};u(n)})),e.addCommand("mceAutocompleterClose",r),function(e,t){var n=ha(t.load,50);e.on("keypress compositionend",(function(e){27!==e.which&&n.throttle()})),e.on("keydown",(function(e){var o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()})),e.on("remove",n.cancel)}(e,{cancelIfNecessary:r,load:u})},k_=function(e){return function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:L,inputType:n},a=Vi(new InputEvent(e));return t.dispatch(e,c(c(c({},a),i),o))}},S_=k_("input"),E_=k_("beforeinput"),O_=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){var o=n.keyCode===Of.BACKSPACE?"deleteContentBackward":"deleteContentForward";tE([{keyCode:Of.BACKSPACE,action:ZS(CS,e)},{keyCode:Of.BACKSPACE,action:ZS(IC,e,!1)},{keyCode:Of.DELETE,action:ZS(IC,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(DC,e,!1)},{keyCode:Of.DELETE,action:ZS(DC,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(sS,e,t,!1)},{keyCode:Of.DELETE,action:ZS(sS,e,t,!0)},{keyCode:Of.BACKSPACE,action:ZS(kh,e,!1)},{keyCode:Of.DELETE,action:ZS(kh,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(HC,e,!1)},{keyCode:Of.DELETE,action:ZS(HC,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(pS,e,!1)},{keyCode:Of.DELETE,action:ZS(pS,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(CC,e,!1)},{keyCode:Of.DELETE,action:ZS(CC,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(bC,e,!1)},{keyCode:Of.DELETE,action:ZS(bC,e,!0)},{keyCode:Of.BACKSPACE,action:ZS(fS,e,!1)},{keyCode:Of.DELETE,action:ZS(fS,e,!0)}],n).each((function(t){n.preventDefault(),E_(e,o).isDefaultPrevented()||(t(),S_(e,o))}))}(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&function(e,t){eE([{keyCode:Of.BACKSPACE,action:ZS(qC,e)},{keyCode:Of.DELETE,action:ZS(qC,e)}],t)}(e,t)}))},__=function(e,t){var n,o=t,r=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(r.doc.createTextNode(kr),t.firstChild)}var u=r.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new lr(t,t);n=s.current();){if(qo(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=s.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else Go(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Am(e,u)}},T_=function(e){return K.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},A_=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},R_=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},D_=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},M_=function(e,t,n){for(var o=e[n?"firstChild":"lastChild"];o&&!Do(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},N_=function(e,t,n,o,r){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var u;R_(u=n)&&R_(u.parentNode)&&(r="LI");var s=t(r);if(M_(n,o,!0)&&M_(n,o,!1))if(A_(n,"LI")){var c=D_(n);i.insertAfter(s,c),!function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}(n)?i.remove(n):i.remove(c)}else i.replace(s,n);else if(M_(n,o,!0))A_(n,"LI")?(i.insertAfter(s,D_(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n),i.remove(o);else if(M_(n,o,!1))i.insertAfter(s,D_(n)),i.remove(o);else{n=D_(n);var l=a.cloneRange();l.setStartAfter(o),l.setEndAfter(n);var d=l.extractContents();"LI"===r&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(d,"LI")?(s=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(s,n)),i.remove(o)}__(e,s)}},z_=function(e){ne(va(kn.fromDom(e),Zt),(function(e){var t=e.dom;t.nodeValue=_r(t.nodeValue)}))},P_=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},L_=function(e){e.innerHTML='<br data-mce-bogus="1">'},F_=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},B_=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},q_=function(e,t,n){return!1===qo(t)?n:e?1===n&&t.data.charAt(n-1)===Er?0:n:n===t.data.length-1&&t.data.charAt(n)===Er?t.data.length:n},I_=function(e,t){var n,o,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(o=n),n=n.parentNode;return n!==r?o:r},H_=function(e,t){ss(e).toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){var o=e.dom;K.from(n.style).map(o.parseStyle).each((function(e){var n=ro(kn.fromDom(t)),r=c(c({},n),e);o.setStyles(t,r)}));var r=K.from(n.class).map((function(e){return e.split(/\s+/)})),i=K.from(t.className).map((function(e){return ie(e.split(/\s+/),(function(e){return""!==e}))}));Gt(r,i,(function(e,n){var r=ie(n,(function(t){return!Z(e,t)})),i=[].concat(a(e),a(r));o.setAttrib(t,"class",i.join(" "))}));var u=["style","class"],s=Re(n,(function(e,t){return!Z(u,t)}));o.setAttribs(t,s)}(e,t,cs(e))},V_=function(e,t){var n,o,r,i,a,u,s,c,l,d=e.dom,f=e.schema,m=f.getNonEmptyElements(),p=e.selection.getRng(),g=ss(e),h=function(t){var n,r,a,u=o,s=f.getTextInlineElements();if(a=n=t||"TABLE"===c||"HR"===c?d.create(t||g):i.cloneNode(!1),!1===fs(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(s[u.nodeName]){if(Jl(u)||ud(u))continue;r=u.cloneNode(!1),d.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(a=r,n.appendChild(r))}}while((u=u.parentNode)&&u!==w);return H_(e,n),L_(a),n},v=function(e){var t,n,a=q_(e,o,r);if(qo(o)&&(e?a>0:a<o.nodeValue.length))return!1;if(o.parentNode===i&&l&&!e)return!0;if(e&&Do(o)&&o===i.firstChild)return!0;if(F_(o,"TABLE")||F_(o,"HR"))return l&&!e||!l&&e;var u=new lr(o,i);for(qo(o)&&(e&&0===a?u.prev():e||a!==o.nodeValue.length||u.next());t=u.current();){if(Do(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),m[n]&&"br"!==n))return!1}else if(qo(t)&&!Zr(t.nodeValue))return!1;e?u.prev():u.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==C?h(g):h(),ms(e)&&B_(d,s)&&d.isEmpty(i)?a=d.split(s,i):d.insertAfter(a,i),__(e,a)};om(d,p).each((function(e){p.setStart(e.startContainer,e.startOffset),p.setEnd(e.endContainer,e.endOffset)})),o=p.startContainer,r=p.startOffset;var y=!(!t||!t.shiftKey),x=!(!t||!t.ctrlKey);Do(o)&&o.hasChildNodes()&&(l=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,r=l&&qo(o)?o.nodeValue.length:0);var w=I_(d,o);if(w){y||(o=function(e,t,n,o,r){var i,a,u,s,c,l,d=e.dom,f=I_(d,o);if(!(a=d.getParent(o,d.isBlock))||!B_(d,a)){if(l=(a=a||f)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(t),H_(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=o;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(l,t.toLowerCase())){for(i=d.create(t),H_(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!d.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;n.setStart(o,r),n.setEnd(o,r)}}return o}(e,g,p,o,r)),i=d.getParent(o,d.isBlock),s=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var C=s?s.nodeName.toUpperCase():"";"LI"!==C||x||(i=s,s=s.parentNode,c=C),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i)?N_(e,h,s,i,g):i!==e.getBody()&&(Rr(i)?(a=qr(i),d.isEmpty(i)&&L_(i),H_(e,a),__(e,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(h(),i),__(e,F_(i,"HR")?a:i)):(n=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,q_(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,q_(!1,e.endContainer,e.endOffset)),t}(p).cloneRange(),n.setEndAfter(i),u=n.extractContents(),z_(u),function(e){do{qo(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(u),a=u.firstChild,d.insertAfter(u,i),function(e,t,n){var o,r=n,i=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;Do(r)&&!t[r.nodeName.toLowerCase()]&&i.push(r)}for(o=i.length;o--;)(!(r=i[o]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue||P_(e,r))&&e.remove(r)}}(d,m,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(d,i),d.isEmpty(i)&&L_(i),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):(H_(e,a),__(e,a))),d.setAttrib(a,"id",""),e.dispatch("NewBlock",{newBlock:a}))}},j_=function(e,t,n){var o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),Am(e,o)},U_=function(e,t){var n,o,r=e.selection,i=e.dom,a=r.getRng();om(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),d=l?i.getParent(l.parentNode,i.isBlock):null,f=d?d.nodeName.toUpperCase():"",m=!(!t||!t.ctrlKey);"LI"!==f||m||(l=d),s&&3===s.nodeType&&u>=s.nodeValue.length&&(function(e,t,n){for(var o,r=new lr(t,n),i=e.getNonEmptyElements();o=r.next();)if(i[o.nodeName.toLowerCase()]||o.length>0)return!0}(e.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),o=!0)),n=i.create("br"),pu(i,a,n),j_(e,n,o),e.undoManager.add()},G_=function(e,t){var n=kn.fromTag("br");ao(kn.fromDom(t),n),e.undoManager.add()},W_=function(e,t){$_(e.getBody(),t)||uo(kn.fromDom(t),kn.fromTag("br"));var n=kn.fromTag("br");uo(kn.fromDom(t),n),j_(e,n.dom,!1),e.undoManager.add()},$_=function(e,t){return n=fu.after(t),!!Go(n.getNode())||Ul(e,fu.after(t)).map((function(e){return Go(e.getNode())})).getOr(!1);var n},K_=function(e){return e&&"A"===e.nodeName&&"href"in e},J_=function(e){return e.fold(W,K_,K_,W)},Y_=function(e,t){t.fold(L,V(G_,e),V(W_,e),L)},X_=function(e,t){var n=function(e){var t=V(Jw,e),n=fu.fromRangeStart(e.selection.getRng());return sk(t,e.getBody(),n).filter(J_)}(e);n.isSome()?n.each(V(Y_,e)):U_(e,t)},Q_=function(e,t){return T_(e).filter((function(e){return t.length>0&&En(kn.fromDom(e),t)})).isSome()},Z_=qu([{br:[]},{block:[]},{none:[]}]),eT=function(e,t){return function(e){return Q_(e,ds(e))}(e)},tT=function(e){return function(t,n){return function(e){return T_(e).filter((function(e){return br(kn.fromDom(e))})).isSome()}(t)===e}},nT=function(e,t){return function(n,o){var r=function(e){return T_(e).fold(q(""),(function(e){return e.nodeName.toUpperCase()}))}(n)===e.toUpperCase();return r===t}},oT=function(e){return nT("pre",e)},rT=function(e){return function(t,n){return us(t)===e}},iT=function(e,t){return function(e){return Q_(e,ls(e))}(e)},aT=function(e,t){return t},uT=function(e){var t=ss(e),n=function(e,t){var n,o,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(o=n),n=n.parentNode;return n!==r?o:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t)},sT=function(e,t){return function(n,o){return ue(e,(function(e,t){return e&&t(n,o)}),!0)?K.some(t):K.none()}},cT=function(e,t){(function(e,t){return QC([sT([eT],Z_.none()),sT([nT("summary",!0)],Z_.br()),sT([oT(!0),rT(!1),aT],Z_.br()),sT([oT(!0),rT(!1)],Z_.block()),sT([oT(!0),rT(!0),aT],Z_.block()),sT([oT(!0),rT(!0)],Z_.br()),sT([tT(!0),aT],Z_.br()),sT([tT(!0)],Z_.block()),sT([iT],Z_.br()),sT([aT],Z_.br()),sT([uT],Z_.block())],[e,!(!t||!t.shiftKey)]).getOr(Z_.none())})(e,t).fold((function(){if(M(t)&&E_(e,"insertLineBreak").isDefaultPrevented())return;X_(e,t),M(t)&&S_(e,"insertLineBreak")}),(function(){if(M(t)&&E_(e,"insertParagraph").isDefaultPrevented())return;V_(e,t),M(t)&&S_(e,"insertParagraph")}),L)},lT=function(e){e.on("keydown",(function(t){t.keyCode===Of.ENTER&&function(e,t){var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&nC(e),cT(e,t)})))}(e,t)}))},dT=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){eE([{keyCode:Of.END,action:ZS(jS,e,!0)},{keyCode:Of.HOME,action:ZS(jS,e,!1)},{keyCode:Of.END,action:ZS(rE,e,!0)},{keyCode:Of.HOME,action:ZS(rE,e,!1)},{keyCode:Of.END,action:ZS(rS,e,!0,t)},{keyCode:Of.HOME,action:ZS(rS,e,!1,t)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},fT=function(e){e.on("input",(function(t){!1===t.isComposing&&function(e){var t=kn.fromDom(e.getBody());e.selection.isCollapsed()&&Rg(t,fu.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}(e)}))},mT=Mt(),pT=function(e){return e.stopImmediatePropagation()},gT=function(e){return e.keyCode===Of.PAGE_UP||e.keyCode===Of.PAGE_DOWN},hT=function(e,t,n){n&&!e.get()?t.on("NodeChange",pT,!0):!n&&e.get()&&t.off("NodeChange",pT),e.set(n)},vT=function(e,t){if(!mT.os.isMacOS()){var n=sa(!1);e.on("keydown",(function(t){gT(t)&&hT(n,e,!0)})),e.on("keyup",(function(o){!1===o.isDefaultPrevented()&&function(e,t,n){eE([{keyCode:Of.PAGE_UP,action:ZS(rS,e,!1,t)},{keyCode:Of.PAGE_DOWN,action:ZS(rS,e,!0,t)}],n)}(e,t,o),gT(o)&&n.get()&&(hT(n,e,!1),e.nodeChanged())}))}},bT=function(e,t){var n=t.container(),o=t.offset();return qo(n)?(n.insertData(o,e),K.some(fu(n,o+e.length))):xl(t).map((function(n){var o=kn.fromText(e);return t.isAtEnd()?uo(n,o):ao(n,o),fu(o.dom,e.length)}))},yT=V(bT,kr),xT=V(bT," "),wT=function(e,t){return function(n){return function(e,t){return!Cg(t)&&(kg(e,t)||xg(e,t)||wg(e,t))}(e,n)?yT(t):xT(t)}},CT=function(e){var t=fu.fromRangeStart(e.selection.getRng()),n=kn.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=V(Jw,e),r=fu.fromRangeStart(e.selection.getRng());return sk(o,e.getBody(),r).bind(function(e){return function(t){return t.fold((function(t){return Gl(e.dom,fu.before(t))}),(function(e){return Wl(e)}),(function(e){return $l(e)}),(function(t){return Ul(e.dom,fu.after(t))}))}}(n)).map((function(o){return function(){return wT(n,t)(o).each(function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}}(e))}}))}return K.none()},kT=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&function(e,t){tE([{keyCode:Of.SPACEBAR,action:ZS(CT,e)}],t).each((function(n){t.preventDefault(),E_(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),S_(e,"insertText",{data:" "}))}))}(e,t)}))},ST=function(e,t){eE(a(function(e){return Mc(e)?[{keyCode:Of.TAB,action:ZS(zE,e,!0)},{keyCode:Of.TAB,shiftKey:!0,action:ZS(zE,e,!1)}]:[]}(e)),t).each((function(e){t.preventDefault()}))},ET=function(e){if(e.addShortcut("Meta+P","","mcePrint"),C_(e),yx(e))return sa(null);var t=tS(e);return function(e){e.on("keyup compositionstart",V(LS,e))}(e),PE(e,t),O_(e,t),lT(e),kT(e),fT(e),function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&ST(e,t)}))}(e),dT(e,t),vT(e,t),t},OT=function(){function e(t){var n;l(this,e),this.lastPath=[],this.editor=t;var o=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(e){var o=t.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==e.type&&Kf(r,n)||t.dispatch("SelectionChange"),n=r})),t.on("contextmenu",(function(){t.dispatch("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);e&&uf(t)&&!o.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&uf(t)&&("IMG"===t.selection.getNode().nodeName?jm.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return d(e,[{key:"nodeChanged",value:function(e){var t,n,o,r=this.editor.selection;this.editor.initialized&&r&&!ec(this.editor)&&!this.editor.mode.isReadOnly()&&(o=this.editor.getBody(),(t=r.getStart(!0)||o).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,o)||(t=o),n=[],this.editor.dom.getParent(t,(function(e){if(e===o)return!0;n.push(e)})),(e=e||{}).element=t,e.parents=n,this.editor.dispatch("NodeChange",e))}},{key:"isSameElementPath",value:function(e){var t,n=this.editor,o=pe(n.dom.getParents(e,$,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}]),e}(),_T="x-tinymce/html",TT=q(_T),AT="\x3c!-- x-tinymce/html --\x3e",RT=function(e){return AT+e},DT=function(e){return-1!==e.indexOf(AT)},MT=function(e,t,n){var o=e.split(/\n\n/),r=function(e,t){var n="<"+e,o=De(t,(function(e,t){return t+'="'+Ti.encodeAllRaw(e)+'"'}));return o.length&&(n+=" "+o.join(" ")),n+">"}(t,n),i="</"+t+">",a=te(o,(function(e){return e.split(/\n/).join("<br />")}));return 1===a.length?a[0]:te(a,(function(e){return r+e+i})).join("")},NT="%MCEPASTEBIN%",zT=function(e){return e.dom.get("mcepastebin")},PT=function(e){return e&&"mcepastebin"===e.id},LT=function(e){return e===NT},FT=function(e){var t=sa(null);return{create:function(){return function(e,t){var n=e.dom,o=e.selection,r=e.getBody();t.set(o.getRng());var i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},NT);qt.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(r,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),i.focus(),o.select(i,!0)}(e,t)},remove:function(){return function(e,t){var n=e.dom;if(zT(e)){for(var o,r=t.get();o=zT(e);)n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)}(e,t)},getEl:function(){return zT(e)},getHtml:function(){return function(e){var t=e.dom,n=function(e,n){e.appendChild(n),t.remove(n,!0)},o=ie(e.getBody().childNodes,PT),i=r(o),a=i[0],u=i.slice(1);ne(u,(function(e){n(a,e)}));for(var s=t.select("div[id=mcepastebin]",a),c=s.length-1;c>=0;c--){var l=t.create("div");a.insertBefore(l,s[c]),n(l,s[c])}return a?a.innerHTML:""}(e)},getLastRng:t.get}},BT=function(e,t){return jt.each(t,(function(t){e=k(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e},qT=function(e){return e=BT(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?kr:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},IT=function(e,t){return{content:e,cancelled:t}},HT=function(e,t,n){var o=function(e,t,n){return e.dispatch("PastePreProcess",{content:t,internal:n})}(e,t,n),r=function(e,t){var n=Ny({},e.schema);n.addNodeFilter("meta",(function(e){jt.each(e,(function(e){e.remove()}))}));var o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Dp({validate:!0},e.schema).serialize(o)}(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(e,t,n){var o=e.dom.create("div",{style:"display:none"},t),r=function(e,t,n){return e.dispatch("PastePostProcess",{node:t,internal:n})}(e,o,n);return IT(r.node.innerHTML,r.isDefaultPrevented())}(e,r,n):IT(r,o.isDefaultPrevented())},VT=function(e,t){return e.insertContent(t,{merge:Cc(e),paste:!0}),!0},jT=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},UT=function(e,t,n){return!(e.selection.isCollapsed()||!jT(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,n)},GT=function(e,t,n){return!!function(e,t){return jT(t)&&ee(Dc(e),(function(e){return Ze(t.toLowerCase(),".".concat(e.toLowerCase()))}))}(e,t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},WT=function(e,t,n){n||!kc(e)?VT(e,t):function(e,t){jt.each([UT,GT,VT],(function(n){return!0!==n(e,t,VT)}))}(e,t)},$T=function(e){var t=0;return function(){return e+t++}}("mceclip"),KT=function(e,t,n,o){var r=function(e,t,n){return HT(e,t,n)}(e,t,n);!1===r.cancelled&&WT(e,r.content,o)},JT=function(e,t,n){var o=n||DT(t);KT(e,function(e){return e.replace(AT,"")}(t),o,!1)},YT=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),o=oi(n,Ec(e)),r=MT(o,ss(e),cs(e));KT(e,r,!1,!0)},XT=function(e){var t={};if(e&&e.types)for(var n=0;n<e.types.length;n++){var o=e.types[n];try{t[o]=e.getData(o)}catch(r){t[o]=""}}return t},QT=function(e,t){return t in e&&e[t].length>0},ZT=function(e){return QT(e,"text/html")||QT(e,"text/plain")},eA=function(e,t,n,o){var r=$T(),i=gs(e)&&M(n.name),a=i?function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return M(n)?e.dom.encode(n[1]):null}(e,n.name):r,u=i?n.name:void 0,s=t.create(r,n,o,a,u);return t.add(s),s},tA=function(e){var t=Dc(e);return function(e){return Qe(e.type,"image/")&&ee(t,(function(t){return function(e){var t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return jt.hasOwn(n,t)?"image/"+n[t]:"image/"+t}(t)===e.type}))}},nA=function(e,t,n){var o,r="paste"===t.type?t.clipboardData:t.dataTransfer;if(vc(e)&&r){var i=function(e,t){var n=t.items?fe(we(t.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]})):[],o=t.files?we(t.files):[];return ie(n.length>0?n:o,tA(e))}(e,r);if(i.length>0)return t.preventDefault(),(o=i,Promise.all(te(o,(function(e){return uy(e).then((function(t){return{file:e,uri:t}}))})))).then((function(t){n&&e.selection.setRng(n),ne(t,(function(t){!function(e,t){var n=ry(t.uri),o=n.data,r=n.type,i=t.file,a=e.editorUpload.blobCache,u=a.getByData(o,r),s=null!==u&&void 0!==u?u:eA(e,a,i,o);JT(e,'<img src="'.concat(s.blobUri(),'">'),!1)}(e,t)}))})),!0}return!1},oA=function(e,t,n,o){var r=qT(n),i=QT(t,TT())||DT(n),a=!i&&function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)}(r),u=jT(r);(LT(r)||!r.length||a&&!u)&&(o=!0),(o||u)&&(r=QT(t,"text/plain")&&a?t["text/plain"]:function(e){var t=Bi(),n=Ny({},t),o="",r=t.getVoidElements(),i=jt.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements();return e=BT(e,[/<!\[[^\]]+\]>/g]),function e(n){var u=n.name,s=n;if("br"!==u){if("wbr"!==u)if(r[u]&&(o+=" "),i[u])o+=" ";else{if(3===n.type&&(o+=n.value),!(n.name in t.getVoidElements())&&(n=n.firstChild))do{e(n)}while(n=n.next);a[u]&&s.next&&(o+="\n","p"===u&&(o+="\n"))}}else o+="\n"}(n.parse(e)),o}(r)),LT(r)||(o?YT(e,r):JT(e,r,i))},rA=function(e,t,n){var o;e.on("keydown",(function(e){(function(e){return Of.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode})(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(function(r){if(!r.isDefaultPrevented()&&!function(e){var t,n;return qt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)}(r)){var i="text"===n.get()||o;o=!1;var a=XT(r.clipboardData);!ZT(a)&&nA(e,r,t.getLastRng()||e.selection.getRng())||(QT(a,"text/html")?(r.preventDefault(),oA(e,a,a["text/html"],i)):(t.create(),jm.setEditorTimeout(e,(function(){var n=t.getHtml();t.remove(),oA(e,a,n,i)}),0)))}}))},iA=function(e,t,n){rA(e,t,n),function(e){var t=function(e){return Qe(e,"webkit-fake-url")},n=function(e){return Qe(e,"data:")};e.parser.addNodeFilter("img",(function(o,r,i){if(!vc(e)&&function(e){var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)}(i)){var a,s=u(o);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.attr("src");S(l)&&!c.attr("data-mce-object")&&l!==qt.transparentSrc&&(t(l)||!Oc(e)&&n(l))&&c.remove()}}catch(d){s.e(d)}finally{s.f()}}}))}(e)},aA=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){!function(e,t){"text"===t.get()?(t.set("html"),Ef(e,!1)):(t.set("text"),Ef(e,!0)),e.focus()}(e,t)})),e.addCommand("mceInsertClipboardContent",(function(t,n){n.html&&JT(e,n.html,n.internal),n.text&&YT(e,n.text)}))},uA=function(e,t,n,o){!function(e,t,n){try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(TT(),t),!0}catch(o){return!1}}(e.clipboardData,t.html,t.text)?n(t.html,o):(e.preventDefault(),o())},sA=function(e){return function(t,n){var o=e.dom,r=e.selection,i=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=o.create("div",{contenteditable:"true"},t);o.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(a),o.add(e.getBody(),i);var u=r.getRng();a.focus();var s=o.createRng();s.selectNodeContents(a),r.setRng(s),jm.setEditorTimeout(e,(function(){r.setRng(u),o.remove(i),n()}),0)}},cA=function(e){return{html:RT(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}},lA=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},dA=function(e){e.on("cut",function(e){return function(t){!t.isDefaultPrevented()&&lA(e)&&uA(t,cA(e),sA(e),(function(){if(qt.browser.isChromium()||qt.browser.isFirefox()){var t=e.selection.getRng();jm.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}(e)),e.on("copy",function(e){return function(t){!t.isDefaultPrevented()&&lA(e)&&uA(t,cA(e),sA(e),L)}}(e))},fA=function(e,t){var n,o;return am.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},mA=function(e,t){e.focus(),t&&e.selection.setRng(t)},pA=function(e,t){hc(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),vc(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&function(e){return ee(e.files,(function(e){return/^image\//.test(e.type)}))}(t)&&e.preventDefault()})),e.on("drop",(function(n){if(!n.isDefaultPrevented()&&!t.get()){var o=fA(e,n);if(!D(o)){var r=XT(n.dataTransfer),i=QT(r,TT());if(ZT(r)&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(r)||!nA(e,n,o)){var a=r[TT()],u=a||r["text/html"]||r["text/plain"];u&&(n.preventDefault(),jm.setEditorTimeout(e,(function(){e.undoManager.transact((function(){a&&e.execCommand("Delete"),mA(e,o);var t=qT(u);r["text/html"]?JT(e,t,i):YT(e,t)}))})))}}}})),e.on("dragstart",(function(e){t.set(!0)})),e.on("dragover dragend",(function(n){vc(e)&&!1===t.get()&&(n.preventDefault(),mA(e,fA(e,n))),"dragend"===n.type&&t.set(!1)}))},gA=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,hA=function(e){return jt.trim(e).replace(gA,vd).toLowerCase()},vA=function(e,t,n){var o=xc(e);if(n||"all"===o||!wc(e))return t;var r=o?o.split(/[, ]/):[];if(r&&"none"!==o){var i=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,o){for(var u=i.parseStyle(i.decode(n)),s={},c=0;c<r.length;c++){var l=u[r[c]],d=l,f=i.getStyle(a,r[c],!0);/color/.test(r[c])&&(d=hA(d),f=hA(f)),f!==d&&(s[r[c]]=l)}var m=i.serializeStyle(s,"span");return m?t+' style="'+m+'"'+o:t+o}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,o){return t+' style="'+n+'"'+o})),t},bA=function(e){var t=sa(!1),n=sa(Sc(e)?"text":"html"),o=FT(e);!function(e){(qt.browser.isChromium()||qt.browser.isSafari())&&function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal)}))}(e,vA)}(e),aA(e,n),function(e){var t=function(t){return function(n){t(e,n)}},n=bc(e);N(n)&&e.on("PastePreProcess",t(n));var o=yc(e);N(o)&&e.on("PastePostProcess",t(o))}(e),e.on("PreInit",(function(){dA(e),pA(e,t),iA(e,o,n)}))},yA=function(e){!function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}(e),function(e){e.parser.addNodeFilter("details",(function(e){ne(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){ne(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",S(t)?t:null),e.attr("data-mce-open",null)}))}))}(e)},xA=function(e){return Do(e)&&hr(kn.fromDom(e))},wA=function(e){e.on("click",(function(t){t.detail>=3&&function(e){var t=e.selection.getRng(),n=fu.fromRangeStart(t),o=fu.fromRangeEnd(t);if(fu.isElementPosition(n)){var r=n.container();xA(r)&&Wl(r).each((function(e){return t.setStart(e.container(),e.offset())}))}if(fu.isElementPosition(o)){var i=n.container();xA(i)&&$l(i).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(Lh(t))}(e)}))};!function(e){e.Before="before",e.After="after"}(x_||(x_={}));var CA,kA,SA=function(e,t){return Math.abs(e.left-t)},EA=function(e,t){return Math.abs(e.right-t)},OA=function(e,t){var n=function(e,t){return Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))}(e,t)/Math.min(e.height,t.height);return function(e,t){return e.top<t.bottom&&e.bottom>t.top}(e,t)&&n>.5},_A=function(e,t){return function(e){return ue(e,(function(e,t){return e.fold((function(){return K.some(t)}),(function(e){var n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return K.some({top:o,right:r,bottom:i,left:n,width:r-n,height:i-o})}))}),K.none())}(ie(e,(function(e){return(n=t)>=(o=e).top&&n<=o.bottom;var n,o}))).fold((function(){return[[],e]}),(function(t){var n=re(e,(function(e){return OA(e,t)}));return[n.pass,n.fail]}))},TA=function(e,t,n){return t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t))},AA=function e(t,n,o){var r=function(t){return Jr(t.node)?K.some(t):Do(t.node)?e(we(t.node.childNodes),n,o):K.none()},a=function(e,t){var i=ve(e,(function(e,r){return t(e,n,o)-t(r,n,o)}));return function(e,t){if(e.length>=2){var i=r(e[0]).getOr(e[0]),a=r(e[1]).getOr(e[1]);if(Math.abs(t(i,n,o)-t(a,n,o))<2){if(qo(i.node))return K.some(i);if(qo(a.node))return K.some(a)}}return K.none()}(i,t).orThunk((function(){return Ce(i,r)}))},u=_A(Lk(t),o),s=i(u,2),c=s[0],l=s[1],d=re(l,(function(e){return e.top<o})),f=d.pass,m=d.fail;return a(c,TA).orThunk((function(){return a(m,Va)})).orThunk((function(){return a(f,Va)}))},RA=function(e,t,n,o){return function t(r,i){return i.fold((function(){return AA(we(r.dom.childNodes),n,o)}),(function(e){var t=ie(we(r.dom.childNodes),(function(t){return t!==e.dom}));return AA(t,n,o)})).orThunk((function(){var n;return(_n(r,e)?K.none():(n=r,K.from(n.dom.parentElement).map(kn.fromDom))).bind((function(e){return t(e,K.some(r))}))}))}(t,K.none())},DA=function(e,t,n){return function(e,t,n){var o=kn.fromDom(e),r=Rn(o),i=kn.fromPoint(r,t,n).filter((function(e){return Tn(o,e)})).getOr(o);return RA(o,i,t,n)}(e,t,n).filter((function(e){return Yc(e.node)})).map((function(e){return function(e,t){return{node:e.node,position:SA(e,t)<EA(e,t)?x_.Before:x_.After}}(e,t)}))},MA=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,r=n.defaultView;return{top:t.top+r.pageYOffset-o.clientTop,left:t.left+r.pageXOffset-o.clientLeft}},NA=function(e,t){return n=function(e){return e.inline?MA(e.getBody()):{left:0,top:0}}(e),o=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),r=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=MA(e.getContentAreaContainer()),o=function(e){var t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:r}(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}}(e,t),{pageX:r.left-n.left+o.left,pageY:r.top-n.top+o.top};var n,o,r},zA=Ko,PA=$o,LA=function(e,t,n,o){var r=e.dom,i=t.cloneNode(!0);r.setStyles(i,{width:n,height:o}),r.setAttrib(i,"data-mce-selected",null);var a=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},FA=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},BA=function(e,t){return function(n){if(function(e){return 0===e.button}(n)){var o=ce(t.dom.getParents(n.target),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}(zA,PA)).getOr(null);if(u=t.getBody(),zA(s=o)&&s!==u){var r=t.dom.getPos(o),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:LA(t,o,o.offsetWidth,o.offsetHeight)})}}var u,s}},qA=function(e,t){return function(n){e.on((function(e){if(e.dragging){if(function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!zA(t)}(t,function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t}(t.selection),e.element)){var o=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t}(e.element);t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((function(){FA(e.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend")}})),IA(e)}},IA=function(e){e.on((function(e){FA(e.ghost)})),e.clear()},HA=function(e){var t=pa(),n=ia.DOM,o=document,r=BA(t,e),i=function(e,t){var n=ga((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.cancel),function(o){return e.on((function(e){var r,i,a=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&a>10){if(t.dispatch("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var u=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,NA(t,o));r=e.ghost,i=t.getBody(),r.parentNode!==i&&i.appendChild(r),function(e,t,n,o,r,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(a=t.pageX+n-r),t.pageY+o>i&&(u=t.pageY+o-i),e.style.width=n-a+"px",e.style.height=o-u+"px"}(e.ghost,u,e.width,e.height,e.maxX,e.maxY),n.throttle(o.clientX,o.clientY)}}))}}(t,e),a=qA(t,e),u=function(e,t){return function(){e.on((function(e){e.dragging&&t.dispatch("dragend")})),IA(e)}}(t,e);e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",a),n.bind(o,"mousemove",i),n.bind(o,"mouseup",u),e.on("remove",(function(){n.unbind(o,"mousemove",i),n.unbind(o,"mouseup",u)})),e.on("keydown",(function(e){e.keyCode===Of.ESC&&u()}))},VA=function(e){HA(e),ic(e)&&function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;n&&(Z(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&hw(e,"Dropped file type is not supported"))}},n=function(n){Wm(e,n.target)&&t(n)},o=function(){var o=ia.DOM,r=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),u=["drop","dragover"];ne(u,(function(e){o.bind(i,e,n),r.bind(a,e,t)})),e.on("remove",(function(){ne(u,(function(e){o.unbind(i,e,n),r.unbind(a,e,t)}))}))};e.on("init",(function(){jm.setEditorTimeout(e,o,0)}))}(e)},jA=Ko,UA=function(e,t){return Sh(e.getBody(),t)},GA=function(e){var t,n=e.selection,o=e.dom,r=o.isBlock,i=e.getBody(),a=$c(e,i,r,(function(){return Zm(e)})),u="sel-"+o.uniqueId(),s="data-mce-selected",c=function(e){return e!==i&&(jA(e)||Yo(e))&&o.isChildOf(e,i)},l=function(t,o,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=e.dispatch("ShowCaret",{target:o,direction:t,before:r});return u.isDefaultPrevented()?null:(i&&n.scrollIntoView(o,-1===t),a.show(r,o))},d=function(e){return Mr(e)||Fr(e)||Br(e)},f=function(e){return d(e.startContainer)||d(e.endContainer)},m=function(t){var n=e.schema.getVoidElements(),r=o.createRng(),i=t.startContainer,a=t.startOffset,u=t.endContainer,s=t.endOffset;return ze(n,i.nodeName.toLowerCase())?0===a?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,a),ze(n,u.nodeName.toLowerCase())?0===s?r.setEndBefore(u):r.setEndAfter(u):r.setEnd(u,s),r},p=function(r){var i=r.cloneNode(!0),a=e.dispatch("ObjectSelected",{target:r,targetClone:i});if(a.isDefaultPrevented())return null;var c=function(t,r){var i=kn.fromDom(e.getBody()),a=e.getDoc(),s=ar(i,"#"+u).getOrThunk((function(){var e=kn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return on(e,"id",u),co(i,e),e})),c=o.createRng();fo(s),lo(s,[kn.fromText(kr,a),kn.fromDom(r),kn.fromText(kr,a)]),c.setStart(s.dom.firstChild,1),c.setEnd(s.dom.lastChild,0),eo(s,{top:o.getPos(t,e.getBody()).y+"px"}),Rm(s);var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c}(r,a.targetClone),l=kn.fromDom(r);return ne(ba(kn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){_n(l,e)||cn(e,s)})),o.getAttrib(r,s)||r.setAttribute(s,"1"),t=r,v(),c},g=function(e,t){if(!e)return null;if(e.collapsed){if(!f(e)){var n=t?1:-1,r=yl(n,i,e),a=r.getNode(!t);if(Yc(a))return l(n,a,!!t&&!r.isAtEnd(),!1);var u=r.getNode(t);if(Yc(u))return l(n,u,!t&&!r.isAtEnd(),!1)}return null}var s=e.startContainer,d=e.startOffset,m=e.endOffset;if(3===s.nodeType&&0===d&&jA(s.parentNode)&&(s=s.parentNode,d=o.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(m===d+1&&s===e.endContainer){var g=s.childNodes[d];if(c(g))return p(g)}return null},h=function(){t&&t.removeAttribute(s),ar(kn.fromDom(e.getBody()),"#"+u).each(mo),t=null},v=function(){a.hide()};return yx(e)||(e.on("click",(function(t){var n=UA(e,t.target);n&&jA(n)&&(t.preventDefault(),e.focus())})),e.on("blur NewBlock",h),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",(function(t){var n=t.target,o=UA(e,n);jA(o)?(t.preventDefault(),OC(e,o).each(g)):c(n)&&OC(e,n).each(g)}),!0),e.on("mousedown",(function(t){var r=t.target;if((r===i||"HTML"===r.nodeName||o.isChildOf(r,i))&&!1!==cw(e,t.clientX,t.clientY)){h(),v();var a=UA(e,r);jA(a)?(t.preventDefault(),OC(e,a).each(g)):DA(i,t.clientX,t.clientY).each((function(o){t.preventDefault(),function(e){e&&n.setRng(e)}(l(1,o.node,o.position===x_.Before,!1)),Do(a)?a.focus():e.getBody().focus()}))}})),e.on("keypress",(function(e){Of.modifierPressed(e)||jA(n.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=m(e.range);var t=g(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(function(e){var t,n=e.range,r=n.startContainer.parentNode;f(n)||"mcepastebin"===r.id||v(),t=r,o.hasClass(t,"mce-offscreen-selection")||h()})),VA(e),function(e){var t=ga((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=_C(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))}(e),function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(Yo(n)){var o=Sh(e.getBody(),n),r=Ko(o)?o:n;e.selection.getNode()!==r&&OC(e,r).each((function(t){return e.selection.setRng(t)}))}}))}))}(e)),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(qr(e),n.scrollIntoView(e))},hideFakeCaret:v,destroy:function(){a.destroy(),t=null}}},WA=function(e,t,n){if(qo(t)&&(n<0||n>t.data.length))return[];for(var o=[n],r=t;r!==e&&r.parentNode;){for(var i=r.parentNode,a=0;a<i.childNodes.length;a++)if(i.childNodes[a]===r){o.push(a);break}r=i}return r===e?o.reverse():[]},$A=function(e,t,n,o,r){return{start:WA(e,t,n),end:WA(e,o,r)}},KA=function(e,t){var n=t.slice(),o=n.pop();return ue(n,(function(e,t){return e.bind((function(e){return K.from(e.childNodes[t])}))}),K.some(e)).bind((function(e){return qo(e)&&(o<0||o>e.data.length)?K.none():K.some({node:e,offset:o})}))},JA=function(e,t){return KA(e,t.start).bind((function(n){var o=n.node,r=n.offset;return KA(e,t.end).map((function(e){var t=e.node,n=e.offset,i=document.createRange();return i.setStart(o,r),i.setEnd(t,n),i}))}))},YA=function e(t,n,o){if(n&&t.isEmpty(n)&&!o(n)){var r=n.parentNode;t.remove(n),e(t,r,o)}},XA=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(qo(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),qo(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),YA(e,r,n),r!==i&&YA(e,i,n))},QA=function(e,t){return K.from(e.dom.getParent(t.startContainer,e.dom.isBlock))},ZA=function(e,t,n){var o=function(e,t,n){if(qo(e)&&t>=e.length)return K.some(LE(e,t));var o=Pa(FE);return K.from(o.forwards(e,t,BE(e),n)).map((function(e){return LE(e.container,0)}))}(t,0,t);o.each((function(o){var r=o.container;HE(r,n.start.length,t).each((function(n){var o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),XA(e,o,(function(e){return e===t}))}))}))},eR=function(e,t){var n=e.dom,o=t.pattern,r=JA(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return QA(e,r).each((function(t){"block-format"===o.type?function(e,t){var n=t.get(e);return _(n)&&ye(n).exists((function(e){return ze(e,"block")}))}(o.format,e.formatter)&&e.undoManager.transact((function(){ZA(e.dom,t,o),e.formatter.apply(o.format)})):"block-command"===o.type&&e.undoManager.transact((function(){ZA(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)}))})),!0},tR=function(e,t){var n=e.dom,o=e.selection.getRng();return QA(e,o).filter((function(t){var o=ss(e),r=n.is(t,o);return null!==t&&r})).bind((function(e){var o=e.textContent,r=function(e,t){var n=t.replace(kr," ");return ce(e,(function(e){return 0===t.indexOf(e.start)||0===n.indexOf(e.start)}))}(t,o);return r.map((function(t){return jt.trim(o).length===t.start.length?[]:[{pattern:t,range:$A(n.getRoot(),e,0,e,0)}]}))})).getOr([])},nR=function(e,t){return e.create("span",{"data-mce-type":"bookmark",id:t})},oR=function(e,t){var n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},rR=function(e,t,n){var o=JA(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,i=o.endContainer,a=0===o.endOffset?i:i.splitText(o.endOffset),u=0===o.startOffset?r:r.splitText(o.startOffset);return{prefix:t,end:a.parentNode.insertBefore(nR(e,t+"-end"),a),start:u.parentNode.insertBefore(nR(e,t+"-start"),u)}},iR=function(e,t,n){YA(e,e.get(t.prefix+"-end"),n),YA(e,e.get(t.prefix+"-start"),n)},aR=function(e){return 0===e.start.length},uR=function e(t,n,o,r){var i,a=n.start;return VE(t,r.container,r.offset,(i=a,function(e,t){var n=e.data.substring(0,t),o=n.lastIndexOf(i.charAt(i.length-1)),r=n.lastIndexOf(i);return-1!==r?r+i.length:-1!==o?o+1:-1}),o).bind((function(r){if(r.offset>=a.length){var i=t.createRng();return i.setStart(r.container,r.offset-a.length),i.setEnd(r.container,r.offset),K.some(i)}var u=r.offset-a.length;return IE(r.container,u,o).map((function(e){var n=t.createRng();return n.setStart(e.container,e.offset),n.setEnd(r.container,r.offset),n})).filter((function(e){return e.toString()===a})).orThunk((function(){return e(t,n,o,LE(r.container,0))}))}))},sR=function(e,t,n){var o=e.dom,r=o.getRoot(),i=n.pattern,a=n.position.container,u=n.position.offset;return IE(a,u-n.pattern.end.length,t).bind((function(s){var c=$A(r,s.container,s.offset,a,u);if(aR(i))return K.some({matches:[{pattern:i,startRng:c,endRng:c}],position:s});var l=cR(e,n.remainingPatterns,s.container,s.offset,t),d=l.getOr({matches:[],position:s}),f=d.position,m=function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(0===t.start.length&&!i){var a=e.createRng();return a.setStart(n,o),a.setEnd(n,o),K.some(a)}return qE(n,o,r).bind((function(n){return uR(e,t,r,n).bind((function(e){if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return K.none();if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return K.none()}return K.some(e)}))}))}(o,i,f.container,f.offset,t,l.isNone());return m.map((function(e){var t=function(e,t){return $A(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset)}(r,e);return{matches:d.matches.concat([{pattern:i,startRng:t,endRng:c}]),position:LE(e.startContainer,e.startOffset)}}))}))},cR=function(e,t,n,o,r){var i=e.dom;return qE(n,o,i.getRoot()).bind((function(a){var u=i.createRng();u.setStart(r,0),u.setEnd(n,o);for(var s=u.toString(),c=0;c<t.length;c++){var l=t[c];if(Ze(s,l.end)){var d=t.slice();d.splice(c,1);var f=sR(e,r,{pattern:l,remainingPatterns:d,position:a});if(f.isSome())return f}}return K.none()}))},lR=function(e,t,n){e.selection.setRng(n),"inline-format"===t.type?ne(t.format,(function(t){e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},dR=function(e,t,n){var o=e.selection.getRng();return!1===o.collapsed?[]:QA(e,o).bind((function(r){var i=Math.max(0,o.startOffset-(n?1:0));return cR(e,t,o.startContainer,i,r)})).fold((function(){return[]}),(function(e){return e.matches}))},fR=function(e,t){if(0!==t.length){var n=e.dom,o=e.selection.getBookmark(),r=function(e,t){var n=Aa("mce_textpattern"),o=ae(t,(function(t,o){var r=rR(e,n+"_end".concat(t.length),o.endRng);return t.concat([c(c({},o),{},{endMarker:r})])}),[]);return ae(o,(function(t,r){var i=o.length-t.length-1,a=aR(r.pattern)?r.endMarker:rR(e,n+"_start".concat(i),r.startRng);return t.concat([c(c({},r),{},{startMarker:a})])}),[])}(n,t);ne(r,(function(t){var o=n.getParent(t.startMarker.start,n.isBlock),r=function(e){return e===o};aR(t.pattern)?function(e,t,n,o){var r=oR(e.dom,n);XA(e.dom,r,o),lR(e,t,r)}(e,t.pattern,t.endMarker,r):function(e,t,n,o,r){var i=e.dom,a=oR(i,o),u=oR(i,n);XA(i,u,r),XA(i,a,r);var s={prefix:n.prefix,start:n.end,end:o.start},c=oR(i,s);lR(e,t,c)}(e,t.pattern,t.startMarker,t.endMarker,r),iR(n,t.endMarker,r),iR(n,t.startMarker,r)})),e.selection.moveToBookmark(o)}},mR=function(e,t){if(!e.selection.isCollapsed()||!function(e){return e.inlinePatterns.length>0||e.blockPatterns.length>0}(t))return!1;var n=dR(e,t.inlinePatterns,!1),o=tR(e,t.blockPatterns);return(o.length>0||n.length>0)&&(e.undoManager.add(),e.undoManager.extra((function(){e.execCommand("mceInsertNewLine")}),(function(){e.insertContent(Cr),fR(e,n),function(e,t){if(0!==t.length){var n=e.selection.getBookmark();ne(t,(function(t){return eR(e,t)})),e.selection.moveToBookmark(n)}}(e,o);var t=e.selection.getRng(),r=qE(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each((function(t){var n=t.container;n.data.charAt(t.offset-1)===Cr&&(n.deleteData(t.offset-1,1),YA(e.dom,n.parentNode,(function(t){return t===e.dom.getRoot()})))}))})),!0)},pR=function(e,t){if(t.length>0){var n=dR(e,t,!0);n.length>0&&e.undoManager.transact((function(){fR(e,n)}))}},gR=function(e,t,n){for(var o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},hR=function(e){var t=[",",".",";",":","!","?"],n=[32],o=function(){return t=_c(e),{inlinePatterns:Gu(t),blockPatterns:Uu(t)};var t},r=function(){return Gu(_c(e))};e.on("keydown",(function(t){13!==t.keyCode||Of.modifierPressed(t)||mR(e,o())&&t.preventDefault()}),!0),e.on("keyup",(function(t){gR(n,t,(function(e,t){return e===t.keyCode&&!1===Of.modifierPressed(t)}))&&pR(e,r())})),e.on("keypress",(function(n){gR(t,n,(function(e,t){return e.charCodeAt(0)===t.charCode}))&&jm.setEditorTimeout(e,(function(){pR(e,r())}))}))},vR=function(e){var t=jt.each,n=Of.BACKSPACE,o=Of.DELETE,r=e.dom,i=e.selection,a=e.parser,u=qt.browser,s=u.isFirefox(),c=u.isChromium()||u.isSafari(),l=qt.deviceType.isiPhone()||qt.deviceType.isiPad(),d=qt.os.isMacOS()||qt.os.isiOS(),f=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(o){}},m=function(e){return e.isDefaultPrevented()},p=function(){var t=function(e){var t=r.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})};e.on("keydown",(function(i){var a,u,s=i.keyCode;if(!m(i)&&(s===o||s===n)){if(a=e.selection.isCollapsed(),u=e.getBody(),a&&!r.isEmpty(u))return;if(!a&&!function(n){var o=t(n),i=r.createRng();return i.selectNode(e.getBody()),o===t(i)}(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),u.firstChild&&r.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}}))},g=function(){e.shortcuts.add("meta+a",null,"SelectAll")},h=function(){e.inline||r.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Mr(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)}))},v=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!m(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),jm.setEditorTimeout(e,(function(){n.focus()}))}}))},b=function(){var t=sc(e);e.on("click",(function(n){var o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&"false"!==r.getContentEditableParent(o)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&(n.preventDefault(),i.select(o))}))},y=function(){e.on("keydown",(function(e){if(!m(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},x=function(){tc(e)||e.on("BeforeExecCommand mousedown",(function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),zs(e)||f("enableObjectResizing",!1)}))},w=function(){e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(r.select("a"),(function(e){var t=e.parentNode,n=r.getRoot();if(t.lastChild===e){for(;t&&!r.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}r.add(t,"br",{"data-mce-bogus":1})}}))}))},C=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},k=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))},S=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},E=function(){d&&e.on("keydown",(function(t){!Of.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},O=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},T=L;return yx(e)?(c&&(h(),b(),_(),g(),l&&(k(),S(),O())),s&&(v(),x(),C(),E())):(e.on("keydown",(function(t){var n,o;if(!m(t)&&t.keyCode===Of.BACKSPACE){var a=(n=i.getRng()).startContainer,u=n.startOffset,s=r.getRoot();if(o=a,n.collapsed&&0===u){for(;o&&o.parentNode&&o.parentNode.firstChild===o&&o.parentNode!==s;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(e.formatter.toggle("blockquote",null,o),(n=r.createRng()).setStart(a,0),n.setEnd(a,0),i.setRng(n))}}})),p(),qt.windowsPhone||e.on("keyup focusin mouseup",(function(e){Of.modifierPressed(e)||i.normalize()}),!0),c&&(h(),b(),e.on("init",(function(){f("DefaultParagraphSeparator",ss(e))})),_(),y(),a.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),l?(k(),S(),O()):g()),s&&(e.on("keydown",(function(t){if(!m(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var o=i.getNode(),a=o.previousSibling;if("HR"===o.nodeName)return r.remove(o),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(r.remove(a),t.preventDefault())}}})),v(),function(){var n=function(){var n=r.getAttribs(i.getStart().cloneNode(!1));return function(){var o=i.getStart();o!==e.getBody()&&(r.setAttrib(o,"style",null),t(n,(function(e){o.setAttributeNode(e.cloneNode(!0))})))}},o=function(){return!i.isCollapsed()&&r.getParent(i.getStart(),r.isBlock)!==r.getParent(i.getEnd(),r.isBlock)};e.on("keypress",(function(t){var r;if(!m(t)&&(8===t.keyCode||46===t.keyCode)&&o())return r=n(),e.getDoc().execCommand("delete",!1,null),r(),t.preventDefault(),!1})),r.bind(e.getDoc(),"cut",(function(t){var r;!m(t)&&o()&&(r=n(),jm.setEditorTimeout(e,(function(){r()})))}))}(),x(),w(),C(),E(),y())),{refreshContentEditable:T,isHidden:function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},bR=ia.DOM,yR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},xR=function(e){return Re(e,(function(e){return!1===R(e)}))},wR=function(e){var t=e.options.get,n=e.editorUpload.blobCache;return xR({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:yR(e),validate:!0,blob_cache:n,document:e.getDoc()})},CR=function(e){var t=e.options.get;return xR({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html")})},kR=function(e){e.bindPendingEventDelegates(),e.initialized=!0,function(e){e.dispatch("Init")}(e),e.focus(!0),function(e){var t=e.dom.getRoot();e.inline||uf(e)&&e.selection.getStart(!0)!==t||Wl(t).each((function(t){var n=t.getNode(),o=Lo(n)?Wl(n).getOr(t):t;e.selection.setRng(o.toRange())}))}(e),e.nodeChanged({initial:!0});var t=dc(e);N(t)&&t.call(e,e),function(e){var t=mc(e);t&&jm.setEditorTimeout(e,(function(){var n;(n=!0===t?e:e.editorManager.get(t)).destroyed||n.focus()}),100)}(e)},SR=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},ER=function(e){var t=SR(e),n=Ds(e),o=e.contentCSS,r=function(){t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){var a="";jt.each(e.contentStyles,(function(e){a+=e+"\r\n"})),e.dom.addStyle(a)}var u=Promise.all(function(e,t,n){var o=[SR(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])}(e,o,n)).then(i).catch(i),s=Rs(e);return s&&function(e,t){var n=kn.fromDom(e.getBody()),o=$n(Wn(n)),r=kn.fromTag("style");on(r,"type","text/css"),co(r,kn.fromText(t)),co(o,r),e.on("remove",(function(){mo(r)}))}(e,s),u},OR=function(e){!0!==e.removed&&(!function(e){yx(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})}(e),kR(e))},_R=function(e){var t=e.getElement(),n=e.getDoc();e.inline&&(bR.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);var o=e.getBody();o.disabled=!0,e.readonly=tc(e),e.readonly||(e.inline&&"static"===bR.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=Aw(e),e.schema=Bi(CR(e)),e.dom=ia(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:ks(e),referrerPolicy:Ss(e),onSetAttrib:function(t){e.dispatch("SetAttrib",t)}}),e.parser=function(e){var t=Ny(wR(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){for(var o,r,i=t.length,a=e.dom,u="data-mce-"+n;i--;)if((r=(o=t[i]).attr(n))&&!o.attr(u)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),o.name)).length||(r=null),o.attr(u,r),o.attr(n,r)):"tabindex"===n?(o.attr(u,r),o.attr(n,null)):o.attr(u,e.convertURL(r,n,o.name))}})),t.addNodeFilter("script",(function(e){for(var t=e.length;t--;){var n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),e.options.get("preserve_cdata")&&t.addNodeFilter("#cdata",(function(t){for(var n=t.length;n--;){var o=t[n];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(o.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var n=t.length,o=e.schema.getNonEmptyElements();n--;){var r=t[n];r.isEmpty(o)&&0===r.getAll("br").length&&r.append(new xp("br",1))}})),t}(e),e.serializer=Hx(function(e){var t=e.options.get;return c(c(c({},wR(e)),CR(e)),xR({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")}))}(e),e),e.selection=zx(e.dom,e.getWin(),e.serializer,e),e.annotator=vf(e),e.formatter=Iw(e),e.undoManager=Vw(e),e._nodeChangeDispatcher=new OT(e),e._selectionOverrides=GA(e),_S(e),yA(e),zS(e),yx(e)||(wA(e),function(e){hR(e)}(e));var r=ET(e);ES(e,r),function(e){e.on("NodeChange",V(DS,e))}(e),$w(e),bA(e);var i=xx(e);!function(e){var t=e.getDoc(),n=e.getBody();!function(e){e.dispatch("PreInit")}(e),pc(e)||(t.body.spellcheck=!1,bR.setAttrib(n,"spellcheck","false")),e.quirks=vR(e),function(e){e.dispatch("PostRender")}(e);var o=Ms(e);void 0!==o&&(n.dir=o);var r=gc(e);r&&e.on("BeforeSetContent",(function(e){jt.each(r,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))}(e),i.fold((function(){ER(e).then((function(){return OR(e)}))}),(function(t){e.setProgressState(!0),ER(e).then((function(){t().then((function(t){e.setProgressState(!1),OR(e),Ox(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),OR(e),Ox(e)}))}))}))},TR=function(e,t){if(e.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline)_R(e);else{var n=e.iframeElement,o=(r=kn.fromDom(n),yo(r,"load",Cw,(function(){o.unbind(),e.contentDocument=n.contentDocument,_R(e)})));n.srcdoc=e.iframeHTML}var r},AR=ia.DOM,RR=function(e,t){var n=e.translate("Rich Text Area"),o=un(kn.fromDom(e.getElement()),"tabindex").bind(ut),r=function(e,t,n,o){var r=kn.fromTag("iframe");return o.each((function(e){return on(r,"tabindex",e)})),rn(r,n),rn(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),hn(r,"tox-edit-area__iframe"),r}(e.id,n,ts(e),o).dom;r.onload=function(){r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=function(e){var t=ns(e)+"<html><head>";os(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=rs(e),o=is(e),r=e.translate(cc(e));return as(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+as(e)+'" />'),t+"</head>"+'<body id="'.concat(n,'" class="mce-content-body ').concat(o,'" data-id="').concat(e.id,'" aria-label="').concat(r,'">')+"<br></body></html>"}(e),AR.add(t.iframeContainer,r)},DR=ia.DOM,MR=function(e,t,n){var o=fw.get(n),r=fw.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=jt.trim(n),o&&-1===jt.inArray(t,n)){if(e.plugins[n])return;try{var i=o(e,r)||{};e.plugins[n]=i,N(i.init)&&(i.init(e,r),t.push(n))}catch(a){!function(e,t,n){var o=fa.translate(["Failed to initialize plugin: {0}",t]);xf(e,"PluginLoadError",{message:o}),yw(o,n),hw(e,o)}(e,n,a)}}},NR=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},zR=function(e){var t=e.getElement();return e.inline?NR(null):function(e){var t=DR.create("div");return DR.insertAfter(t,e),NR(t)}(t)},PR=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,S(qs(e))?function(e){return e.theme.renderUI()}(e):N(qs(e))?function(e){var t=e.getElement(),n=qs(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):zR(e)},LR=function(e){e.dispatch("ScriptsLoaded"),function(e){var t=jt.trim(vs(e)),n=e.ui.registry.getAll().icons,o=c(c({},tw.get("default").icons),tw.get(t).icons);Ee(o,(function(t,o){ze(n,o)||e.ui.registry.addIcon(o,t)}))}(e),function(e){var t=qs(e);if(S(t)){var n=mw.get(t);e.theme=n(e,mw.urls[t])||{},N(e.theme.init)&&e.theme.init(e,mw.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}}(e),function(e){var t=Hs(e),n=nw.get(t);e.model=n(e,nw.urls[t])}(e),function(e){var t=[];ne(oc(e),(function(n){MR(e,t,function(e){return e.replace(/^\-/,"")}(n))}))}(e);var t=PR(e);!function(e,t){var n={show:K.from(t.show).getOr(L),hide:K.from(t.hide).getOr(L),isEnabled:K.from(t.isEnabled).getOr($),setEnabled:function(n){e.mode.isReadOnly()||K.from(t.setEnabled).each((function(e){return e(n)}))}};e.ui=c(c({},e.ui),n)}(e,K.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,ww(e),e.inline?TR(e):function(e,t){RR(e,t),t.editorContainer&&(AR.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=AR.isHidden(t.editorContainer)),e.getElement().style.display="none",AR.setAttrib(e.id,"aria-hidden","true"),TR(e)}(e,n)},FR=ia.DOM,BR=function(e){return"-"===e.charAt(0)},qR=function(e,t){var n=Es(t),o=Os(t);if(!1===fa.hasCode(n)&&"en"!==n){var r=rt(o)?o:"".concat(t.editorManager.baseURL,"/langs/").concat(n,".js");e.add(r).catch((function(){!function(e,t,n){vw(e,"LanguageLoadError",bw("language",t,n))}(t,r,n)}))}},IR=function(e,t){var n=qs(e);if(S(n)&&!BR(n)&&!ze(mw.urls,n)){var o=Is(e),r=o?e.documentBaseURI.toAbsolute(o):"themes/".concat(n,"/theme").concat(t,".js");mw.load(n,r).catch((function(){!function(e,t,n){vw(e,"ThemeLoadError",bw("theme",t,n))}(e,r,n)}))}},HR=function(e,t){var n=Hs(e);if("plugin"!==n&&!ze(nw.urls,n)){var o=Vs(e),r=S(o)?e.documentBaseURI.toAbsolute(o):"models/".concat(n,"/model").concat(t,".js");nw.load(n,r).catch((function(){!function(e,t,n){vw(e,"ModelLoadError",bw("model",t,n))}(e,r,n)}))}},VR=function(e,t,n){return K.from(t).filter((function(e){return rt(e)&&!tw.has(e)})).map((function(t){return{url:"".concat(e.editorManager.baseURL,"/icons/").concat(t,"/icons").concat(n,".js"),name:K.some(t)}}))},jR=function(e,t,n){var o=VR(t,"default",n),r=function(e){return K.from(bs(e)).filter(rt).map((function(e){return{url:e,name:K.none()}}))}(t).orThunk((function(){return VR(t,vs(t),"")}));ne(function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t}([o,r]),(function(n){e.add(n.url).catch((function(){!function(e,t,n){vw(e,"IconsLoadError",bw("icons",t,n))}(t,n.url,n.name.getOrUndefined())}))}))},UR=function(e,t){var n=function(t,n){fw.load(t,n).catch((function(){!function(e,t,n){vw(e,"PluginLoadError",bw("plugin",t,n))}(e,n,t)}))};Ee(rc(e),(function(t,o){n(o,t),e.options.set("plugins",oc(e).concat(o))})),ne(oc(e),(function(e){!(e=jt.trim(e))||fw.urls[e]||BR(e)||n(e,"plugins/".concat(e,"/plugin").concat(t,".js"))}))},GR=function(e,t){var n=ua.ScriptLoader,o=function(){!e.removed&&function(e){var t=qs(e);return!S(t)||M(mw.get(t))}(e)&&function(e){var t=Hs(e);return M(nw.get(t))}(e)&&LR(e)};IR(e,t),HR(e,t),qR(n,e),jR(n,e,t),UR(e,t),n.loadQueue().then(o,o)},WR=function(e){var t=e.id;fa.setCode(Es(e));if(Ji.Event.domLoaded){if(e.getElement()){var n=kn.fromDom(e.getElement()),o=ln(n);e.on("remove",(function(){oe(n.dom.attributes,(function(e){return cn(n,e.name)})),rn(n,o)})),e.ui.styleSheetLoader=function(e,t){return cr.forElement(e,{contentCssCors:nc(t),referrerPolicy:Ss(t)})}(n,e),Ks(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||FR.getParent(t,"form");r&&(e.formElement=r,Js(e)&&!Bo(e.getElement())&&(FR.insertAfter(FR.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.dispatch(t.type,t)},FR.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!Ys(e)||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=pw(e),e.notificationManager=dw(e),function(e){return"xml"===e.options.get("encoding")}(e)&&e.on("GetContent",(function(e){e.save&&(e.content=FR.encode(e.content))})),Xs(e)&&e.on("submit",(function(){e.initialized&&e.save()})),Qs(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),GR(e,e.suffix)}}else FR.bind(window,"ready",(function t(){FR.unbind(window,"ready",t),e.render()}))},$R=Mt().deviceType,KR=$R.isPhone(),JR=$R.isTablet(),YR=function(e){if(D(e))return[];var t=_(e)?e:e.split(/[ ,]/),n=te(t,tt);return ie(n,rt)},XR=function(e,t){var n,o,r=function(e,t){var n={},o={};return Ae(e,t,Te(n),Te(o)),{t:n,f:o}}(t,(function(t,n){return Z(e,n)}));return n=r.t,o=r.f,{sections:q(n),options:q(o)}},QR=function(e,t){return ze(e.sections(),t)},ZR=function(e,t){var n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ne(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1};return c(c({},n),t?{menubar:!1}:{})},eD=function(e,t){var n,o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?jt.extend({},e.external_plugins,o):o},tD=function(e,t,n,o){var r=YR(n.forced_plugins),i=YR(o.plugins),a=function(e,t){return QR(e,t)?e.sections()[t]:{}}(t,"mobile"),u=function(e,t,n,o){return e&&QR(t,"mobile")?o:n}(e,t,i,a.plugins?YR(a.plugins):i),s=function(e,t){return[].concat(YR(e)).concat(YR(t))}(r,u);return jt.extend(o,{forced_plugins:r,plugins:s})},nD=function(e,t,n,o,r){var i,a=e?{mobile:ZR(null!==(i=r.mobile)&&void 0!==i?i:{},t)}:{},u=XR(["mobile"],yO(a,r)),s=jt.extend(n,o,u.options(),function(e,t){return e&&QR(t,"mobile")}(e,u)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.sections(),r=Ne(o,t).getOr({});return jt.extend({},n,r)}(u,"mobile"):{},{external_plugins:eD(o,u.options())});return tD(e,u,o,s)},oD=function(e,t){return function(e,t){return Cx(e).editor.addVisual(t)}(e,t)},rD=function(e){var t=function(t){return function(){ne("left,center,right,justify".split(","),(function(n){t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&function(t,n){e.formatter.toggle(t,n),e.nodeChanged()}("align"+t)}};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})},iD=function(e){rD(e),function(e){var t=function(t){return function(){var n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return ee(o,(function(n){return M(e.formatter.matchNode(n,t))}))}};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")}(e)},aD=function(e,t){var n=e.selection,o=e.dom;return/^ | $/.test(t)?function(e,t,n){var o=kn.fromDom(e.getRoot());return n=Sg(o,fu.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Eg(o,fu.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(o,n.getRng(),t):t},uD=function(e,t){var n=function(e){if("string"!==typeof e){var t=jt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}}(t),o=n.content,r=n.details;Fy(e,{content:aD(e,o),format:"html",set:!1,selection:!0,paste:r.paste}).each((function(t){var n=function(e,t,n){return wx(e).editor.insertContent(t,n)}(e,t.content,r);By(e,n,t),e.addVisual()}))},sD={"font-size":"size","font-family":"face"},cD=function(e,t,n){return Zh(kn.fromDom(n),(function(t){return function(t){return oo(t,e).orThunk((function(){return"font"===Jt(t)?Ne(sD,e).bind((function(e){return un(t,e)})):K.none()}))}(t)}),(function(e){return _n(kn.fromDom(t),e)}))},lD=function(e){return function(t,n){return K.from(n).map(kn.fromDom).filter(Qt).bind((function(n){return cD(e,t,n.dom).or(function(e,t){return K.from(ia.DOM.getStyle(t,e,!0))}(e,n.dom))})).getOr("")}},dD=lD("font-size"),fD=F((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),lD("font-family")),mD=function(e){return Wl(e.getBody()).map((function(e){var t=e.container();return qo(t)?t.parentNode:t}))},pD=function(e,t){return function(e){return K.from(e.selection.getRng()).bind((function(t){var n=e.getBody();return t.startContainer===n&&0===t.startOffset?K.none():K.from(e.selection.getStart(!0))}))}(e).orThunk(V(mD,e)).map(kn.fromDom).filter(Qt).bind(t)},gD=function(e,t){return pD(e,B(K.some,t))},hD=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var o=function(e){return jt.explode(e.options.get("font_size_style_values"))}(e),r=function(e){return jt.explode(e.options.get("font_size_classes"))}(e);return r?r[n-1]||t:o[n-1]||t}return t}return t},vD=function(e){var t=e.split(/\s*,\s*/);return te(t,(function(e){return-1===e.indexOf(" ")||Qe(e,'"')||Qe(e,"'")?e:"'".concat(e,"'")})).join(",")},bD=function(e){var t=function(t,n){e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t(e)},"ForeColor,HiliteColor":function(e,n,o){t(e,{value:o})},BackColor:function(e,n,o){t("hilitecolor",{value:o})},FontName:function(t,n,o){!function(e,t){var n=hD(e,t);e.formatter.toggle("fontname",{value:vD(n)}),e.nodeChanged()}(e,o)},FontSize:function(t,n,o){!function(e,t){e.formatter.toggle("fontsize",{value:hD(e,t)}),e.nodeChanged()}(e,o)},LineHeight:function(t,n,o){!function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()}(e,o)},Lang:function(e,n,o){t(e,{value:o.code,customValue:o.customCode})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t("blockquote")},FormatBlock:function(e,n,o){t(S(o)?o:"p")},mceToggleFormat:function(e,n,o){t(o)}})},yD=function(e){var t=function(t){return e.formatter.match(t)};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t(e)},mceBlockQuote:function(){return t("blockquote")}},"state"),e.editorCommands.addQueryValueHandler("FontName",(function(){return function(e){return gD(e,(function(t){return fD(e.getBody(),t.dom)})).getOr("")}(e)})),e.editorCommands.addQueryValueHandler("FontSize",(function(){return function(e){return gD(e,(function(t){return dD(e.getBody(),t.dom)})).getOr("")}(e)})),e.editorCommands.addQueryValueHandler("LineHeight",(function(){return function(e){return gD(e,(function(t){var n=kn.fromDom(e.getBody()),o=Zh(t,(function(e){return oo(e,"line-height")}),V(_n,n));return o.getOrThunk((function(){var e=parseFloat(to(t,"line-height")),n=parseFloat(to(t,"font-size"));return String(e/n)}))})).getOr("")}(e)}))},xD=function(e){e.editorCommands.addCommands({Indent:function(){!function(e){xS(e,"indent")}(e)},Outdent:function(){wS(e)}}),e.editorCommands.addCommands({Outdent:function(){return vS(e)}},"state")},wD=function(e){iD(e),function(e){e.editorCommands.addCommands({"Cut,Copy,Paste":function(t){var n,o=e.getDoc();try{o.execCommand(t)}catch(i){n=!0}if("paste"!==t||o.queryCommandEnabled(t)||(n=!0),n||!o.queryCommandSupported(t)){var r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(qt.os.isMacOS()||qt.os.isiOS())&&(r=r.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:r,type:"error"})}}})}(e),function(e){e.editorCommands.addCommands({mceAddUndoLevel:function(){e.undoManager.add()},mceEndUndoLevel:function(){e.undoManager.add()},Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}(e),function(e){e.editorCommands.addCommands({mceSelectNodeDepth:function(t,n,o){var r=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&r++===o)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,o){e.selection.select(o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),$o);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})}(e),function(e){e.editorCommands.addCommands({mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:function(t,n,o){uD(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr>")},insertText:function(t,n,o){uD(e,e.dom.encode(o))},insertHTML:function(t,n,o){uD(e,o)},mceInsertContent:function(t,n,o){uD(e,o)},mceSetContent:function(t,n,o){e.setContent(o)},mceReplaceContent:function(t,n,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:function(){e.setContent("")}})}(e),function(e){var t=function(t,n,o){var r=S(o)?{href:o}:o,i=e.dom.getParent(e.selection.getNode(),"a");E(r)&&S(r.href)&&(r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i))};e.editorCommands.addCommands({unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})}(e),xD(e),function(e){e.editorCommands.addCommands({insertParagraph:function(){cT(e)},mceInsertNewLine:function(t,n,o){cT(e,o)},InsertLineBreak:function(t,n,o){X_(e,o)}})}(e),function(e){!function(e){e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(t){e.getDoc().execCommand(t);var n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){var o=n.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)){var r=e.selection.getBookmark();e.dom.split(o,n),e.selection.moveToBookmark(r)}}}})}(e),function(e){e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")}(e)}(e),function(e){bD(e),yD(e)}(e),function(e){e.editorCommands.addCommands({mceRemoveNode:function(t,n,o){var r=null!==o&&void 0!==o?o:e.selection.getNode();if(r!==e.getBody()){var i=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(i)}},mcePrint:function(){e.getWin().print()},mceFocus:function(t,n,o){np(e,o)},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()}})}(e)},CD=function(){function e(t){l(this,e),this.commands={state:{},exec:{},value:{}},this.editor=t}return d(e,[{key:"execCommand",value:function(e,t,n,o){var r=this.editor,i=e.toLowerCase(),a=null===o||void 0===o?void 0:o.skip_focus;if(r.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||a?function(e){Hm(e).each((function(t){return e.selection.setRng(t)}))}(r):r.focus()),r.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;var u=this.commands.exec[i];return!!N(u)&&(u(i,t,n),r.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}},{key:"queryCommandState",value:function(e){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;var t=e.toLowerCase(),n=this.commands.state[t];return!!N(n)&&n(t)}},{key:"queryCommandValue",value:function(e){if(this.editor.quirks.isHidden()||this.editor.removed)return"";var t=e.toLowerCase(),n=this.commands.value[t];return N(n)?n(t):""}},{key:"addCommands",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exec",n=this.commands;Ee(e,(function(e,o){ne(o.toLowerCase().split(","),(function(o){n[t][o]=e}))}))}},{key:"addCommand",value:function(e,t,n){var o=this,r=e.toLowerCase();this.commands.exec[r]=function(e,r,i){return t.call(null!==n&&void 0!==n?n:o.editor,r,i)}}},{key:"queryCommandSupported",value:function(e){var t=e.toLowerCase();return!!this.commands.exec[t]}},{key:"addQueryStateHandler",value:function(e,t,n){var o=this;this.commands.state[e.toLowerCase()]=function(){return t.call(null!==n&&void 0!==n?n:o.editor)}}},{key:"addQueryValueHandler",value:function(e,t,n){var o=this;this.commands.value[e.toLowerCase()]=function(){return t.call(null!==n&&void 0!==n?n:o.editor)}}}]),e}(),kD="data-mce-contenteditable",SD=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(o){}},ED=function(e,t){e.dom.contentEditable=t?"true":"false"},OD=function(e,t){var n=kn.fromDom(e.getBody());!function(e,t,n){xn(e,t)&&!1===n?bn(e,t):n&&hn(e,t)}(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),function(e){K.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}(e),e.readonly=!0,ED(n,!1),ne(ba(n,'*[contenteditable="true"]'),(function(e){on(e,kD,"true"),ED(e,!1)}))):(e.readonly=!1,ED(n,!0),function(e){ne(ba(e,"*[".concat(kD,'="true"]')),(function(e){cn(e,kD),ED(e,!0)}))}(n),SD(e,"StyleWithCSS",!1),SD(e,"enableInlineTableEditing",!1),SD(e,"enableObjectResizing",!1),ep(e)&&e.focus(),function(e){e.selection.setRng(e.selection.getRng())}(e),e.nodeChanged())},_D=function(e){return e.readonly},TD=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){_D(e)&&ne(t,(function(e){e.attr(kD,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(kD,(function(t){_D(e)&&ne(t,(function(e){e.attr("contenteditable",e.attr(kD))}))})),e.serializer.addTempAttr(kD)},AD=function(e,t){if(function(e){return"click"===e.type}(t)&&!Of.metaKeyPressed(t)){var n=kn.fromDom(t.target);(function(e,t){return ur(t,"a",(function(t){return _n(t,kn.fromDom(e.getBody()))})).bind((function(e){return un(e,"href")}))})(e,n).each((function(n){if(t.preventDefault(),/^#/.test(n)){var o=e.dom.select("".concat(n,',[name="').concat(Qe(r=n,i="#")?function(e,t){return e.substring(t)}(r,i.length):r,'"]'));o.length&&e.selection.scrollIntoView(o[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var r,i}))}},RD=jt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),DD=function(){function e(t){l(this,e),this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||W}return d(e,[{key:"fire",value:function(e,t){return this.dispatch(e,t)}},{key:"dispatch",value:function(e,t){var n=e.toLowerCase(),o=ji(n,null!==t&&void 0!==t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);var r=this.bindings[n];if(r)for(var i=0,a=r.length;i<a;i++){var u=r[i];if(!u.removed){if(u.once&&this.off(n,u.func),o.isImmediatePropagationStopped())return o;if(!1===u.func.call(this.scope,o))return o.preventDefault(),o}}return o}},{key:"on",value:function(e,t,n,o){if(!1===t&&(t=W),t){var r={func:t,removed:!1};o&&jt.extend(r,o);for(var i=e.toLowerCase().split(" "),u=i.length;u--;){var s=i[u],c=this.bindings[s];c||(c=[],this.toggleEvent(s,!0)),c=n?[r].concat(a(c)):[].concat(a(c),[r]),this.bindings[s]=c}}return this}},{key:"off",value:function(e,t){var n=this;if(e)for(var o=e.toLowerCase().split(" "),r=o.length;r--;){var i=o[r],a=this.bindings[i];if(!i)return Ee(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t){var u=re(a,(function(e){return e.func===t}));a=u.fail,this.bindings[i]=a,ne(u.pass,(function(e){e.removed=!0}))}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else Ee(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this}},{key:"once",value:function(e,t,n){return this.on(e,t,n,{once:!0})}},{key:"has",value:function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)}}],[{key:"isNative",value:function(e){return!!RD[e.toLowerCase()]}}]),e}(),MD=function(e){return e._eventDispatcher||(e._eventDispatcher=new DD({scope:e,toggleEvent:function(t,n){DD.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},ND={fire:function(e,t,n){return this.dispatch(e,t,n)},dispatch:function(e,t,n){var o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return ji(e.toLowerCase(),null!==t&&void 0!==t?t:{},o);var r=MD(o).dispatch(e,t);if(!1!==n&&o.parent)for(var i=o.parent();i&&!r.isPropagationStopped();)i.dispatch(e,r,!1),i=i.parent();return r},on:function(e,t,n){return MD(this).on(e,t,n)},off:function(e,t){return MD(this).off(e,t)},once:function(e,t){return MD(this).once(e,t)},hasEventListeners:function(e){return MD(this).has(e)}},zD=ia.DOM,PD=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Fs(e);return n?(e.eventRoot||(e.eventRoot=zD.select(n)[0]),e.eventRoot):e.getBody()},LD=function(e,t,n){!function(e){return!e.hidden&&!_D(e)}(e)?_D(e)&&AD(e,n):e.dispatch(t,n)},FD=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var o=PD(e,t);if(Fs(e)){if(CA||(CA={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||CA&&(Ee(CA,(function(t,n){e.dom.unbind(PD(e,n))})),CA=null)}))),CA[t])return;n=function(n){for(var o=n.target,r=e.editorManager.get(),i=r.length;i--;){var a=r[i].getBody();(a===o||zD.isChildOf(o,a))&&LD(r[i],t,n)}},CA[t]=n,zD.bind(o,t,n)}else n=function(n){LD(e,t,n)},zD.bind(o,t,n),e.delegates[t]=n}},BD=c(c({},ND),{},{bindPendingEventDelegates:function(){var e=this;jt.each(e._pendingNativeEvents,(function(t){FD(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?FD(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(PD(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ee(e.delegates,(function(t,n){e.dom.unbind(PD(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),qD=function(e){return S(e)?{value:e.split(/[ ,]/),valid:!0}:P(e,S)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."}},ID=function(e,t){return e+(it(t.message)?"":". ".concat(t.message))},HD=function(e){return e.valid},VD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t(e);return A(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},jD=function(e,t){var n={},o={},r=function(e,t,n){var r=VD(t,n);return HD(r)?(o[e]=r.value,!0):(console.warn(ID("Invalid value passed for the ".concat(e," option"),r)),!1)},i=function(e){return ze(n,e)};return{register:function(e,i){var a=function(e){return S(e.processor)}(i)?function(e){var t=function(){switch(e){case"array":return _;case"boolean":return A;case"function":return N;case"number":return z;case"object":return E;case"string":return S;case"string[]":return qD;case"object[]":return function(e){return P(e,E)};case"regexp":return function(e){return k(e,RegExp)}}}();return function(n){return VD(n,t,"The value must be a ".concat(e,"."))}}(i.processor):i.processor,u=function(e,t,n){if(!R(t)){var o=VD(t,n);if(HD(o))return o.value;console.error(ID('Invalid default value passed for the "'.concat(e,'" option'),o))}}(e,i.default,a);n[e]=c(c({},i),{},{default:u,processor:a}),Ne(o,e).orThunk((function(){return Ne(t,e)})).each((function(t){return r(e,t,a)}))},isRegistered:i,get:function(e){return Ne(o,e).orThunk((function(){return Ne(n,e).map((function(e){return e.default}))})).getOrUndefined()},set:function(e,t){if(i(e)){var o=n[e];return o.immutable?(console.error('"'.concat(e,'" is an immutable option and cannot be updated')),!1):r(e,t,o.processor)}return console.warn('"'.concat(e,'" is not a registered option. Ensure the option has been registered before setting a value.')),!1},unset:function(e){var t=i(e);return t&&delete o[e],t},isSet:function(e){return ze(o,e)}}},UD=["design","readonly"],GD=function(e,t,n,o){var r=n[t.get()],i=n[o];try{i.activate()}catch(a){return void console.error("problem while activating editor mode ".concat(o,":"),a)}r.deactivate(),r.editorReadOnly!==i.editorReadOnly&&OD(e,i.editorReadOnly),t.set(o),function(e,t){e.dispatch("SwitchMode",{mode:t})}(e,o)},WD=function(e){var t=sa("design"),n=sa({design:{activate:L,deactivate:L,editorReadOnly:!1},readonly:{activate:L,deactivate:L,editorReadOnly:!0}});return function(e){e.serializer?TD(e):e.on("PreInit",(function(){TD(e)}))}(e),function(e){e.on("ShowCaret",(function(t){_D(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){_D(e)&&t.preventDefault()}))}(e),{isReadOnly:function(){return _D(e)},set:function(o){return function(e,t,n,o){if(o!==n.get()){if(!ze(t,o))throw new Error("Editor mode '".concat(o,"' is invalid"));e.initialized?GD(e,n,t,o):e.on("init",(function(){return GD(e,n,t,o)}))}}(e,n.get(),t,o)},get:function(){return t.get()},register:function(e,t){n.set(function(e,t,n){if(Z(UD,t))throw new Error("Cannot override default mode ".concat(t));return c(c({},e),{},o({},t,c(c({},n),{},{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode ".concat(t,":"),e)}}})))}(n.get(),e,t))}}},$D=jt.each,KD=jt.explode,JD={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},YD=jt.makeMap("alt,ctrl,shift,meta,access"),XD=function(e){var t,n={},o=qt.os.isMacOS()||qt.os.isiOS();$D(KD(e.toLowerCase(),"+"),(function(e){e in YD?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=JD[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in YD)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},QD=function(){function e(t){l(this,e),this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",(function(e){!n.hasModifier(e)&&!n.isFunctionKey(e)||e.isDefaultPrevented()||($D(n.shortcuts,(function(t){if(n.matchShortcut(e,t))return n.pendingPatterns=t.subpatterns.slice(0),"keydown"===e.type&&n.executeShortcutAction(t),!0})),n.matchShortcut(e,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===e.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))}))}return d(e,[{key:"add",value:function(e,t,n,o){var r=this,i=r.normalizeCommandFunc(n);return $D(KD(jt.trim(e)),(function(e){var n=r.createShortcut(e,t,i,o);r.shortcuts[n.id]=n})),!0}},{key:"remove",value:function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}},{key:"normalizeCommandFunc",value:function(e){var t=this,n=e;return"string"===typeof n?function(){t.editor.execCommand(n,!1,null)}:jt.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n}},{key:"createShortcut",value:function(e,t,n,o){var r=jt.map(KD(e,">"),XD);return r[r.length-1]=jt.extend(r[r.length-1],{func:n,scope:o||this.editor}),jt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}},{key:"hasModifier",value:function(e){return e.altKey||e.ctrlKey||e.metaKey}},{key:"isFunctionKey",value:function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}},{key:"matchShortcut",value:function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}},{key:"executeShortcutAction",value:function(e){return e.func?e.func.call(e.scope):null}}]),e}(),ZD=function(){var e=function(){var e={},t={},n={},o={},r={},i={},a={},u=function(e,t){return function(n,o){return e[n.toLowerCase()]=c(c({},o),{},{type:t})}};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(r,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:function(e,t){return o[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},eM=ia.DOM,tM=jt.extend,nM=jt.each,oM=function(){function e(t,n,o){l(this,e),this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=o,this.documentBaseUrl=o.documentBaseURL,tM(this,BD);var r=this;this.id=t,this.hidden=!1;var i=function(e,t){return nD(KR||JR,KR,t,e,t)}(o.defaultOptions,n);this.options=jD(0,i),function(e){var t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean"}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:es(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:es(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:function(e){var t=S(e)&&rt(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:"boolean",default:!1}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:function(e){var t=!1===e||S(e)||P(e,S);return t?S(e)?{value:te(e.split(","),tt),valid:t}:_(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ks(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:function(e){var t=S(e)||P(e,S);return t?{value:_(e)?e:te(e.split(","),tt),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,.mce-annotation"}),t("object_resizing",{processor:function(e){var t=A(e)||S(e);return t?!1===e||$u.isiPhone()||$u.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Ku}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:function(e){return!1===e||S(e)||N(e)},default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("preview_styles",{processor:function(e){var t=!1===e||S(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Zu}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Zu}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Zu}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:function(e){return S(e)||!0===e}}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:function(e){return P(e,E)||!1===e?{value:Wu(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:function(e){return P(e,Xu)?{value:e,valid:!0}:Xu(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."}},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(function(){t("directionality",{processor:"string",default:fa.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Ju.getAttrib(e.getElement(),"placeholder")})}))}(r);var a=this.options.get;a("deprecation_warnings")&&Yx(n,i);var u=a("suffix");u&&(o.suffix=u),this.suffix=o.suffix;var s=a("base_url");s&&o._setBaseUrl(s),this.baseUri=o.baseURI;var c=Ss(r);c&&(ua.ScriptLoader._setReferrerPolicy(c),ia.DOM.styleSheetLoader._setReferrerPolicy(c)),ma.languageLoad=a("language_load"),ma.baseURL=o.baseURL,this.setDirty(!1),this.documentBaseURI=new yy(os(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ks(r),this.shortcuts=new QD(this),this.editorCommands=new CD(this),wD(this);var d=a("cache_suffix");d&&(qt.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:ZD(),styleSheetLoader:void 0,show:L,hide:L,setEnabled:L,isEnabled:$},this.mode=WD(r),o.dispatch("SetupEditor",{editor:this});var f=lc(r);N(f)&&f.call(r,r)}return d(e,[{key:"render",value:function(){WR(this)}},{key:"focus",value:function(e){this.execCommand("mceFocus",!1,e)}},{key:"hasFocus",value:function(){return Zm(this)}},{key:"translate",value:function(e){return fa.translate(e)}},{key:"getParam",value:function(e,t,n){var o=this.options;return o.isRegistered(e)||(M(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:$,default:t})),o.isSet(e)||R(t)?o.get(e):t}},{key:"hasPlugin",value:function(e,t){var n=Z(oc(this),e);return!!n&&(!t||void 0!==fw.get(e))}},{key:"nodeChanged",value:function(e){this._nodeChangeDispatcher.nodeChanged(e)}},{key:"addCommand",value:function(e,t,n){this.editorCommands.addCommand(e,t,n)}},{key:"addQueryStateHandler",value:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}},{key:"addQueryValueHandler",value:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}},{key:"addShortcut",value:function(e,t,n,o){this.shortcuts.add(e,t,n,o)}},{key:"execCommand",value:function(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}},{key:"queryCommandState",value:function(e){return this.editorCommands.queryCommandState(e)}},{key:"queryCommandValue",value:function(e){return this.editorCommands.queryCommandValue(e)}},{key:"queryCommandSupported",value:function(e){return this.editorCommands.queryCommandSupported(e)}},{key:"show",value:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(eM.show(e.getContainer()),eM.hide(e.id)),e.load(),e.dispatch("show"))}},{key:"hide",value:function(){var e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(eM.hide(e.getContainer()),eM.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}},{key:"isHidden",value:function(){return this.hidden}},{key:"setProgressState",value:function(e,t){this.dispatch("ProgressState",{state:e,time:t})}},{key:"load",value:function(e){var t,n=this,o=n.getElement();if(n.removed)return"";if(o){(e=e||{}).load=!0;var r=Bo(o)?o.value:o.innerHTML;return t=n.setContent(r,e),e.element=o,e.no_events||n.dispatch("LoadContent",e),e.element=o=null,t}}},{key:"save",value:function(e){var t,n,o=this,r=o.getElement();if(r&&o.initialized&&!o.removed)return(e=e||{}).save=!0,e.element=r,e.content=o.getContent(e),e.no_events||o.dispatch("SaveContent",e),"raw"===e.format&&o.dispatch("RawSaveContent",e),t=e.content,Bo(r)?r.value=t:(!e.is_removing&&o.inline||(r.innerHTML=t),(n=eM.getParent(o.id,"form"))&&nM(n.elements,(function(e){if(e.name===o.id)return e.value=t,!1}))),e.element=r=null,!1!==e.set_dirty&&o.setDirty(!1),t}},{key:"setContent",value:function(e,t){return Gx(this,e,t)}},{key:"getContent",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format?t.format:Vx,o=jx(t,n);return Py(e,o).fold(I,(function(t){var n=kx(e,t);return Ly(e,n,t)}))}(this,e)}},{key:"insertContent",value:function(e,t){t&&(e=tM({content:e},t)),this.execCommand("mceInsertContent",!1,e)}},{key:"resetContent",value:function(e){void 0===e?Gx(this,this.startContent,{format:"raw"}):Gx(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}},{key:"isDirty",value:function(){return!this.isNotDirty}},{key:"setDirty",value:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}},{key:"getContainer",value:function(){var e=this;return e.container||(e.container=eM.get(e.editorContainer||e.id+"_parent")),e.container}},{key:"getContentAreaContainer",value:function(){return this.contentAreaContainer}},{key:"getElement",value:function(){return this.targetElm||(this.targetElm=eM.get(this.id)),this.targetElm}},{key:"getWin",value:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow}},{key:"getDoc",value:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument}},{key:"getBody",value:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)}},{key:"convertURL",value:function(e,t,n){var o=this,r=o.options.get,i=fc(o);return N(i)?i.call(o,e,n,!0,t):!r("convert_urls")||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,r("remove_script_host"))}},{key:"addVisual",value:function(e){oD(this,e)}},{key:"remove",value:function(){Zx(this)}},{key:"destroy",value:function(e){ew(this,e)}},{key:"uploadImages",value:function(){return this.editorUpload.uploadImages()}},{key:"_scanForImages",value:function(){return this.editorUpload.scanForImages()}}]),e}(),rM=ia.DOM,iM=jt.each,aM=!1,uM=[],sM=function(e){var t=e.type;iM(fM.get(),(function(n){switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},cM=function(e){if(e!==aM){var t=ia.DOM;e?(t.bind(window,"resize",sM),t.bind(window,"scroll",sM)):(t.unbind(window,"resize",sM),t.unbind(window,"scroll",sM)),aM=e}},lM=function(e){var t=uM;return uM=ie(uM,(function(t){return e!==t})),fM.activeEditor===e&&(fM.activeEditor=uM.length>0?uM[0]:null),fM.focusedEditor===e&&(fM.focusedEditor=null),t.length!==uM.length},dM="CSS1Compat"!==document.compatMode,fM=c(c({},ND),{},{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"0.1",releaseDate:"2022-03-23",i18n:fa,activeEditor:null,focusedEditor:null,setup:function(){var e,t,n=this,o="";t=yy.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var r,i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,o=i.suffix;else{for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var s=a[u].src||"";if(""!==s){var c=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==c.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&document.currentScript){var l=document.currentScript.src;-1!==l.indexOf(".min")&&(o=".min"),e=l.substring(0,l.lastIndexOf("/"))}}n.baseURL=new yy(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new yy(n.baseURL),n.suffix=o,(r=n).on("AddEditor",V($m,r)),r.on("RemoveEditor",V(Km,r))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultOptions=e;var o=e.plugin_base_urls;void 0!==o&&Ee(o,(function(e,t){ma.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,o=jt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),r=function(e){t=e};return rM.bind(window,"ready",(function t(){var i,a=0,u=[];rM.unbind(window,"ready",t),function(t){var o=e[t];if(o)o.apply(n,[])}("onpageload"),i=function(e,t){for(var n=[],o=N(t)?function(e){return ee(n,(function(n){return t(n,e)}))}:function(e){return Z(n,e)},r=0,i=e.length;r<i;r++){var a=e[r];o(a)||n.push(a)}return n}(function(e){return qt.browser.isIE()||qt.browser.isEdge()?(yw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):dM?(yw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):S(e.selector)?rM.select(e.selector):M(e.target)?[e.target]:[]}(e)),jt.each(i,(function(e){var t;(t=n.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(lM(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(i=jt.grep(i,(function(e){return!n.get(e.id)}))).length?r([]):iM(i,(function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in o}(e,t)?function(e,t,o){var s=new oM(e,t,n);u.push(s),s.on("init",(function(){++a===i.length&&r(u)})),s.targetElm=s.targetElm||o,s.render()}(function(e){var t=e.id;return t||(t=Ne(e,"name").filter((function(e){return!rM.get(e)})).getOrThunk(rM.uniqueId),e.setAttribute("id",t)),t}(t),e,t):yw("Could not initialize inline editor on invalid inline target element",t)}))})),new Promise((function(e){t?e(t):r=function(t){e(t)}}))},get:function(e){return 0===arguments.length?uM.slice(0):S(e)?ce(uM,(function(t){return t.id===e})).getOr(null):z(e)&&uM[e]?uM[e]:null},add:function(e){var t=this,n=t.get(e.id);return n===e||(null===n&&uM.push(e),cM(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),kA||(kA=function(e){var n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",kA))),e},createEditor:function(e,t){return this.add(new oM(e,t,this))},remove:function(e){var t,n,o=this;if(e){if(!S(e))return n=e,T(o.get(n.id))?null:(lM(n)&&o.dispatch("RemoveEditor",{editor:n}),0===uM.length&&window.removeEventListener("beforeunload",kA),n.remove(),cM(uM.length>0),n);iM(rM.select(e),(function(e){(n=o.get(e.id))&&o.remove(n)}))}else for(t=uM.length-1;t>=0;t--)o.remove(uM[t])},execCommand:function(e,t,n){var o,r=this,i=E(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!r.get(i)){var a=n.options;new oM(i,a,r).render()}return!0;case"mceRemoveEditor":var u=r.get(i);return u&&u.remove(),!0;case"mceToggleEditor":var s=r.get(i);return s?(s.isHidden()?s.show():s.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){iM(uM,(function(e){e.save()}))},addI18n:function(e,t){fa.add(e,t)},translate:function(e){return fa.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new yy(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new yy(this.baseURL)}});fM.setup();var mM,pM=function(){var e=pa();return{FakeClipboardItem:function(e){return{items:e,types:ke(e),getType:function(t){return Ne(e,t).getOrUndefined()}}},write:function(t){e.set(t)},read:function(){return e.get().getOrUndefined()},clear:e.clear}}(),gM=Math.min,hM=Math.max,vM=Math.round,bM=function(e,t,n){var o=t.x,r=t.y,i=e.w,a=e.h,u=t.w,s=t.h,c=(n||"").split("");return"b"===c[0]&&(r+=s),"r"===c[1]&&(o+=u),"c"===c[0]&&(r+=vM(s/2)),"c"===c[1]&&(o+=vM(u/2)),"b"===c[3]&&(r-=a),"r"===c[4]&&(o-=i),"c"===c[3]&&(r-=vM(a/2)),"c"===c[4]&&(o-=vM(i/2)),yM(o,r,i,a)},yM=function(e,t,n,o){return{x:e,y:t,w:n,h:o}},xM={inflate:function(e,t,n){return yM(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:bM,findBestRelativePosition:function(e,t,n,o){var r,i;for(i=0;i<o.length;i++)if((r=bM(e,t,o[i])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[i];return null},intersect:function(e,t){var n=hM(e.x,t.x),o=hM(e.y,t.y),r=gM(e.x+e.w,t.x+t.w),i=gM(e.y+e.h,t.y+t.h);return r-n<0||i-o<0?null:yM(n,o,r-n,i-o)},clamp:function(e,t,n){var o=e.x,r=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=hM(0,t.x-o),l=hM(0,t.y-r),d=hM(0,i-u),f=hM(0,a-s);return o+=c,r+=l,n&&(i+=c,a+=l,o-=d,r-=f),yM(o,r,(i-=d)-o,(a-=f)-r)},create:yM,fromClientRect:function(e){return yM(e.left,e.top,e.width,e.height)}},wM=function(){var e={},t={};return{load:function(n,o){var r='Script at URL "'.concat(o,'" failed to load'),i='Script at URL "'.concat(o,"\" did not call `tinymce.Resource.add('").concat(n,"', data)` within 1 second");if(void 0!==e[n])return e[n];var a=new Promise((function(e,a){var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=!1,r=null,i=function(e){return function(){if(!o){o=!0,null!==r&&(clearTimeout(r),r=null);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(null,n)}}},a=i(e),u=i(t),s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o||null!==r||(r=setTimeout((function(){return u.apply(null,t)}),n))};return{start:s,resolve:a,reject:u}}(e,a);t[n]=u.resolve,ua.ScriptLoader.loadScript(o).then((function(){return u.start(i)}),(function(){return u.reject(r)}))}));return e[n]=a,a},add:function(n,o){void 0!==t[n]&&(t[n](o),delete t[n]),e[n]=Promise.resolve(o)},unload:function(t){delete e[t]}}}();try{var CM="__storage_test__";(mM=window.localStorage).setItem(CM,CM),mM.removeItem(CM)}catch(EM){mM=function(){var e={},t=[],n={getItem:function(t){return e[t]||null},setItem:function(n,o){t.push(n),e[n]=String(o)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}var kM={geom:{Rect:xM},util:{Delay:jm,Tools:jt,VK:Of,URI:yy,EventDispatcher:DD,Observable:ND,I18n:fa,LocalStorage:mM,ImageUploader:function(e){var t=kw(),n=Tw(e,t);return{upload:function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.upload(t,o?_w(e):void 0)}}}},dom:{EventUtils:Ji,TreeWalker:lr,TextSeeker:Pa,DOMUtils:ia,ScriptLoader:ua,RangeUtils:am,Serializer:Hx,StyleSheetLoader:sr,ControlSelection:_f,BookmarkManager:bf,Selection:zx,Event:Ji.Event},html:{Styles:qi,Entities:Ti,Node:xp,Schema:Bi,DomParser:Ny,Writer:Rp,Serializer:Dp},Env:qt,AddOnManager:ma,Annotator:vf,Formatter:Iw,UndoManager:Vw,EditorCommands:CD,WindowManager:pw,NotificationManager:dw,EditorObservable:BD,Shortcuts:QD,Editor:oM,FocusManager:Vm,EditorManager:fM,DOM:ia.DOM,ScriptLoader:ua.ScriptLoader,PluginManager:fw,ThemeManager:mw,ModelManager:nw,IconManager:tw,Resource:wM,FakeClipboard:pM,trim:jt.trim,isArray:jt.isArray,is:jt.is,toArray:jt.toArray,makeMap:jt.makeMap,each:jt.each,map:jt.map,grep:jt.grep,inArray:jt.inArray,extend:jt.extend,walk:jt.walk,resolve:jt.resolve,explode:jt.explode,_addCacheSuffix:jt._addCacheSuffix},SM=jt.extend(fM,kM);!function(e){window.tinymce=e,window.tinyMCE=e}(SM),function(t){try{e.exports=t}catch(n){}}(SM)}()},6523:function(e){"use strict";e.exports=JSON.parse('[{"text":"Supremo Tribunal de Justi\xe7a","entities":[]},{"text":"","entities":[]},{"text":"\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t5.\xaa Sec\xe7\xe3o Criminal","entities":[]},{"text":"","entities":[]},{"text":"Proc. n.\xba 129/21.1YRCBR","entities":[]},{"text":"","entities":[]},{"text":"Extradi\xe7\xe3o ","entities":[]},{"text":"","entities":[]},{"text":"*","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"Acordam, em Confer\xeancia, na 5.\xaa Sec\xe7\xe3o do Supremo Tribunal de Justi\xe7a.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            I - Pedido de extradi\xe7\xe3o e termos subsequentes","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"1. O Minist\xe9rio P\xfablico junto do Tribunal da Rela\xe7\xe3o de Coimbra veio, ao abrigo do disposto no art.50.\xba, n.\xba 2, da Lei n.\xba 144/99, de 31 de agosto, requerer a extradi\xe7\xe3o para a Federa\xe7\xe3o Russa de Stepan Nikolaevich Furman, devidamente identificado nos autos, atualmente detido preventivamente em Estabelecimento Prisional, apresentando, em s\xedntese, os seguintes fundamentos: ","entities":[["ORG",5,23,"Minist\xe9rio P\xfablico"],["ORG",33,63,"Tribunal da Rela\xe7\xe3o de Coimbra"],["DAT",134,146,"31 de agosto"],["LOC",177,221,"Federa\xe7\xe3o Russa de Stepan Nikolaevich Furman"],["LOC",296,321,"Estabelecimento Prisional"]]},{"text":"","entities":[]},{"text":"- As autoridades Judici\xe1rias Russas emitiram, em 3 de outubro de 2019, uma ordem de captura do requerido Stepan Nikolaevich Furman, enviada via Interpol para a sua deten\xe7\xe3o provis\xf3ria, porquanto corre termos contra ele o processo-crime n.\xba 11901470012000116, no Departamento de Investiga\xe7\xe3o da Dire\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia, na regi\xe3o de Murmansk;","entities":[["ORG",17,35,"Judici\xe1rias Russas"],["DAT",49,69,"3 de outubro de 2019"],["PER",105,130,"Stepan Nikolaevich Furman"],["ORG",144,152,"Interpol"],["ORG",262,350,"Departamento de Investiga\xe7\xe3o da Dire\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia"],["LOC",365,373,"Murmansk"]]},{"text":"","entities":[]},{"text":"- O extraditando encontra-se ali acusado de um crime de ocupa\xe7\xe3o da posi\xe7\xe3o mais alta na hierarquia criminal (associa\xe7\xe3o criminosa), previsto e punido pelo artigo 210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, com uma pena m\xe1xima abstratamente aplic\xe1vel de 15 anos de pris\xe3o, pelos factos, que descreve, praticados entre 1994 e 27 de agosto de 2019.","entities":[["DAT",316,320,"1994"],["DAT",323,343,"27 de agosto de 2019"]]},{"text":"","entities":[]},{"text":"- Os factos imputados ao extraditando integram, segundo a lei portuguesa, o crime de associa\xe7\xe3o criminosa, previsto pelo artigo 299.\xba n.\xbas 1 e 3 do C\xf3digo Penal Portugu\xeas e pun\xedveis com pena de 2 a 8 anos de pris\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"- O procedimento criminal n\xe3o se encontra extinto, por prescri\xe7\xe3o ou amnistia, quer nos termos da legisla\xe7\xe3o portuguesa, quer nos termos da legisla\xe7\xe3o da Federa\xe7\xe3o Russa e portuguesa, quer nos termos da legisla\xe7\xe3o da Federa\xe7\xe3o Russa.","entities":[["ORG",154,169,"Federa\xe7\xe3o Russa"],["ORG",217,232,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"n\xe3o h\xe1 conhecimento de que se encontra atualmente pendente perante os tribunais Portugueses qualquer processo criminal contra o extraditando, por outros ou pelos mesmos factos que fundamentam o presente pedido de extradi\xe7\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"- O pedido formal de extradi\xe7\xe3o foi atempadamente apresentado \xe0s Autoridades Portuguesas, tendo sua Excel\xeancia o Secret\xe1rio de Estado Adjunto da Justi\xe7a, por delega\xe7\xe3o da Senhora Ministra da Justi\xe7a, por despacho de 6 de agosto de 2021, considerado admiss\xedvel o pedido de extradi\xe7\xe3o para a Federa\xe7\xe3o Russa, nos termos do artigo 2.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e dos artigos 4.\xba, 31.\xba e 48.\xba, n.\xba 2 da Lei n.\xba 144/99;","entities":[["ORG",65,88,"Autoridades Portuguesas"],["DAT",216,235,"6 de agosto de 2021"],["ORG",290,305,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"f) O pedido formal de extradi\xe7\xe3o, apresentado \xe0s Autoridades Portuguesas pelas Autoridades da Federa\xe7\xe3o Russa, satisfaz os requisitos dos artigos 4.\xba, 31.\xba e 48.\xba, n.\xba 2 da Lei n.\xba 144/99, estando assegurado o princ\xedpio da reciprocidade;","entities":[["ORG",49,109,"Autoridades Portuguesas pelas Autoridades da Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"g) Contra o extraditando iniciou-se no Tribunal da Rela\xe7\xe3o de Coimbra o processo n.\xba 93/21.7YRCBR, da 5.\xaa Sec\xe7\xe3o, por o mesmo, em execu\xe7\xe3o do referido mandado de captura pendente na altura no GNI e emitido pelas Autoridades da R\xfassia, pelos factos sucintamente atr\xe1s referidos, ter sido oportunamente detido, em 20 de Junho de 2021, na Nazar\xe9, tendo-lhe sido mantida a deten\xe7\xe3o, enquanto se aguardaria que as Autoridades da Federa\xe7\xe3o Russa apresentassem o pedido formal de extradi\xe7\xe3o, o que vieram a fazer.","entities":[["ORG",39,69,"Tribunal da Rela\xe7\xe3o de Coimbra"],["ORG",192,195,"GNI"],["ORG",212,233,"Autoridades da R\xfassia"],["DAT",312,331,"20 de Junho de 2021"],["LOC",336,342,"Nazar\xe9"],["ORG",409,439,"Autoridades da Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"Juntou os documentos tidos por pertinentes.","entities":[]},{"text":"","entities":[]},{"text":" ","entities":[]},{"text":"","entities":[]},{"text":"            2. Procedeu-se \xe0 audi\xe7\xe3o do extraditando, nos termos e para os efeitos previstos no art.54.\xba da Lei n.\xba 144/99, tendo o mesmo se oposto ao pedido de extradi\xe7\xe3o formulado pela Federa\xe7\xe3o Russa e declarado n\xe3o renunciar ao benef\xedcio da regra da especialidade. ","entities":[["ORG",187,202,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            3. Notificado nos termos e para os efeitos do disposto no artigo 55.\xba da Lei n.\xba 144/99, veio o requerido Stepan Nikolaevich Furman deduzir oposi\xe7\xe3o ao pedido de extradi\xe7\xe3o, porquanto e em s\xedntese:","entities":[["PER",118,143,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"- o pedido n\xe3o passa de um ato de persegui\xe7\xe3o pessoal contra ele, o qual \xe9 tido como persona non grata ao atual regime pol\xedtico, estando a ser alvo de liquida\xe7\xe3o de car\xe1cter, ao arrepio dos mais elementares direitos humanos e princ\xedpios gerais de direito nacional e internacional, nomeadamente a Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos do Homem e das Liberdades Fundamentais, de 4 de Novembro de 1950.","entities":[["DAT",387,408,"4 de Novembro de 1950"]]},{"text":"","entities":[]},{"text":"- n\xe3o se verificam no pedido de extradi\xe7\xe3o os requisitos formais que devem obrigatoriamente acompanhar o pedido, nos termos conjugados dos artigos 24.\xba, 23.\xba n.\xba 1, al\xednea e), e 4.\xba, todos da Lei n.\xba 144/99, e do artigo 12.\xba, n.\xba 2, al\xednea b), da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o; ","entities":[]},{"text":"","entities":[]},{"text":"- n\xe3o verificam os requisitos de fundo que devem obrigatoriamente acompanhar o pedido, nomeadamente o Princ\xedpio da Legalidade constante do art.7.\xba, n.\xba 1 da Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos do Homem e das Liberdades Fundamentais, de 4 de Novembro de 1950, aplic\xe1vel ex vi artigo 6.\xba, n.\xba 1 da Lei de Coopera\xe7\xe3o Judici\xe1ria (nullum crimen, nulla poene sine lege); ","entities":[["DAT",248,269,"4 de Novembro de 1950"]]},{"text":"","entities":[]},{"text":"- n\xe3o h\xe1 garantias jur\xeddicas de um procedimento criminal e de cumprimento da pena de pris\xe3o em condi\xe7\xf5es que respeitem os direitos humanos internacionalmente reconhecidos, pelo que se verifica o fundamento da recusa da extradi\xe7\xe3o, por for\xe7a da ressalva consagrada no art.1.\xba da Resolu\xe7\xe3o da Assembleia da Rep\xfablica n.\xba 23/89, de 21 de agosto, que aprovou a Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e por for\xe7a disposto no artigo 2.\xba, n.\xba 1 da Lei de Coopera\xe7\xe3o Judici\xe1ria; e","entities":[["DAT",329,341,"21 de agosto"]]},{"text":"","entities":[]},{"text":"- verificando-se a exist\xeancia de grave preju\xedzo para o extraditando, h\xe1 tamb\xe9m fundamento de recusa da extradi\xe7\xe3o, sob pena de viola\xe7\xe3o da ressalva \xe0 Conven\xe7\xe3o prevista no artigo 2.\xba, n.\xba 1 da Lei de Coopera\xe7\xe3o Judici\xe1ria, e sob pena de viola\xe7\xe3o da cl\xe1usula humanit\xe1ria consagrada no artigo 18.\xba, n.\xba 2 da Lei de Coopera\xe7\xe3o Judici\xe1ria (viola\xe7\xe3o de direitos humanos nas pris\xf5es).","entities":[]},{"text":"","entities":[]},{"text":"Para prova do alegado, juntou o extraditando cinco documentos e arrolou uma testemunha.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            4. Na vista a que se refere o artigo 55.\xba, n.\xba 3 da Lei n.\xba 144/99, o Exmo. Procurador-Geral Adjunto no Tribunal da Rela\xe7\xe3o pugnou no sentido de que seja decertada a extradi\xe7\xe3o solicitada pela Federa\xe7\xe3o Russa do seu cidad\xe3o nacional Stepan Nikolaevich Furman, alegando, em breve s\xedntese, que n\xe3o cabe \xe0 Rela\xe7\xe3o sindicar as decis\xf5es das autoridades de um Estado requerente de extradi\xe7\xe3o, mas  t\xe3o s\xf3 garantir e verificar que est\xe3o reunidas no processo as condi\xe7\xf5es e as garantias de respeito pela dignidade da pessoa humana pr\xf3prias de um Estado de Direito, por forma a que tenha um processo e um julgamento justo no Estado que o reclama e, no caso concreto, o pedido de extradi\xe7\xe3o pela pr\xe1tica dos factos em apre\xe7o respeita as normas dos artigos 23.\xba e 44.\xba, n.\xba 1 da Lei n.\xba 144/99, bem como todos os necess\xe1rios requisitos formais, n\xe3o violando as normas e princ\xedpios invocados pelo extraditando e que no entender deste levariam \xe0 recusa do pedido.","entities":[["ORG",116,135,"Tribunal da Rela\xe7\xe3o"],["ORG",205,220,"Federa\xe7\xe3o Russa"],["PER",245,270,"Stepan Nikolaevich Furman"],["ORG",628,634,"Estado"]]},{"text":"","entities":[]},{"text":"Apresentou, para jun\xe7\xe3o aos autos, nos termos do artigo 55.\xba, n.\xba 3 da Lei n.\xba 144/99, informa\xe7\xf5es recebidas do Estado requerente, com indica\xe7\xe3o de factos concretos que alegadamente ter\xe3o sido praticados por elementos da organiza\xe7\xe3o criminosa chefiada pelo requerido.","entities":[["ORG",112,118,"Estado"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            5. O requerido foi notificado da resposta e dos documentos apresentados pelo Minist\xe9rio P\xfablico.","entities":[["ORG",89,107,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            6. A relatora, por despacho proferido em 10 de Setembro de 2021, indeferiu a inquiri\xe7\xe3o da testemunha que o extraditando requereu, bem como o pretendido envio, pelas autoridades Russas, de segunda via do seu passaporte, com indica\xe7\xe3o expressa das desloca\xe7\xf5es efetuadas, considerando para o efeito, no essencial, que a produ\xe7\xe3o de prova se deve restringir ao objeto do processo de extradi\xe7\xe3o, estando vedada a prova sobre os factos imputados ao extraditando (artigo 46.\xba, n.\xba 3 da Lei n.\xba 144/99), revelando-se, por conseguinte, as referidas dilig\xeancias desnecess\xe1rias e configurando um ato in\xfatil, estando tamb\xe9m, por esse motivo, vedada a sua pr\xe1tica (artigo 130.\xba do CPC, ex vi artigo 4.\xba do CPP). Mais determinou, que os autos fossem \xe0 confer\xeancia, nos termos do art.57.\xba, n.\xbas 1 e 2 da Lei n.\xba 144/99.  ","entities":[["DAT",53,75,"10 de Setembro de 2021"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"II \u2013 Ac\xf3rd\xe3o do Tribunal da Rela\xe7\xe3o de Coimbra","entities":[["ORG",16,46,"Tribunal da Rela\xe7\xe3o de Coimbra"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            7. Por ac\xf3rd\xe3o proferido em 30 de setembro de 2021, o Tribunal da Rela\xe7\xe3o de Coimbra, decidiu autorizar a extradi\xe7\xe3o do requerido Stepan Nikolaevich Furman para a Federa\xe7\xe3o Russa para efeitos de procedimento penal pelo crime de \u201cocupa\xe7\xe3o da posi\xe7\xe3o mais alta na hierarquia criminal\u201d, previsto e punido pelo artigo 210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, considerando para o efeito a seguinte mat\xe9ria de facto provada, n\xe3o provada e motiva\xe7\xe3o (transcri\xe7\xe3o):","entities":[["DAT",40,62,"30 de setembro de 2021"],["ORG",66,96,"Tribunal da Rela\xe7\xe3o de Coimbra"],["PER",142,167,"Stepan Nikolaevich Furman"],["ORG",175,190,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"           \xab2.1. \xc9 a seguinte a mat\xe9ria de facto apurada, com interesse para a decis\xe3o da causa:","entities":[]},{"text":"","entities":[]},{"text":"            2.1.1. No processo criminal n.\xba 11901470012000116, que corre termos no Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia, na regi\xe3o de Murmansk, o extraditando Stepan Nikolaevich Furman encontra-se acusado de um crime de \u201cocupa\xe7\xe3o da posi\xe7\xe3o mais alta na hierarquia criminal\u201d, previsto no artigo 210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, e pun\xedvel com uma pena m\xe1xima abstractamente aplic\xe1vel de 15 anos de pris\xe3o.","entities":[["ORG",83,172,"Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia"],["LOC",187,195,"Murmansk"],["PER",212,237,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"            2.1.2. Crime esse consubstanciado no que ali \xe9 imputado ao requerido Stepan Nikolaevich Furman, nos seguintes termos: ","entities":[["PER",81,106,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"            a) Depois de ser libertado de institui\xe7\xe3o correccional da Regi\xe3o de Kirov, em 6 de Outubro de 1994, onde cumpriu pena, o requerido Stepan Nikolaevich Furman veio a ocupar a posi\xe7\xe3o mais alta na hierarquia criminosa na regi\xe3o de Murmansk, assumindo o estatuto criminal do denominado \u201cvor v zakone\u201d (ou \u201cladr\xe3o na lei\u201d), passando a possuir fun\xe7\xf5es administrativas organizacionais, aderindo, distribuindo e preservando as tradi\xe7\xf5es e costumes criminosos, passando a exercer autoridade incondicional entre as pessoas aderentes \xe0 ideologia criminosa, tendo experi\xeancia na actividade criminosa, agindo por \xe2nimos de lucro e tendo na sua esfera de influ\xeancia o territ\xf3rio da regi\xe3o de Murmansk.","entities":[["LOC",80,85,"Kirov"],["DAT",90,110,"6 de Outubro de 1994"],["PER",143,168,"Stepan Nikolaevich Furman"],["LOC",240,248,"Murmansk"],["LOC",690,698,"Murmansk"]]},{"text":"","entities":[]},{"text":"          b) Assim, o requerido Stepan Nikolaevich Furman, que residia e efectivamente permanecia no territ\xf3rio da regi\xe3o de Murmansk, no per\xedodo de 1994 a 27 de Agosto de 2019, utilizando a sua autoridade do chamado \u201cladr\xe3o na lei\u201d, deliberada e ilegalmente distribuiu esferas de influ\xeancia para realizar os seus planos criminosos na regi\xe3o de Murmansk, definiu e nomeou por sua decis\xe3o obstinada para os \u201ccargos mais altos da hierarquia criminosa\u201d pessoas da sua confian\xe7a, autorizando-as a desempenhar fun\xe7\xf5es organizacionais, administrativas, regulat\xf3rias e disciplinares dentro de um determinado territ\xf3rio no campo da actividade criminosa, o que fez, nomeadamente, com:","entities":[["PER",32,57,"Stepan Nikolaevich Furman"],["LOC",125,133,"Murmansk"],["DAT",149,153,"1994"],["DAT",156,176,"27 de Agosto de 2019"],["LOC",345,353,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Novikov O. A., o chamado \u201csupervisor\u201d da cidade de Kandalaksha, regi\xe3o de Murmansk;","entities":[["PER",2,12,"Novikov O."],["LOC",53,64,"Kandalaksha"],["LOC",76,84,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Sorokin V. V., o chamado \u201csupervisor\u201d do distrito de Pechenga da regi\xe3o de Murmansk;","entities":[["PER",2,15,"Sorokin V. V."],["LOC",55,63,"Pechenga"],["LOC",77,85,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Kaymazyan M. T., o chamado \u201csupervisor\u201d da unidade territorial administrativa fechada \u201cAleksandrovsk\u201d da regi\xe3o de Murmansk;","entities":[["PER",2,17,"Kaymazyan M. T."],["LOC",89,102,"Aleksandrovsk"],["LOC",117,125,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Nevzorov V. V., o chamado \u201csupervisor\u201d da cidade de Apatity, regi\xe3o de Murmansk;","entities":[["PER",2,16,"Nevzorov V. V."],["LOC",54,61,"Apatity"],["LOC",73,81,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Zaborshchikov V. E., o chamado \u201csupervisor\u201d da cidade de Monchegorsk, regi\xe3o de Murmansk;","entities":[["PER",2,18,"Zaborshchikov V."],["LOC",59,70,"Monchegorsk"],["LOC",82,90,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Mishin A. S., o chamado \u201csupervisor\u201d da cidade de Murmansk e Predatko R V. o chamado \u201csupervisor\u201d da cidade de Kovdor, regi\xe3o de Murmansk;","entities":[["PER",2,14,"Mishin A. S."],["LOC",52,60,"Murmansk"],["PER",63,76,"Predatko R V."],["LOC",113,119,"Kovdor"],["LOC",131,139,"Murmansk"]]},{"text":"","entities":[]},{"text":"- Predatko R.V., o chamado \u201csupervisor\u201d da cidade de Murmansk.","entities":[["PER",2,15,"Predatko R.V."],["LOC",53,61,"Murmansk"]]},{"text":"","entities":[]},{"text":"          c) Al\xe9m disso, o requerido Stepan Nikolaevich Furman, no per\xedodo de 1994 a 27 de Agosto de 2019, estando no territ\xf3rio da regi\xe3o de Murmansk, deliberadamente criou, organizou e apoiou o sistema do chamado de \u201cfundo comum dos ladr\xf5es\u201d, que \xe9 uma colecta de dinheiro e outros bens (alimentos, tabaco e outras necessidades b\xe1sicas) acumulados, controlados e distribu\xeddos por pessoas que ocupam a posi\xe7\xe3o mais alta na hierarquia criminosa, a fim de fornecer recursos e apoio financeiro a representantes individuais do meio criminoso, membros de grupos do crime organizado, bem como pessoas detidas em locais de isolamento for\xe7ado da sociedade, obedecendo incondicionalmente \xe0s regras e regulamentos informais  inclu\xeddos no chamado \u201ccaminho dos ladr\xf5es (lei dos ladr\xf5es)\u201d.","entities":[["PER",37,62,"Stepan Nikolaevich Furman"],["DAT",78,82,"1994"],["DAT",85,105,"27 de Agosto de 2019"],["LOC",142,150,"Murmansk"]]},{"text":"","entities":[]},{"text":"          d) Criado pelo \u201cladr\xe3o na lei\u201d Furman S. N. [Stepan Nikolaevich Furman], o \\"fundo comum de ladr\xf5es\\" \xe9 um sistema criminal de colecta permanente (sistem\xe1tica) de contribui\xe7\xf5es de fundos de pessoas pertencentes \xe0 hierarquia criminal, sem base legal, bem como de pessoas que cumprem pena de pris\xe3o em institui\xe7\xf5es correccionais do Servi\xe7o Penitenci\xe1rio Federal da R\xfassia, na regi\xe3o de Murmansk, sendo a acumula\xe7\xe3o monet\xe1ria intencional de fundos de fontes legais e ilegais de receitas retiradas do controle estatal para a manuten\xe7\xe3o de pessoas pertencentes \xe0 hierarquia criminosa e a implementa\xe7\xe3o de actividades criminosas por tais pessoas. Furman S. N., enquanto permanecia na regi\xe3o de Murmansk (a localiza\xe7\xe3o mais precisa n\xe3o foi estabelecida), nomeou pessoalmente o cidad\xe3o R. A. Gabrielyan como o \u201cdetentor do fundo comum dos ladr\xf5es\u201d.","entities":[["ORG",41,50,"Furman S."],["PER",55,80,"Stepan Nikolaevich Furman"],["ORG",338,377,"Servi\xe7o Penitenci\xe1rio Federal da R\xfassia"],["LOC",392,400,"Murmansk"],["PER",649,658,"Furman S."],["LOC",696,704,"Murmansk"],["PER",786,802,"R. A. Gabrielyan"]]},{"text":"","entities":[]},{"text":"          e) No per\xedodo de 1 de Janeiro de 2017 a 27 de Agosto de 2019, enquanto \u201cladr\xe3o na lei\u201d, Stepan Nikolaevich Furman, por meio de transfer\xeancias banc\xe1rias para contas abertas em nome das pessoas que lhes foram confiadas em institui\xe7\xf5es de cr\xe9dito localizadas na regi\xe3o de Murmansk, atrav\xe9s dos chamados \u201csupervisores\u201d Novikov O. A., Sorokin V. V., Kaymazyan M. T., Nevzorov V. V., Zaborshchikov V. E., Mishin A. S., Predatko R. V., outras pessoas de confian\xe7a e o \u201cdetentor do fundo comum dos ladr\xf5es\u201d Gabrielyan R. A., agindo por acordo pr\xe9vio com ele, organizou uma colecta de fundos de pessoas do ambiente criminal da regi\xe3o de Murmansk (incluindo dos condenados cumprindo penas em  institui\xe7\xf5es correccionais: Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal (FKU IK) N.\xba 16 do Servi\xe7o Penitenci\xe1rio Federal da R\xfassia na regi\xe3o de Murmansk, Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal FKU IK N.\xba 17 do Servi\xe7o Penitenci\xe1rio Federal da R\xfassia na regi\xe3o de Murmansk, Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal FKU IK N.\xba18 do Servi\xe7o Penitenci\xe1rio Federal da R\xfassia na regi\xe3o de Murmansk, Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal FKU IK N.\xba 23 do Servi\xe7o Penitenci\xe1rio Federal da R\xfassia na regi\xe3o de Murmansk) e da parte da popula\xe7\xe3o relacionada com o ambiente criminal, fundos monet\xe1rios no valor de, pelo menos, 100 milh\xf5es de rublos. Os fundos recebidos de forma criminosa e ilegal foram gastos pelo \u201cladr\xe3o na lei\u201d Furman S. N. e o \u201cdetentor do fundo comum dos ladr\xf5es\u201d R. A. Gabrielyan, para apoiar as actividades da hierarquia criminosa, assist\xeancia material aos condenados \xe0 pris\xe3o e seus companheiros, e tamb\xe9m para os seus \xe2nimos de lucro pessoal. ","entities":[["DAT",27,47,"1 de Janeiro de 2017"],["DAT",50,70,"27 de Agosto de 2019"],["PER",98,123,"Stepan Nikolaevich Furman"],["LOC",279,287,"Murmansk"],["PER",325,335,"Novikov O."],["PER",340,350,"Sorokin V."],["PER",355,367,"Kaymazyan M."],["PER",372,380,"Nevzorov"],["PER",388,401,"Zaborshchikov"],["PER",409,418,"Mishin A."],["PER",423,434,"Predatko R."],["PER",509,522,"Gabrielyan R."],["LOC",638,646,"Murmansk"],["ORG",721,762,"Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal"],["ORG",764,767,"FKU"],["ORG",782,821,"Servi\xe7o Penitenci\xe1rio Federal da R\xfassia"],["LOC",835,843,"Murmansk"],["ORG",845,886,"Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal"],["ORG",887,890,"FKU"],["ORG",904,943,"Servi\xe7o Penitenci\xe1rio Federal da R\xfassia"],["LOC",957,965,"Murmansk"],["ORG",967,1008,"Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal"],["ORG",1009,1012,"FKU"],["ORG",1025,1064,"Servi\xe7o Penitenci\xe1rio Federal da R\xfassia"],["LOC",1078,1086,"Murmansk"],["ORG",1088,1129,"Institui\xe7\xe3o Federal Estatal Col\xf3nia Penal"],["ORG",1147,1186,"Servi\xe7o Penitenci\xe1rio Federal da R\xfassia"],["LOC",1200,1208,"Murmansk"],["ORG",1419,1428,"Furman S."],["PER",1474,1490,"R. A. Gabrielyan"]]},{"text":"","entities":[]},{"text":"          f) Al\xe9m disso, no per\xedodo desde 1994 a 27 de Agosto de 2019, Furman S. N. manteve la\xe7os criminais com outros \u201cladr\xf5es na lei\u201d que vivem no territ\xf3rio da Federa\xe7\xe3o Russa, participou nas chamadas \u201creuni\xf5es de ladr\xf5es na lei\u201d, realizando suas actividades criminosas nos territ\xf3rios de outras entidades constituintes da Federa\xe7\xe3o Russa, onde se discutiram as quest\xf5es da distribui\xe7\xe3o das esferas de influ\xeancia no ambiente criminal.","entities":[["DAT",42,46,"1994"],["DAT",49,69,"27 de Agosto de 2019"],["PER",71,83,"Furman S. N."],["ORG",163,178,"Federa\xe7\xe3o Russa"],["ORG",326,341,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          g) Apesar da adop\xe7\xe3o da Lei Federal n.\xba 46-FZ, de 1 de Abril de 2019, \\"Sobre emendas ao C\xf3digo Penal da Federa\xe7\xe3o Russa e ao C\xf3digo de Processo Penal da Federa\xe7\xe3o Russa em termos de combate ao crime organizado\\" (entrou em vigor em 12 de Abril de 2019), que alterou o C\xf3digo Penal da Federa\xe7\xe3o Russa, artigo 210.1 \u201cOcupa\xe7\xe3o de ulna posi\xe7\xe3o superior na hierarquia criminal\u201d, ou seja, a criminaliza\xe7\xe3o do pr\xf3prio facto de ocupar uma posi\xe7\xe3o superior na hierarquia criminal, Furman S. N., desejando desempenhar as fun\xe7\xf5es de chamado \u201cladr\xe3o na lei\u201d, percebendo a ilegalidade de suas ac\xe7\xf5es, continuou a ocupar a posi\xe7\xe3o mais alta na hierarquia criminal e na categoria criminal do chamado \u201cladr\xe3o na lei\u201d, respeitando as regras e costumes adoptados no ambiente criminoso.","entities":[["DAT",60,78,"1 de Abril de 2019"],["DAT",241,260,"12 de Abril de 2019"],["PER",481,493,"Furman S. N."]]},{"text":"","entities":[]},{"text":"          2.1.3. O pedido formal de extradi\xe7\xe3o do requerido, apresentado \xe0s Autoridades Portuguesas, foi formulado pela Procuradoria-Geral da Federa\xe7\xe3o Russa, que nele exarou o seguinte conte\xfado:","entities":[["ORG",76,99,"Autoridades Portuguesas"],["ORG",120,157,"Procuradoria-Geral da Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"\u201c(\u2026)","entities":[]},{"text":"","entities":[]},{"text":"          A Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia apresenta os seus melhores cumprimentos para a Procuradoria-Geral da Rep\xfablica Portuguesa e informa que o Dire\xe7\xe3o de Investiga\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da Federa\xe7\xe3o da R\xfassia na Regi\xe3o de Murmansk est\xe1 realizando o processo criminal a respeito de Stepan Nikolaevich Furman acusado de cometer um crime previsto e pun\xedvel nos termos do artigo N\xba 210.1 (ocupando a posi\xe7\xe3o mais alta na hierarquia  criminal) do C\xf3digo Penal da Federa\xe7\xe3o Russa. ","entities":[["ORG",12,53,"Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia"],["ORG",101,143,"Procuradoria-Geral da Rep\xfablica Portuguesa"],["ORG",160,245,"Dire\xe7\xe3o de Investiga\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da Federa\xe7\xe3o da R\xfassia"],["LOC",259,267,"Murmansk"],["PER",318,343,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"          Uma descri\xe7\xe3o detalhada dos atos incriminados para S.N. Furman est\xe1 descrita nos documentos anexados. ","entities":[["PER",61,72,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"          Em rela\xe7\xe3o a S.N. Furman, uma medida preventiva foi escolhida na forma de deten\xe7\xe3o e este cidad\xe3o foi colocado na lista de procurados. ","entities":[["PER",23,34,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"          De acordo com as informa\xe7\xf5es dispon\xedveis, S.N. Furman est\xe1 atualmente detido no territ\xf3rio de Portugal. ","entities":[["PER",52,63,"S.N. Furman"],["LOC",104,112,"Portugal"]]},{"text":"","entities":[]},{"text":"          Com base no exposto, guiado os artigos 1\xba, 2\xba, 12\xba e 16\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o de 13.12.1957, pe\xe7o que detenham e extraditem o cidad\xe3o da Federa\xe7\xe3o da R\xfassia Stepan Nikolaevich Furman, nascido em 14.05.1963, natural da regi\xe3o de Murmansk, para o processo criminal. ","entities":[["DAT",106,116,"13.12.1957"],["ORG",162,181,"Federa\xe7\xe3o da R\xfassia"],["PER",182,207,"Stepan Nikolaevich Furman"],["DAT",220,230,"14.05.1963"],["LOC",253,261,"Murmansk"]]},{"text":"","entities":[]},{"text":"          A Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia garante que o pedido atual de extradi\xe7\xe3o n\xe3o tem objetivos de persegui\xe7\xe3o por motivos pol\xedticos ou inten\xe7\xf5es discriminativas em rela\xe7\xe3o a uma ra\xe7a, seguimento de uma religi\xe3o, nacionalidade ou opini\xf5es pol\xedticas. ","entities":[["ORG",12,53,"Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia"]]},{"text":"","entities":[]},{"text":"          S.N. Furman ser\xe1 concedido todas as oportunidades de defesa, incluindo uma assist\xeancia dos advogados. Ele n\xe3o ser\xe1 submetido a torturas, nem a penas ou tratamentos desumanos ou degradantes (os artigos 3\xba e 6\xba da Conven\xe7\xe3o Europeia dos Direitos do Homem e das Liberdades Fundamentais, bem como as conven\xe7\xf5es pertinentes das Na\xe7\xf5es Unidas, do Conselho da Europa e os seus protocolos). ","entities":[["PER",10,21,"S.N. Furman"],["ORG",333,346,"Na\xe7\xf5es Unidas"],["ORG",351,369,"Conselho da Europa"]]},{"text":"","entities":[]},{"text":"          O estatuto de limita\xe7\xf5es para a responsabiliza\xe7\xe3o criminal de S.N. Furman n\xe3o expirou, bem como ele n\xe3o possui uma imunidade que lhe protegia da persegui\xe7\xe3o penal. ","entities":[["PER",72,83,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"          S.N. Furman n\xe3o foi condenado ou absolvido anteriormente crime referida.","entities":[["PER",10,21,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"          A Procuradoria-geral garante que, segundo os termos do artigo 14\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o de 13 de dezembro de 1957, o cidad\xe3o S.N. Furman ser\xe1 perseguido, julgado e detido com vista \xe0 execu\xe7\xe3o de uma pena ou medida de seguran\xe7a submetida a qualquer outra restri\xe7\xe3o \xe0 sua liberdade individual s\xf3 pelos factos que motivaram a extradi\xe7\xe3o dele e que ap\xf3s o fim do processo criminal, ou do julgamento, e no caso de uma condena\xe7\xe3o, depois de cumprir a pena ou ser libertado dela, ele poder\xe1 deixar o territ\xf3rio da R\xfassia. ","entities":[["DAT",115,137,"13 de dezembro de 1957"],["PER",149,160,"S.N. Furman"],["LOC",531,537,"R\xfassia"]]},{"text":"","entities":[]},{"text":"          Em caso de extradi\xe7\xe3o, S.N. Furman ser\xe1 mantido numa institui\xe7\xe3o que tenha em considera\xe7\xe3o as normas especificadas na Conven\xe7\xe3o Europeia dos Direitos do Homem e das Liberdades Fundamentais de 11.04.1950 e nas Regras Penitenci\xe1rias Europeias de 11.06.2006, e os funcion\xe1rios da Embaixada de Portugal na Federa\xe7\xe3o da R\xfassia poder\xe3o visit\xe1-lo para verificarem o cumprimento das garantias apresentadas neste pedido de extradi\xe7\xe3o. ","entities":[["PER",33,44,"S.N. Furman"],["DAT",202,212,"11.04.1950"],["DAT",254,264,"11.06.2006"],["ORG",287,331,"Embaixada de Portugal na Federa\xe7\xe3o da R\xfassia"]]},{"text":"","entities":[]},{"text":"          Sendo o cidad\xe3o da Federa\xe7\xe3o da R\xfassia, S.N. Furman, segundo os termos da Parte I do Artigo 61\xba da Constitui\xe7\xe3o da Federa\xe7\xe3o da R\xfassia, n\xe3o pode ser extraditado para qualquer outro pa\xeds. ","entities":[["ORG",29,48,"Federa\xe7\xe3o da R\xfassia"],["PER",50,61,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"(\u2026)\u201d.","entities":[]},{"text":"","entities":[]},{"text":"          2.1.4. Por despacho de 6 de Agosto de 2021, o Exmo. Secret\xe1rio de Estado Adjunto da Justi\xe7a, por delega\xe7\xe3o da Exma. Senhora Ministra da Justi\xe7a, considerou admiss\xedvel o pedido de extradi\xe7\xe3o para a Federa\xe7\xe3o Russa, nos termos do artigo 2.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e dos artigos 4.\xba, 31.\xba e 48.\xba, n.\xba 2 da Lei n.\xba 144/99, de 31 de Agosto.","entities":[["DAT",33,52,"6 de Agosto de 2021"],["ORG",207,222,"Federa\xe7\xe3o Russa"],["DAT",345,357,"31 de Agosto"]]},{"text":"","entities":[]},{"text":"          2.1.5. Nas informa\xe7\xf5es recebidas do Estado requerente, j\xe1 na pend\xeancia do presente processo, emanadas da Procuradoria-Geral da Federa\xe7\xe3o Russa, com base em certificado emitido pelo Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia na regi\xe3o de Murmansk, este Departamento de Investiga\xe7\xe3o faz constar que:","entities":[["ORG",115,152,"Procuradoria-Geral da Federa\xe7\xe3o Russa"],["ORG",191,280,"Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia"],["LOC",294,302,"Murmansk"],["ORG",309,337,"Departamento de Investiga\xe7\xe3o"]]},{"text":"","entities":[]},{"text":"          \u201cFurman S. N. ocupava a mais alta posi\xe7\xe3o e chefia uma organiza\xe7\xe3o criminosa, cujos membros em sua composi\xe7\xe3o no territ\xf3rio da regi\xe3o de Murmansk da Federa\xe7\xe3o Russa, cometeram os seguintes crimes: ","entities":[["ORG",11,20,"Furman S."],["LOC",147,155,"Murmansk"],["LOC",159,174,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"           1) Predatko R. V.:","entities":[["PER",14,25,"Predatko R."]]},{"text":"","entities":[]},{"text":"            - no per\xedodo de 08.10.2004 a 11.11.2004 em rela\xe7\xe3o ao cidad\xe3o Rogachev V. Y. cometeu extors\xe3o (a exig\xeancia de a propriedade de outra pessoa ou de t\xedtulo de propriedade ou comiss\xe3o de outras ac\xe7\xf5es imobili\xe1rias) no valor de 17.000 rublos cometidos por um grupo de pessoas numa conspira\xe7\xe3o preliminar, prevista na al\xednea \u201ca\u201d da parte 2 do art. 163 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["DAT",28,38,"08.10.2004"],["DAT",41,51,"11.11.2004"],["PER",74,88,"Rogachev V. Y."],["LOC",377,392,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          - no per\xedodo de 01.01.2013 a 04.07.2020 em rela\xe7\xe3o aos cidad\xe3os Alyev M. N. o., Abbasov R. Y. o. e Huseynov Sh. N. o. cometeu extors\xe3o (exigindo a transfer\xeancia da propriedade de outra pessoa ou o direito propriedade ou cometendo outras a\xe7\xf5es de propriedade) no valor total de 1.820.000 rublos, cometida a fim de obter propriedade numa escala especialmente grande al\xednea \u201cb\u201d parte 3 do art. 163 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["DAT",26,36,"01.01.2013"],["DAT",39,49,"04.07.2020"],["PER",74,85,"Alyev M. N."],["PER",90,100,"Abbasov R."],["PER",109,120,"Huseynov Sh"]]},{"text":"","entities":[]},{"text":"          - no per\xedodo de 15.11.2020 a 22.11.2020 em rela\xe7\xe3o ao cidad\xe3o de Kalinkin A. N. cometeu extors\xe3o (a exig\xeancia de transferir a propriedade de pessoa ou de t\xedtulo de propriedade ou comiss\xe3o de outras a\xe7\xf5es imobili\xe1rias) no valor de 252,000 rublos, cometida com o uso da viol\xeancia, em grande escala, prevista nos par\xe1grafos \u201cc\u201d, \u201cd\u201d parte 2 do art. 163 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["DAT",26,36,"15.11.2020"],["DAT",39,49,"22.11.2020"],["LOC",75,89,"Kalinkin A. N."]]},{"text":"","entities":[]},{"text":"          2) Kolontai A. V.:","entities":[["PER",13,24,"Kolontai A."]]},{"text":"","entities":[]},{"text":"          - no per\xedodo de 27.08.2015 contra Rudnov R. L., Kashnikov R. P., Gontar V. S., Alculova E. S., Popov V. V., Soroka I. Y., cometeu fraude (roubo da propriedade de pessoa ou aquisi\xe7\xe3o do direito \xe0 propriedade de outra pessoa por engano ou abuso de confian\xe7a) no valor total de 6.171.000 rublos, cometida por um organizado, em escala especialmente grande, que resultou na priva\xe7\xe3o do direito do cidad\xe3o \xe0 moradia, previsto na parte 4 do art.159 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["DAT",26,36,"27.08.2015"],["PER",58,70,"Kashnikov R."],["PER",75,84,"Gontar V."],["PER",89,100,"Alculova E."],["PER",105,113,"Popov V."],["PER",118,127,"Soroka I."],["ORG",471,486,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          3) Bondarenko A. N.: ","entities":[["PER",13,29,"Bondarenko A. N."]]},{"text":"","entities":[]},{"text":"          - no per\xedodo de 10.04.2014 a 22.07.2014 contra Nuyakshin S. V. e Nuyakshina O. G. cometeu fraude (roubo da propriedade de outra pessoa ou aquisi\xe7\xe3o do direito propriedade de outra pessoa por engano ou abuso de confian\xe7a) no valor total de 1.524.000 rublos, cometida em gude escala, nos termos da parte 3 do art. 159 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["DAT",26,36,"10.04.2014"],["DAT",39,49,"22.07.2014"],["PER",57,69,"Nuyakshin S."],["PER",75,88,"Nuyakshina O."]]},{"text":"","entities":[]},{"text":"          -18.01.2015 em rela\xe7\xe3o a Yanchuk A. N. cometeu extors\xe3o (a exig\xeancia de transferir a propriedade de outra pessoa ou o direito propriedade ou comiss\xe3o de outras a\xe7\xf5es imobili\xe1rias) no valor de 300.000 rublos, previsto na parte 1 do art.163 do C\xf3digo Penal da Federa\xe7\xe3o Russa;","entities":[["DAT",10,24,"-18.01.2015 em"],["PER",35,45,"Yanchuk A."]]},{"text":"","entities":[]},{"text":"          4) Nevzorov V. V.: 02.04.2009 cometeu suborno a funcion\xe1rio em valor significativo, previsto na parte 2 do art. 291 do C\xf3digo Penal da Federa\xe7\xe3o Russa; ","entities":[["PER",13,21,"Nevzorov"],["DAT",29,39,"02.04.2009"],["ORG",145,160,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          5) Mishin A. S.: 01.01.2007 em rela\xe7\xe3o a Stavniychuk A. M. cometeu a infli\xe7\xe3o deliberada de les\xe3o corporal cometida como parte de grupo de pessoas por conspira\xe7\xe3o pr\xe9via, prevista na al\xednea \u201ca\u201d da parte 3 do art. 111 do C\xf3digo Penal da Federa\xe7\xe3o Russa\u201d.","entities":[["PER",13,25,"Mishin A. S."],["DAT",27,37,"01.01.2007"],["PER",51,68,"Stavniychuk A. M."]]},{"text":"","entities":[]},{"text":"          2.1.6. O procedimento criminal n\xe3o se encontra extinto, por prescri\xe7\xe3o ou amnistia, quer nos termos da legisla\xe7\xe3o portuguesa, quer nos termos da legisla\xe7\xe3o da Federa\xe7\xe3o Russa.","entities":[["ORG",169,184,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          2.1.7. N\xe3o h\xe1 conhecimento de que se encontra actualmente pendente perante os Tribunais Portugueses qualquer processo criminal contra o extraditando, por outros ou pelos mesmos factos que fundamentam o presente pedido de extradi\xe7\xe3o.","entities":[["ORG",88,109,"Tribunais Portugueses"]]},{"text":"","entities":[]},{"text":"          2.1.8. Consta da Resolu\xe7\xe3o do Tribunal Distrital de Oktyabrskiy de Murmansk, de 3 de Outubro de 2019, e na Decis\xe3o do Tribunal Regional de Murmansk, de 11 de Outubro de 2019, juntas com o pedido de extradi\xe7\xe3o, a primeira proferida em 1.\xaa inst\xe2ncia e a segunda em sede de recurso, respeitando ambas \xe0 aplica\xe7\xe3o, ao acusado Stepan Nikolaevich Furman, da medida preventiva de deten\xe7\xe3o, que este cruzou repetidamente a fronteira da Federa\xe7\xe3o Russa (Decis\xe3o do Tribunal Distrital de Oktyabrskiy) e viajou v\xe1rias vezes para fora do territ\xf3rio da Federa\xe7\xe3o Russa, a \xfaltima das quais em 28 de Setembro de 2018 (Decis\xe3o do Tribunal Regional de Murmansk), tendo sido inclu\xeddo na lista federal de procurados e, em seguida, em 3 de Outubro de 2019, na lista internacional de procurados.","entities":[["ORG",40,85,"Tribunal Distrital de Oktyabrskiy de Murmansk"],["DAT",90,110,"3 de Outubro de 2019"],["ORG",128,157,"Tribunal Regional de Murmansk"],["DAT",162,183,"11 de Outubro de 2019"],["PER",332,357,"Stepan Nikolaevich Furman"],["ORG",438,453,"Federa\xe7\xe3o Russa"],["ORG",466,499,"Tribunal Distrital de Oktyabrskiy"],["ORG",550,565,"Federa\xe7\xe3o Russa"],["DAT",589,611,"28 de Setembro de 2018"],["ORG",624,653,"Tribunal Regional de Murmansk"],["DAT",725,745,"3 de Outubro de 2019"]]},{"text":"","entities":[]},{"text":"          2.1.9. Em 3 de Outubro de 2019, foi emitida pelas autoridades judici\xe1rias Russas uma ordem de captura contra o requerido Stepan Nikolaevich Furman, a qual veio a ser enviada via Interpol, com o n\xfamero de controlo A-12634/12-2019.","entities":[["DAT",20,40,"3 de Outubro de 2019"],["PER",131,156,"Stepan Nikolaevich Furman"],["ORG",188,196,"Interpol"],["DAT",231,238,"12-2019"]]},{"text":"","entities":[]},{"text":"          2.1.10. O requerido Stepan Nikolaevich Furman foi detido pelas autoridades policiais nacionais (Pol\xedcia Judici\xe1ria \u2013 UNCT), em 20 de Junho de 2021, foi presente neste Tribunal da Rela\xe7\xe3o para audi\xe7\xe3o, no \xe2mbito do processo pr\xe9-extradicional de valida\xe7\xe3o da deten\xe7\xe3o com o n.\xba 93/21.7YRCBR, em 22 de Junho de 2021, dilig\xeancia em que foi proferida decis\xe3o judicial de aplica\xe7\xe3o de medida de coac\xe7\xe3o que o manteve detido preventivamente em estabelecimento prisional.","entities":[["PER",30,55,"Stepan Nikolaevich Furman"],["ORG",106,124,"Pol\xedcia Judici\xe1ria"],["ORG",127,131,"UNCT"],["DAT",137,156,"20 de Junho de 2021"],["ORG",177,196,"Tribunal da Rela\xe7\xe3o"],["DAT",303,322,"22 de Junho de 2021"]]},{"text":"","entities":[]},{"text":"          2.1.11. O pedido de extradi\xe7\xe3o do detido Stepan Nikolaevich Furman foi apresentado em ju\xedzo no dia 11 de Agosto de 2021, a sua audi\xe7\xe3o neste Tribunal da Rela\xe7\xe3o teve lugar no dia 13 de Agosto de 2021 e, em tal data, foi mantida a medida de coac\xe7\xe3o de deten\xe7\xe3o preventiva do requerido.","entities":[["PER",51,76,"Stepan Nikolaevich Furman"],["DAT",109,129,"11 de Agosto de 2021"],["ORG",151,170,"Tribunal da Rela\xe7\xe3o"],["DAT",189,209,"13 de Agosto de 2021"]]},{"text":"","entities":[]},{"text":"          2.1.12. De 17 a 22 de Maio de 2019, o requerido Stepan Nikolaevich Furman e a companheira Oksana Ivanova estiveram alojados no Hotel Maison Albar \u2013 Le Monumental Palace, no Porto, e de 22 a 24 de Maio de 2019, estiveram alojados no Hotel Sofitel Lisbon Liberdade, sito na Avenida da Liberdade, em Lisboa.","entities":[["DAT",26,44,"22 de Maio de 2019"],["PER",58,83,"Stepan Nikolaevich Furman"],["PER",100,114,"Oksana Ivanova"],["LOC",137,155,"Hotel Maison Albar"],["LOC",158,178,"Le Monumental Palace"],["LOC",183,188,"Porto"],["DAT",200,218,"24 de Maio de 2019"],["LOC",242,272,"Hotel Sofitel Lisbon Liberdade"],["LOC",282,302,"Avenida da Liberdade"],["LOC",307,313,"Lisboa"]]},{"text":"","entities":[]},{"text":"          2.1.13. Em 5 de Junho de 2019, o requerido esteve na institui\xe7\xe3o cl\xednica \u201cLeberzentrum\u201d (\u201cCentro do F\xedgado\u201d), sita em Munique, Alemanha, onde fez consulta, exames (ecografia, medi\xe7\xe3o da elasticidade do f\xedgado) e an\xe1lises ao sangue, sendo o seu diagn\xf3stico de \u201cInfec\xe7\xe3o cr\xf3nica pelo VHC, gen\xf3tipo 3\u201d.","entities":[["DAT",21,39,"5 de Junho de 2019"],["LOC",84,96,"Leberzentrum"],["LOC",100,117,"Centro do F\xedgado\u201d"],["LOC",128,135,"Munique"],["LOC",137,145,"Alemanha"]]},{"text":"","entities":[]},{"text":"          2.1.14. De 19 a 24 de Julho de 2019, o requerido Stepan Nikolaevich Furman e a companheira Oksana Ivanova estiveram em gozo do seu per\xedodo de f\xe9rias e ficaram alojados no Hotel Le Maquis, sito em Porticcio (C\xf3rsega), Fran\xe7a.","entities":[["DAT",26,45,"24 de Julho de 2019"],["PER",59,84,"Stepan Nikolaevich Furman"],["PER",101,115,"Oksana Ivanova"],["LOC",181,196,"Hotel Le Maquis"],["LOC",206,215,"Porticcio"],["LOC",217,224,"C\xf3rsega"],["LOC",227,233,"Fran\xe7a"]]},{"text":"","entities":[]},{"text":"          2.1.15. Entre 28 de Julho a 12 de Agosto de 2019, o requerido Stepan Nikolaevich Furman e a companheira Oksana Ivanova ocuparam a unidade de alojamento local da Casa Paix\xe3o, sita na Rua das Flores, n.\xba 4, em Montemor-o-Velho.","entities":[["DAT",24,35,"28 de Julho"],["DAT",38,58,"12 de Agosto de 2019"],["PER",72,97,"Stepan Nikolaevich Furman"],["PER",114,128,"Oksana Ivanova"],["LOC",171,182,"Casa Paix\xe3o"],["LOC",192,206,"Rua das Flores"],["LOC",218,234,"Montemor-o-Velho"]]},{"text":"","entities":[]},{"text":"           2.1.16. Em dia n\xe3o exactamente apurado do m\xeas de Agosto de 2019, mas n\xe3o anterior a 28 de Agosto de 2019, o requerido instalou-se definitivamente em Portugal, onde vive com a sua companheira. ","entities":[["DAT",60,74,"Agosto de 2019"],["DAT",95,115,"28 de Agosto de 2019"],["LOC",160,168,"Portugal"]]},{"text":"","entities":[]},{"text":"                                                          *","entities":[]},{"text":"","entities":[]},{"text":"          2.2. N\xe3o se provou a seguinte mat\xe9ria alegada pelo extraditando na oposi\xe7\xe3o que deduziu:","entities":[]},{"text":"","entities":[]},{"text":"          2.2.1. Embora a lei russa pro\xedba a pris\xe3o e deten\xe7\xe3o arbitr\xe1ria, as autoridades envolvidas na pris\xe3o e deten\xe7\xe3o arbitr\xe1ria, a verdade \xe9 que existe um clima de impunidade e essas deten\xe7\xf5es e pris\xf5es subsistem sem consequ\xeancias (artigo 65.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"          2.2.2. O que se coaduna com o facto de os magistrados permaneceram sujeitos \xe0 influ\xeancia do poder executivo, das for\xe7as armadas e de outras for\xe7as de seguran\xe7a, particularmente em casos de grande visibilidade ou politicamente sens\xedveis, resultando na aparente predetermina\xe7\xe3o dos julgamentos (artigo 66.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"          2.2.3. Acresce que as condi\xe7\xf5es nas pris\xf5es s\xe3o desumanas e colocam em causa a integridade f\xedsica dos detidos/presos (artigo 67.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"          2.2.4. V\xe1rios s\xe3o os relatos e relat\xf3rios de organiza\xe7\xf5es internacionais de Direitos Humanos que d\xe3o conta que a regra, i.e., o que mais comum nesse pa\xeds \xe9 a sobrelota\xe7\xe3o dos centros de deten\xe7\xe3o e das pris\xf5es, dos abusos por parte de guardas e reclusos, o acesso limitado a cuidados de sa\xfade, a escassez de alimentos, e do saneamento b\xe1sico inadequado eram comuns nas pris\xf5es (artigo 68.\xba da oposi\xe7\xe3o).","entities":[["ORG",86,102,"Direitos Humanos"]]},{"text":"","entities":[]},{"text":"           2.2.5. O requerido padece de problemas card\xedacos (artigo 71.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"           2.2.6. O requerido, face \xe0 sua actual condi\xe7\xe3o de sa\xfade, caso o presente pedido de extradi\xe7\xe3o seja deferido, tal implicar\xe1 uma condena\xe7\xe3o autom\xe1tica, sem qualquer defesa, o que, na pr\xe1tica, se traduzir\xe1 numa pena de morte (artigos 71.\xba e 72.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"           2.2.7. Isto porque na R\xfassia os reclusos n\xe3o recebem a medica\xe7\xe3o necess\xe1ria e s\xe3o colocados em condi\xe7\xf5es desumanas, sujeitos ao frio e a tortura f\xedsica e psicol\xf3gica (artigo 73.\xba da oposi\xe7\xe3o).","entities":[["LOC",33,39,"R\xfassia"]]},{"text":"","entities":[]},{"text":"          2.2.8. Sem preju\xedzo do que foi dado como assente em 2.1.12. a 2.1.15., que nos restantes per\xedodos n\xe3o referidos em tais pontos o requerido n\xe3o se encontrava em territ\xf3rio russo (artigo 40.\xba da oposi\xe7\xe3o).","entities":[]},{"text":"","entities":[]},{"text":"          2.2.9. Sem preju\xedzo da consulta cl\xednica e realiza\xe7\xe3o de exames apurados em 2.1.13., que, em Junho de 2019, o requerido esteve internado para a realiza\xe7\xe3o de tratamentos m\xe9dicos na Alemanha (artigo 42.\xba da oposi\xe7\xe3o).","entities":[["DAT",102,115,"Junho de 2019"],["LOC",190,198,"Alemanha"]]},{"text":"","entities":[]},{"text":"          2.2.10. Sem preju\xedzo do que foi dado como assente em 2.1.16., que o requerido e a companheira tivessem vindo instalar-se definitivamente em Portugal em data anterior a 28 de Agosto de 2019 (artigo 44.\xba da oposi\xe7\xe3o).","entities":[["LOC",150,158,"Portugal"],["DAT",178,198,"28 de Agosto de 2019"]]},{"text":"","entities":[]},{"text":"                                                      *","entities":[]},{"text":"","entities":[]},{"text":"          2.3. Para a prova dos factos descritos em 2.1., a Rela\xe7\xe3o baseou-se:","entities":[]},{"text":"","entities":[]},{"text":"          - Relativamente ao que foi dado como assente nos pontos 2.1.1. e 2.1.2., nos documentos de fls.11 a 27, que instru\xedram o pedido de extradi\xe7\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"           - Quanto \xe0 mat\xe9ria do ponto provado 2.1.3., no documento de fls.9 a 10-v.\xba (pedido de extradi\xe7\xe3o que a Procuradoria-Geral da Federa\xe7\xe3o Russa dirigiu \xe0s Autoridades Nacionais)","entities":[["ORG",114,151,"Procuradoria-Geral da Federa\xe7\xe3o Russa"],["ORG",163,184,"Autoridades Nacionais"]]},{"text":"","entities":[]},{"text":"           - Em rela\xe7\xe3o \xe0 mat\xe9ria do ponto provado 2.1.4., nos documentos de fls.37 e v.\xba","entities":[]},{"text":"","entities":[]},{"text":"           - Em rela\xe7\xe3o \xe0 mat\xe9ria do ponto provado 2.1.5., nos documentos de fls.94 a 95 (certificado emitido pelo Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia, na regi\xe3o de Murmansk) e of\xedcios de fls.92 a 93-v.\xba","entities":[["ORG",115,204,"Departamento de Investiga\xe7\xe3o da Direc\xe7\xe3o do Minist\xe9rio da Administra\xe7\xe3o Interna da R\xfassia"],["LOC",219,227,"Murmansk"]]},{"text":"","entities":[]},{"text":"          - Quanto ao ponto 2.1.6., no certificado relativo \xe0 prescri\xe7\xe3o do procedimento criminal de fls.29-v.\xba a 30, que acompanha o pedido de extradi\xe7\xe3o, e no extracto das normas do C\xf3digo Penal da Federa\xe7\xe3o Russa de fls.27-v.\xba a 29, que tamb\xe9m acompanha o pedido de extradi\xe7\xe3o. ","entities":[]},{"text":"","entities":[]},{"text":"          - Relativamente ao ponto 2.1.7., no desconhecimento da exist\xeancia de qualquer processo criminal instaurado contra o extraditando ou de qualquer condena\xe7\xe3o de natureza penal que o mesmo tenha sofrido.","entities":[]},{"text":"","entities":[]},{"text":"          - No que concerne ao ponto 2.1.8., no teor das decis\xf5es judiciais referidas, que acompanham o pedido de extradi\xe7\xe3o e constam de fls.20-v.\xba a 27.","entities":[]},{"text":"","entities":[]},{"text":"          - Quanto ao ponto 2.1.9., no documento que acompanha o pedido de extradi\xe7\xe3o, junto a fls.18-v.\xba a 20, e nos documentos constantes do processo pr\xe9-extradicional apenso n.\xba 93/21.7YRCBR (valida\xe7\xe3o de deten\xe7\xe3o), relativos ao mandado de captura internacional e \xe0 deten\xe7\xe3o do requerido.","entities":[]},{"text":"","entities":[]},{"text":"         - Em rela\xe7\xe3o ao ponto 2.1.10., na acta de dilig\xeancia de audi\xe7\xe3o de detido, realizada em 22 de Junho de 2021, constante do processo pr\xe9-extradicional apenso n.\xba 93/21.7YRCBR (valida\xe7\xe3o de deten\xe7\xe3o), e nos documentos constantes desse apenso, relativos ao mandado de captura internacional e \xe0 deten\xe7\xe3o do requerido, pela autoridade policial nacional.","entities":[["DAT",97,116,"22 de Junho de 2021"]]},{"text":"","entities":[]},{"text":"         - Em rela\xe7\xe3o ao ponto 2.1.11., na pe\xe7a processual junta a fls.2 a 6 e na acta de dilig\xeancia de audi\xe7\xe3o do extraditando, realizada no dia 13 de Agosto de 2021, constante de fls.51 a 53.","entities":[["DAT",146,166,"13 de Agosto de 2021"]]},{"text":"","entities":[]},{"text":"         - Quanto \xe0 mat\xe9ria do ponto 2.1.12., nos documentos n.os 1 e 2, juntos com a oposi\xe7\xe3o do requerido e constantes de fls.74 e v.\xba e 75, respectivamente.","entities":[]},{"text":"","entities":[]},{"text":"          - Em rela\xe7\xe3o \xe0 mat\xe9ria do ponto 2.1.13., no documento n.\xba 3, junto com a oposi\xe7\xe3o do requerido e constante de fls.76 a 78-v.\xba","entities":[]},{"text":"","entities":[]},{"text":"          - No que concerne \xe0 mat\xe9ria do ponto 2.1.14., no documento n.\xba 4, junto com a oposi\xe7\xe3o do requerido e constante de fls.79 a 80.","entities":[]},{"text":"","entities":[]},{"text":"          - Relativamente \xe0 mat\xe9ria do ponto 2.1.15., no documento n.\xba 5, junto com a oposi\xe7\xe3o do requerido e constante de fls.81.","entities":[]},{"text":"","entities":[]},{"text":"          - Relativamente \xe0 mat\xe9ria do ponto 2.1.16., uma vez que a produ\xe7\xe3o de prova se deve restringir ao objecto do processo de extradi\xe7\xe3o, estando vedada a prova sobre os factos imputados ao extraditando (artigo 46.\xba, n.\xba 3 da Lei n.\xba 144/99), o teor do facto descrito em 2.1.16. (\u201cEm dia n\xe3o exactamente apurado do m\xeas de Agosto de 2019, mas n\xe3o anterior a  28 de Agosto de 2019,  o requerido instalou-se definitivamente em Portugal, onde vive com a sua companheira\u201d) encontra-se formulado de acordo com a prova produzida (decis\xf5es judiciais que acompanham o pedido de extradi\xe7\xe3o e constam de fls.20-v.\xba a 27, quanto \xe0 data de sa\xedda definitiva do territ\xf3rio da Federa\xe7\xe3o Russa, e documento n.\xba 5, junto com a oposi\xe7\xe3o do requerido e constante de fls.81, sendo certo que o Minist\xe9rio P\xfablico n\xe3o se op\xf4s \xe0 alega\xe7\xe3o de que o requerido veio definitivamente para Portugal, dentro dos limites e em conformidade com a proibi\xe7\xe3o legal constante do citado artigo 46.\xba, n.\xba 3, na medida em que n\xe3o contende com os factos incriminat\xf3rios imputados pelo Estado requerente e, ao mesmo tempo, satisfaz as necessidades de apuramento de mat\xe9ria relativa \xe0 situa\xe7\xe3o pessoal e familiar do extraditando. ","entities":[["DAT",327,341,"Agosto de 2019"],["DAT",363,383,"28 de Agosto de 2019"],["LOC",429,437,"Portugal"],["ORG",666,681,"Federa\xe7\xe3o Russa"],["ORG",777,795,"Minist\xe9rio P\xfablico"],["LOC",864,872,"Portugal"],["ORG",1048,1054,"Estado"]]},{"text":"","entities":[]},{"text":"          Pelas mesmas raz\xf5es decorrentes da proibi\xe7\xe3o prevista no artigo 46.\xba, n.\xba 3 da Lei n.\xba 144/99 e inerentes \xe0 pr\xf3pria natureza do processo de extradi\xe7\xe3o, que nesta fase judicial se destina a decidir sobre a concess\xe3o da extradi\xe7\xe3o por proced\xeancia das suas condi\xe7\xf5es de forma e de fundo, ficou prejudicado o conhecimento, pela Rela\xe7\xe3o, do facto descrito no artigo 40.\xba da oposi\xe7\xe3o e o per\xedodo temporal indicado na primeira parte do artigo 44.\xba da mesma pe\xe7a processual, anterior a 28 de Agosto de 2019.","entities":[["DAT",488,508,"28 de Agosto de 2019"]]},{"text":"","entities":[]},{"text":"                                                         *","entities":[]},{"text":"","entities":[]},{"text":"          Relativamente aos factos n\xe3o provados descritos em 2.2., a sua n\xe3o demonstra\xe7\xe3o ficou a dever-se \xe0s seguintes raz\xf5es:","entities":[]},{"text":"","entities":[]},{"text":"          - Quanto \xe0 mat\xe9ria dos pontos 2.2.1., 2.2.2., 2.2.3. e 2.2.4., para al\xe9m das generaliza\xe7\xf5es que o requerido afirma quanto \xe0s situa\xe7\xf5es que enuncia, a n\xe3o demonstra\xe7\xe3o resulta da insufici\xeancia de prova sobre os mesmos, face \xe0 circunst\xe2ncia de a prova documental junta com a oposi\xe7\xe3o consistir numa s\xe9rie de not\xedcias e relat\xf3rios de v\xe1rias fontes, dispon\xedveis na Internet, essencialmente reportados aos anos 2015 e 2016, sendo certo que no pedido formal de extradi\xe7\xe3o de Stepan Nikolaevich Furman, a Autoridade requerente (Procuradoria-Geral da Federa\xe7\xe3o Russa) apresenta as garantias descritas no ponto assente 2.1.3., entre as quais, as de que ser\xe3o respeitados os direitos de defesa e as regras e princ\xedpios de direito criminal e penitenci\xe1rio consagrados em instrumentos internacionais, emanados, nomeadamente, do Conselho da Europa e das Na\xe7\xf5es Unidas, sendo que, uma vez extraditado o requerido, durante a priva\xe7\xe3o da liberdade, os funcion\xe1rios da Embaixada de Portugal na Federa\xe7\xe3o Russa poder\xe3o visit\xe1-lo para verificarem o cumprimento das garantias apresentadas no pedido de extradi\xe7\xe3o.","entities":[["DAT",416,420,"2015"],["DAT",423,427,"2016"],["PER",479,504,"Stepan Nikolaevich Furman"],["ORG",531,568,"Procuradoria-Geral da Federa\xe7\xe3o Russa"],["ORG",826,864,"Conselho da Europa e das Na\xe7\xf5es Unidas"],["ORG",962,1002,"Embaixada de Portugal na Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"          Assim, face ao teor dos elementos referidos, assim como atenta a natureza das afirma\xe7\xf5es formuladas nos aludidos pontos 2.2.1., 2.2.2., 2.2.3. e 2.2.4., oriundas do articulado de posi\xe7\xe3o do requerido, n\xe3o poderia a Rela\xe7\xe3o deixar de considerar n\xe3o apurada a mat\xe9ria dos pontos indicados.","entities":[]},{"text":"","entities":[]},{"text":"          - Quanto ao facto do ponto 2.2.5., n\xe3o foi junto qualquer elemento cl\xednico que suporte a sua demonstra\xe7\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"          - Quanto \xe0 mat\xe9ria dos pontos 2.2.6. e 2.2.7., pelas raz\xf5es j\xe1 expostas quanto \xe0 n\xe3o demostra\xe7\xe3o da factualidade dos pontos 2.2.1. a 2.2.4. e ainda que, conforme melhor se explicitar\xe1 em sede de aprecia\xe7\xe3o jur\xeddica (cf. 3.2.4.), da prova n\xe3o resulta que a Hepatite C cr\xf3nica de que o requerido padece demande tratamentos cl\xednicos com respostas mais exigentes, como \xe9 o caso das que envolvem internamentos hospitalares e/ou terap\xeauticas mais complexas. De entre os eventos de 2019 que o requerido invoca (e demonstra), apenas um se refere a consulta, exames e an\xe1lises em institui\xe7\xe3o cl\xednica (cf. 2.1.13.), sendo que os restantes se reportam a alojamentos em unidades hoteleiras, no nosso pa\xeds (cf. 2.1.12. e 2.1.15.) e em Fran\xe7a, nomeadamente para gozo de f\xe9rias (cf. 2.1.14.). Nada mais juntou para demostrar o seu estado de sa\xfade actual, sendo certo que, desde os acontecimentos de 5 de Junho de 2019, descritos em 2.1.13., n\xe3o h\xe1 registo ou not\xedcia de qualquer vicissitude entretanto ocorrida a esse n\xedvel.","entities":[["LOC",732,738,"Fran\xe7a"],["DAT",894,912,"5 de Junho de 2019"]]},{"text":"","entities":[]},{"text":"          - Quanto aos factos dos pontos 2.2.8. e 2.2.10., pelas raz\xf5es probat\xf3rias acima expostas, relativamente ao ponto assente 2.1.16.","entities":[]},{"text":"","entities":[]},{"text":"          - Quanto \xe0 factualidade do ponto 2.2.9., com base no teor do documento n.\xba 3, junto com a oposi\xe7\xe3o do requerido e constante de fls.76 a 78-v.\xba","entities":[]},{"text":"","entities":[]},{"text":"             ","entities":[]},{"text":"","entities":[]},{"text":"            III \u2013 Recurso ","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            8. Inconformado com o ac\xf3rd\xe3o da Rela\xe7\xe3o de 30 de setembro de 2021, dele interp\xf4s recurso o extraditando Stepan Nikolaevich Furman, concluindo a sua motiva\xe7\xe3o do modo seguinte: (transcri\xe7\xe3o)","entities":[["DAT",56,78,"30 de setembro de 2021"],["PER",117,142,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"1. O extraditando recorre de toda a mat\xe9ria de direito por entender que a notifica\xe7\xe3o da decis\xe3o \xe9 nula, por verificar-se nulidade do ac\xf3rd\xe3o por omiss\xe3o de pron\xfancia, nulidade por falta de dilig\xeancias obrigat\xf3rias e de erro de julgamento na aplica\xe7\xe3o do Direito aos factos.","entities":[]},{"text":"","entities":[]},{"text":"2. A notifica\xe7\xe3o da decis\xe3o \xe9 nula por falta de notifica\xe7\xe3o pessoal ao extraditando da decis\xe3o devidamente traduzida por escrito (nem sequer oralmente, apesar de ter sido entregue em m\xe3o por","entities":[]},{"text":"","entities":[]},{"text":"tradutora oficial), nos termos do disposto no n.\xba 2 do art.92.\xba, do n.\xba 10 do art.113.\xba, a al. c) do n.\xba 2 do art.120.\xba, todos do CPP, aplic\xe1vel ex vi n.\xba 2 do art.3.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[]},{"text":"","entities":[]},{"text":"3. Uma interpreta\xe7\xe3o das referidas normas no sentido de basta a mera interven\xe7\xe3o de int\xe9rprete, cuja conduta n\xe3o \xe9 sindic\xe1vel pelo Tribunal, para que a notifica\xe7\xe3o se considere regularmente efetuada e como tal, de que n\xe3o \xe9 necess\xe1ria tradu\xe7\xe3o, por escrito, para a l\xedngua do extraditando da decis\xe3o final \xe9 inconstitucional por viola\xe7\xe3o das garantias de defesa pr\xf3prias de um processo penal consagradas no art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"4. O Despacho datado de 10/09/2021 padece de nulidade por for\xe7a da omiss\xe3o de pron\xfancia da Mma. Ju\xedza sobre os documentos juntos com a oposi\xe7\xe3o, nos termos do disposto na al .c) do n.\xba 1","entities":[["DAT",24,34,"10/09/2021"]]},{"text":"","entities":[]},{"text":"do art.379.\xba do CPP.","entities":[]},{"text":"","entities":[]},{"text":"5. Do n.\xba 2 do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria resulta a obrigatoriedade de que terminada a produ\xe7\xe3o de prova o defensor do extraditando seja notificado para em cinco dias juntar aos autos alega\xe7\xf5es finais, sob pena de viola\xe7\xe3o do princ\xedpio do contradit\xf3rio.","entities":[]},{"text":"","entities":[]},{"text":"6. Tal formalidade foi completamente omitida, consubstanciando assim uma nulidade, nos termos da al. d) do n.\xba 2 do art.120.\xba do CPP e do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[]},{"text":"","entities":[]},{"text":"7. A interpreta\xe7\xe3o em sentido distinto, i.e. no sentido de o n.\xba 2 do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria n\xe3o obriga a que seja o defensor do extraditando notificado para apresentar alega\xe7\xf5es escritas \xe9 inconstitucional por viola\xe7\xe3o das garantias de defesa, m\xe1xime do contradit\xf3rio consagrado n.\xba 5 do art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"8. O Venerando Tribunal fundamentou a sua decis\xe3o final nos elementos documentais que acompanham o processo de extradi\xe7\xe3o, referentes \xe0 aplica\xe7\xe3o de medidas coativas pelas Autoridades Russas e n\xe3o no teor do pedido, esse sim, a que se refere o art. 23.\xba e o art.12.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o.","entities":[["ORG",172,190,"Autoridades Russas"]]},{"text":"","entities":[]},{"text":"9. No entanto, a fundamenta\xe7\xe3o de que o Tribunal se socorre \xe9 manifestamente insuficiente, uma vez que a dupla negativa utilizada (\xabn\xe3o se retira que n\xe3o existia lei penal anterior\xbb) aparenta revelar um desconhecimento sobre o C\xf3digo Penal Russo que \xe9 incompat\xedvel com as garantias que o princ\xedpio da legalidade \u2013 como princ\xedpio estruturante de um processo penal de um Estado de Direito \u2013 deve assegurar.","entities":[["ORG",369,386,"Estado de Direito"]]},{"text":"","entities":[]},{"text":"10. Da factualidade que consta do ponto 2.1.2 resulta imputado a pr\xe1tica do alegado crime \xe9 sempre referido o per\xedodo entre 1980 e agosto de 2019, e em momento algum \xe9 referida uma outra qualquer data que permite balizar quando os alegados crimes foram praticados, o que seria desde logo de uma generalidade incompat\xedvel com a natureza e relev\xe2ncia que o processo de extradi\xe7\xe3o assume na coopera\xe7\xe3o judicial entre os Estados.","entities":[["DAT",124,128,"1980"],["DAT",131,145,"agosto de 2019"],["ORG",417,424,"Estados"]]},{"text":"","entities":[]},{"text":"11. No seu pedido de extradi\xe7\xe3o a Federa\xe7\xe3o Russa n\xe3o faz qualquer refer\xeancia \xe0 possibilidade de os alegados crimes estarem a ser praticados fora do territ\xf3rio como faz expressamente refer\xeancia","entities":[["ORG",34,49,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"ao facto de os mesmos estarem a ser praticados dentro das suas fronteiras, pelo que o Venerando Tribunal n\xe3o poderia concluir em sede de aprecia\xe7\xe3o judicial que os mesmos poderiam ser praticados noutro pa\xeds.","entities":[]},{"text":"","entities":[]},{"text":"12. Verificando-se que o assacado crime cuja pr\xe1tica lhe foi imputado, e a pena \u2013 em abstrato \u2013 legalmente cominada para o mesmo, n\xe3o se encontravam consagrados no C\xf3digo Penal Russo aquando da alegada pr\xe1tica dos factos e estando vedada a aprecia\xe7\xe3o sobre a forma em que poderia ser praticado o crime, o Venerando Tribunal, ao decidir pela extradi\xe7\xe3o violou o disposto no n.\xba 1 do art.7.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e na al\xednea a) do n.\xba 1 do art.6.\xba do Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[]},{"text":"","entities":[]},{"text":"13. Acresce que uma interpreta\xe7\xe3o da al. a) do n.\xba 1 do art.6.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria no sentido de que os factos descritos no pedido n\xe3o t\xeam de estar devidamente enquadrados no tempo e lugar e que essa informa\xe7\xe3o pode resultar de outros elementos do processo \xe9 inconstitucional por viola\xe7\xe3o dos princ\xedpios da seguran\xe7a jur\xeddica e da legalidade criminal, consagrados, respectivamente, nos arts. 2.\xba e n.\xba 1 do artigo 29.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"14. N\xe3o obstante o Venerando Tribunal ter dado como n\xe3o provado o alegado nos arts. 62.\xba a 74.\xba da oposi\xe7\xe3o, facto \xe9 que da fundamenta\xe7\xe3o da decis\xe3o ora recorrida resulta que a aprecia\xe7\xe3o das garantias jur\xeddicas foi meramente formal e n\xe3o material.","entities":[]},{"text":"","entities":[]},{"text":"15. No entanto, para que seja aferido que o Estado Requerente cumpre as exig\xeancias indispens\xe1veis de um procedimento penal internacionalmente reconhecido n\xe3o basta uma qualquer sufici\xeancia formal.","entities":[["ORG",44,61,"Estado Requerente"]]},{"text":"","entities":[]},{"text":"16. Ao decidir que basta existir uma garantia formal \u2013 leia-se, um documento assinado por autoridade cuja compet\xeancia inclusivamente se desconhece \u2013 para considerar que n\xe3o se verifica a condi\xe7\xe3o negativa de coopera\xe7\xe3o da extradi\xe7\xe3o do art. 6.\xba, al. a), da Lei 144/99, de 31.08, e da reserva formulada por Portugal \xe0 Conven\xe7\xe3o Europeia de extradi\xe7\xe3o com refer\xeancia aos arts. 3.\xba e 6.\xba da CEDH, violou o Tribunal a quo manifestamente estas normas, bem como o art. 13.\xba da CEDH, colocando o extraditando em risco s\xe9rio e iminente de viola\xe7\xe3o daqueles seus direitos consagrados na CEDH e na nossa Lei Fundamental.","entities":[["DAT",272,278,"31.08,"],["LOC",306,314,"Portugal"],["ORG",471,475,"CEDH"],["ORG",578,582,"CEDH"]]},{"text":"","entities":[]},{"text":"Nestes termos e nos melhores de Direito, o Recorrido est\xe1 convicto de que V. Exas, Colendos Ju\xedzes Conselheiros, apreciando objetivamente o presente recurso, subsumindo-o nos comandos legais aplic\xe1veis, tudo no mais alto e ponderado crit\xe9rio, n\xe3o deixar\xe3o de o admitir, apreciando e decidindo pela verifica\xe7\xe3o:","entities":[]},{"text":"","entities":[]},{"text":"a) Da nulidade por falta de notifica\xe7\xe3o pessoal da decis\xe3o n\xe3o traduzida ao extraditando;","entities":[]},{"text":"","entities":[]},{"text":"b) Da nulidade da decis\xe3o por omiss\xe3o de pron\xfancia;","entities":[]},{"text":"","entities":[]},{"text":"c) Da nulidade da decis\xe3o por falta de dilig\xeancias obrigat\xf3rias;","entities":[]},{"text":"","entities":[]},{"text":"d) Do erro de julgamento na aplica\xe7\xe3o do Direito aos factos.","entities":[]},{"text":"","entities":[]},{"text":"E em consequ\xeancia, julgar procedente o presente recurso, revogando, em conformidade, a decis\xe3o recorrida e recusando o pedido de extradi\xe7\xe3o, por falta dos requisitos de forma e de fundo.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            9. O Minist\xe9rio P\xfablico no Tribunal da Rela\xe7\xe3o de Coimbra respondeu ao recurso interposto pelo extraditando, concluindo que as raz\xf5es apresentadas pelo recorrente n\xe3o constituem qualquer fundamento para a recusa de cumprimento do Pedido de Extradi\xe7\xe3o e, n\xe3o estando em causa qualquer v\xedcio, quer de natureza formal, quer de natureza substantiva, nos necess\xe1rios pressupostos e fundamentos que conduziram \xe0 decis\xe3o em recurso, nenhuma censura merece o ac\xf3rd\xe3o proferido em 30/09/2021 pelo Tribunal da Rela\xe7\xe3o de Coimbra, que concedeu a entrega do recorrente Stepan Nikolaevich Furman, raz\xe3o porque entende que o mesmo dever\xe1 ser confirmado, improcedendo assim o recurso do ac\xf3rd\xe3o.","entities":[["ORG",17,35,"Minist\xe9rio P\xfablico"],["LOC",39,69,"Tribunal da Rela\xe7\xe3o de Coimbra"],["DAT",484,494,"30/09/2021"],["ORG",500,530,"Tribunal da Rela\xe7\xe3o de Coimbra"],["PER",569,594,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            10. Os autos subiram a este Supremo Tribunal de Justi\xe7a, nos termos do art.58.\xba da Lei n.\xba 144/99, de 31 de agosto.","entities":[["DAT",114,126,"31 de agosto"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"           11. Colhidos os vistos, levados os autos \xe0 Confer\xeancia, cumpre decidir.","entities":[["ORG",54,65,"Confer\xeancia"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            \\tIII - Aprecia\xe7\xe3o","entities":[]},{"text":"","entities":[]},{"text":"\\t","entities":[]},{"text":"","entities":[]},{"text":"                  S\xe3o as seguintes as quest\xf5es suscitadas nas conclus\xf5es da motiva\xe7\xe3o pelo recorrente Stepan Nikolaevich Furman, de que cumpre conhecer:","entities":[["PER",102,127,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"-  a) Da nulidade por falta de notifica\xe7\xe3o da decis\xe3o traduzida ao extraditando; ","entities":[]},{"text":"","entities":[]},{"text":"-  b) Da nulidade da decis\xe3o por omiss\xe3o de pron\xfancia;","entities":[]},{"text":"","entities":[]},{"text":"-  c) Da nulidade da decis\xe3o por falta de dilig\xeancias obrigat\xf3rias;","entities":[]},{"text":"","entities":[]},{"text":"-  d) Do erro de julgamento na aplica\xe7\xe3o do direito aos factos; ","entities":[]},{"text":"","entities":[]},{"text":"- e) Da aus\xeancia de garantias jur\xeddicas de um procedimento criminal, das condi\xe7\xf5es de cumprimento da pena e do grave preju\xedzo para o extraditando.    ","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            12. No dom\xednio da coopera\xe7\xe3o judici\xe1ria internacional, em mat\xe9ria penal, a extradi\xe7\xe3o emerge como a mais antiga forma de colabora\xe7\xe3o entre Estados. Atrav\xe9s dela um Estado (requerente) pede a outro Estado (requerido) a entrega de uma pessoa que se encontre no territ\xf3rio deste \xfaltimo, para efeitos de procedimento criminal ou para cumprimento de uma pena em que foi condenado.  ","entities":[]},{"text":"","entities":[]},{"text":"            Trata-se de um instrumento de coopera\xe7\xe3o internacional que visa n\xe3o s\xf3 evitar a impunidade, mas tamb\xe9m contribuir para a inexist\xeancia de territ\xf3rios que se tornem locais onde os criminosos se possam refugiar.           ","entities":[]},{"text":"","entities":[]},{"text":"           Com se refere no ac\xf3rd\xe3o deste Supremo Tribunal, de 30 de maio de 2012, a admissibilidade de extradi\xe7\xe3o, nomeadamente quando Portugal \xe9 o Estado requerido (extradi\xe7\xe3o passiva), \xe9 regulada pelos tratados e conven\xe7\xf5es internacionais, e, na sua falta ou insufici\xeancia, pela lei relativa \xe0 coopera\xe7\xe3o internacional (Lei 144/99, de 31.08), e ainda pelo CPP, conforme disp\xf5em o art.229.\xba deste diploma e o art.3.\xba, n.\xba 1, daquela Lei. A aplica\xe7\xe3o da lei interna portuguesa \xe9, pois, subsidi\xe1ria.","entities":[["ORG",42,58,"Supremo Tribunal"],["DAT",63,81,"30 de maio de 2012"],["LOC",136,144,"Portugal"],["ORG",149,155,"Estado"],["DAT",338,344,"31.08)"],["ORG",359,362,"CPP"]]},{"text":"","entities":[]},{"text":"            As rela\xe7\xf5es de coopera\xe7\xe3o penal entre Portugal e a Federa\xe7\xe3o Russa regem-se pela Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, de 1957, e seus protocolos adicionais, subscrita e ratificada por ambos os pa\xedses.","entities":[["LOC",50,58,"Portugal"],["ORG",63,78,"Federa\xe7\xe3o Russa"],["DAT",130,134,"1957"]]},{"text":"","entities":[]},{"text":"No processo de extradi\xe7\xe3o a \u201centrega\u201d, designando a transla\xe7\xe3o jur\xeddica e f\xedsica de uma pessoa e constituindo um dos elementos do processo, est\xe1 sujeita \xe0 verifica\xe7\xe3o de determinados requisitos, uns de ordem formal e outros substanciais.","entities":[]},{"text":"","entities":[]},{"text":"Posto isto e retomando o caso concreto, passemos a conhecer das quest\xf5es.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            13.- Da nulidade por falta de notifica\xe7\xe3o da decis\xe3o traduzida ao extraditando.","entities":[]},{"text":"","entities":[]},{"text":"            13.1 O recorrente Stepan Nikolaevich Furman defende, nas conclus\xf5es 2 e 3 da motiva\xe7\xe3o do recurso, que a notifica\xe7\xe3o do ac\xf3rd\xe3o recorrido \xe9 nula por falta de notifica\xe7\xe3o pessoal ao extraditando da decis\xe3o devidamente traduzida por escrito, nos termos do disposto no n.\xba 2 do art.92.\xba, do n.\xba 10 do art.113.\xba, a al. c) do n.\xba 2 do art.120.\xba, todos do CPP, aplic\xe1vel ex vi n.\xba 2 do art.3.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[["PER",30,55,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"Alega, em concreto, no essencial, para fundamentar a sua pretens\xe3o:","entities":[]},{"text":"","entities":[]},{"text":"- na sequ\xeancia do despacho de 22/10/2021, da Ex.ma Ju\xedza Desembargadora, uma tradutora oficial entreguou-lhe em m\xe3o o ac\xf3rd\xe3o ora recorrido, em l\xedngua portuguesa. Esta notifica\xe7\xe3o da decis\xe3o em causa \xe9 nula pois s\xf3 atrav\xe9s de \u201ctradu\xe7\xe3o por escrito\u201d desta pe\xe7a processual se consegue garantir que o ora recorrente toma verdadeiramente conhecimento dos factos e dos fundamentos em que o Venerando Tribunal da Rela\xe7\xe3o decidiu, uma vez que n\xe3o consegue ler nem falar portugu\xeas;","entities":[["DAT",30,40,"22/10/2021"],["ORG",395,414,"Tribunal da Rela\xe7\xe3o"]]},{"text":"","entities":[]},{"text":"- por outro lado, a interven\xe7\xe3o da Sr.\xaa interprete, na sequ\xeancia do despacho de 22/10/2021, limitou-se ao questionamento ao extraditando se tinha alguma d\xfavida relativamente ao texto da decis\xe3o. Naturalmente n\xe3o tinha d\xfavidas relativamente ao texto da decis\xe3o que lhe entregou porque n\xe3o o compreende e a Sr.\xaa interprete n\xe3o procedeu \xe0 sua leitura oralmente, nem sequer dos aspetos mais relevantes.","entities":[["DAT",80,90,"22/10/2021"]]},{"text":"","entities":[]},{"text":"- uma interpreta\xe7\xe3o das referidas normas, no sentido de bastar a mera interven\xe7\xe3o de int\xe9rprete, cuja conduta n\xe3o \xe9 sindic\xe1vel pelo Tribunal, para que a notifica\xe7\xe3o se considere regularmente efetuada e como tal, de que n\xe3o \xe9 necess\xe1ria tradu\xe7\xe3o, por escrito, para a l\xedngua do extraditando da decis\xe3o final \xe9 inconstitucional por viola\xe7\xe3o das garantias de defesa pr\xf3prias de um processo penal consagradas no art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"Vejamos se assim \xe9.","entities":[]},{"text":"","entities":[]},{"text":"            13.2. Antes do mais, importa convocar, os dispositivos legais invocados pelo recorrente.","entities":[]},{"text":"","entities":[]},{"text":"O art.113.\xba, n.\xba 10, do C\xf3digo de Processo Penal, disp\xf5e que \xabas notifica\xe7\xf5es do arguido, do assistente e das partes civis podem ser feitas ao respetivo defensor ou advogado. Ressalvam-se as notifica\xe7\xf5es respeitantes \xe0 acusa\xe7\xe3o, \xe0 decis\xe3o instrut\xf3ria, \xe0 designa\xe7\xe3o de dia para julgamento e \xe0 senten\xe7a, bem como as relativas \xe0 aplica\xe7\xe3o de medidas de coa\xe7\xe3o e de garantia patrimonial e \xe0 dedu\xe7\xe3o do pedido de indemniza\xe7\xe3o civil, as quais, por\xe9m, devem igualmente ser notificadas ao advogado ou defensor nomeado; neste caso, o prazo para a pr\xe1tica de ato processual subsequente conta-se a partir da data da notifica\xe7\xe3o efetuada em \xfaltimo lugar.\xbb.","entities":[]},{"text":"","entities":[]},{"text":"Imp\xf5e-se aqui acrescentar, que tratando-se de pessoa que se encontra presa, a sua notifica\xe7\xe3o \xe9 requisitada, nos termos do art.114.\xba, n.\xba1, do C\xf3digo de Processo Penal, ao diretor do estabelecimento prisional respetivo e efetuada na pessoa do notificando por funcion\xe1rio para o efeito designado.   ","entities":[]},{"text":"","entities":[]},{"text":"Como regra geral, sobre a utiliza\xe7\xe3o da l\xedngua portuguesa em processo penal, estabelece o art.92.\xba, n.\xba1 do C\xf3digo de Processo Penal, que \xabnos atos processuais, tanto escritos como orais, utiliza-se a l\xedngua portuguesa, sob pena de nulidade\xbb. ","entities":[]},{"text":"","entities":[]},{"text":"Por\xe9m, nos termos do n.\xba 2, deste art.92.\xba \xabQuando houver de intervir no processo pessoa que n\xe3o conhecer ou n\xe3o dominar a l\xedngua portuguesa, \xe9 nomeado, sem encargo para ela, int\xe9rprete id\xf3neo, ainda que a entidade que preside ao ato ou qualquer dos participantes processuais conhe\xe7am a l\xedngua por aquela utilizada.\xbb.","entities":[]},{"text":"","entities":[]},{"text":"Dentro das nulidades, o C\xf3digo de Processo Penal distingue as nulidades insan\xe1veis (ou absolutas), a que se refere o artigo 119.\xba, e as nulidades dependentes de argui\xe7\xe3o (ou nulidades relativas), a que se referem os artigos 120.\xba e 121.\xba, regulando o artigo 122.\xba os efeitos de declara\xe7\xe3o de nulidade.","entities":[]},{"text":"","entities":[]},{"text":"As nulidades insan\xe1veis s\xe3o as que constam do artigo 119.\xba do CPP e ainda as que forem, como tal, identificadas em outras disposi\xe7\xf5es do c\xf3digo. Os comportamentos elencados nas seis al\xedneas do artigo 119.\xba respeitam \xe0 constitui\xe7\xe3o do tribunal coletivo ou \xe0s regras que regulam a sua composi\xe7\xe3o (al\xednea a)), \xe0 falta de promo\xe7\xe3o do processo pelo Minist\xe9rio P\xfablico e \xe0 aus\xeancia deste em atos a que devia estar presente (al\xednea b)), \xe0 aus\xeancia do arguido e seu defensor quando devam estar presentes (al\xednea c)), \xe0 falta de inqu\xe9rito ou de instru\xe7\xe3o quando sejam obrigat\xf3rios (al\xednea d)), \xe0 viola\xe7\xe3o das regras de compet\xeancia do tribunal, com ressalva do n.\xba 2 do artigo 32.\xba (al\xednea e)), e, por fim (al\xednea f)), refere a norma, como fundamento de nulidade insan\xe1vel, o emprego de forma de processo especial em casos n\xe3o previstos legalmente. ","entities":[["ORG",344,362,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"De acordo com o n.\xba 1 do artigo 120.\xba, \xabqualquer nulidade diversa das referidas no artigo anterior deve ser arguida pelos interessados e fica sujeita \xe0 disciplina prevista neste artigo e no artigo seguinte\xbb.","entities":[]},{"text":"","entities":[]},{"text":"Entre as quatro al\xedneas do n.\xba 2, do art.120.\xba do C\xf3digo de Processo Penal, importa aqui considerar a al\xednea c), que estabelece constituir, nulidade san\xe1vel, \xab a falta de nomea\xe7\xe3o de interprete, nos casos em que a lei a considerar obrigat\xf3ria.\xbb. ","entities":[]},{"text":"","entities":[]},{"text":"\xabQualquer irregularidade do processo s\xf3 determina a invalidade do ato a que se refere e dos termos subsequentes que possa afetar quando tiver sido arguida pelos interessados no pr\xf3prio ou, se a este n\xe3o tiverem assistido, nos tr\xeas dias seguintes, a contar daquele em que tiverem sido notificados para qualquer termo do processo ou intervindo em algum acto nele praticado.\xbb ( art.123.\xba, n.\xba1, do C.P.P.). ","entities":[]},{"text":"","entities":[]},{"text":"A argui\xe7\xe3o deve ter lugar perante o tribunal que cometeu a irregularidade, deste modo lhe possibilitando a respetiva repara\xe7\xe3o ou, se o n\xe3o fizer, permitindo ao sujeito processual afetado a interposi\xe7\xe3o do competente recurso (n.\xba2). ","entities":[]},{"text":"","entities":[]},{"text":"Por fim, o art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa, prev\xea os chamados princ\xedpios materiais do processo criminal, condensados na f\xf3rmula geral do seu n.\xba1: \xab o processo criminal assegura as garantias de defesa, incluindo o recurso.\xbb.","entities":[]},{"text":"","entities":[]},{"text":"Enquanto \xabcl\xe1usula geral\xbb que permite identificar outras poss\xedveis concretiza\xe7\xf5es judiciais do princ\xedpio da defesa n\xe3o referenciadas no texto constitucional, configura o processo criminal como um due process of law, determinando a ilegitimidade das normas processuais e dos procedimentos dela decorrentes que impliquem uma diminui\xe7\xe3o inadmiss\xedvel das possibilidades de defesa do arguido.","entities":[]},{"text":"","entities":[]},{"text":"            13.3. Exposto o regime legal que subjaz ao recurso, interessa seguidamente recordar a sequ\xeancia de atos com interesse para a decis\xe3o desta quest\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"Compulsando os autos deles resulta, designadamente, que:","entities":[]},{"text":"","entities":[]},{"text":"- Na audi\xe7\xe3o do requerente, de nacionalidade russa, que teve lugar no processo de pr\xe9-extradi\xe7\xe3o, e posteriormente na audi\xe7\xe3o a que alude o art.54.\xba da Lei n.\xba 144/99 de 31 de agosto (Lei de Coopera\xe7\xe3o Judici\xe1ria Internacional em mat\xe9ria penal), foi nomeada interprete ao mesmo, por n\xe3o falar, nem entender a l\xedngua portuguesa; ","entities":[["DAT",170,182,"31 de agosto"]]},{"text":"","entities":[]},{"text":"- O requerido Stepan Nikolaevich Furman foi notificado do ac\xf3rd\xe3o do Tribunal da Rela\xe7\xe3o de Coimbra, de 30 de setembro de 2021, nos termos do art.114.\xba, n.\xba1 do C.P.P., no Estabelecimento Prisional de Monsanto, entregando-lhe o funcion\xe1rio c\xf3pia do ac\xf3rd\xe3o, redigido em l\xedngua portuguesa;","entities":[["PER",14,39,"Stepan Nikolaevich Furman"],["ORG",69,99,"Tribunal da Rela\xe7\xe3o de Coimbra"],["DAT",104,126,"30 de setembro de 2021"],["LOC",172,209,"Estabelecimento Prisional de Monsanto"]]},{"text":"","entities":[]},{"text":"- Interposto recurso pelo requerido, em 14/10/2021, do ac\xf3rd\xe3o proferido a 30 de setembro de 2021, veio o mesmo nele arguir a nulidade da decis\xe3o por falta de notifica\xe7\xe3o pessoal da decis\xe3o ao extraditando, porquanto n\xe3o falando nem conseguindo ler ou falar portugu\xeas, \u201ctal notifica\xe7\xe3o deveria ter lugar por contato pessoal, dando-lhe conhecimento do teor da mesma\u201d. Invoca, neste sentido, o ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015 (processo n.\xba 65/14.8YREVR.S1);","entities":[["DAT",40,50,"14/10/2021"],["DAT",75,97,"30 de setembro de 2021"],["DAT",434,444,"09-07-2015"],["PRO",459,474,"65/14.8YREVR.S1"]]},{"text":"","entities":[]},{"text":"- Na resposta ao recurso, o Minist\xe9rio P\xfablico admite que se verifica uma nulidade de procedimento, que n\xe3o do ac\xf3rd\xe3o e que o recorrente est\xe1 em prazo para a arguir, nos termos do art.120.\xba e 121.\xba do C.P.P.;","entities":[["ORG",28,46,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"- Por despacho de 22 de outubro de 2021, a relatora do ac\xf3rd\xe3o, seguindo a jurisprud\xeancia do Supremo Tribunal de Justi\xe7a invocada pelo recorrente, reconheceu que a notifica\xe7\xe3o da decis\xe3o de extradi\xe7\xe3o para a Federa\xe7\xe3o Russa ao requerido Stepan Nikolaevich  Furman, sem a assist\xeancia de interprete que lhe explique o respetivo conte\xfado, constitui nulidade e decidiu, ao abrigo do preceituado nos artigos 414.\xba, n.\xba 4, 92.\xba, n.\xba 2, 113.\xba, n.\xba 10, 114.\xba, n.\xba 1, 120.\xba, n.\xba 2, al\xednea c), e 122.\xba, todos do CPP, ex vi artigo 3.\xba, n.\xba 2 da Lei n.\xba 144/99, de 31 de agosto, declarar nulo o ato de notifica\xe7\xe3o do ac\xf3rd\xe3o da Rela\xe7\xe3o ao requerido Stepan Nikolaevich Furman, determinando a sua repeti\xe7\xe3o na qual se assegurar\xe1 a interven\xe7\xe3o de int\xe9rprete, nos termos e para os efeitos j\xe1 indicados, e considerar inv\xe1lido o ato que depende daquela notifica\xe7\xe3o e por ela \xe9 afetado, decorrendo, consequentemente, a partir da notifica\xe7\xe3o a repetir, novo prazo para o requerido interpor recurso da decis\xe3o de extradi\xe7\xe3o. Mais determinou que na notifica\xe7\xe3o a repetir, caso n\xe3o seja vi\xe1vel a interven\xe7\xe3o da int\xe9rprete que antes foi nomeada nos autos, face \xe0 desloca\xe7\xe3o que o ato envolve (o requerido encontra-se detido no Estabelecimento Prisional de Monsanto), dever\xe1 providenciar-se por outra indigita\xe7\xe3o, a levar em linha de conta na requisi\xe7\xe3o prevista no artigo 114.\xba, n.\xba 1 do CPP. ","entities":[["DAT",18,39,"22 de outubro de 2021"],["ORG",208,223,"Federa\xe7\xe3o Russa"],["PER",237,257,"Stepan Nikolaevich  "],["DAT",553,565,"31 de agosto"],["PER",637,662,"Stepan Nikolaevich Furman"],["LOC",1203,1240,"Estabelecimento Prisional de Monsanto"]]},{"text":"","entities":[]},{"text":"- Da certid\xe3o de notifica\xe7\xe3o efetuada no Estabelecimento Prisional de Monsanto, datada de 26 de outubro de 2021, consta que o funcion\xe1rio do estabelecimento entregou o documento correspondente \u201c\u2026ap\xf3s ter sido traduzido por interprete\u201d e que o recluso recusou assinar dado que j\xe1 tinha sido notificado do ac\xf3rd\xe3o. A certid\xe3o mostra-se assinada pela int\xe9rprete \xc2ngela Miron \u2013 que j\xe1 anteriormente desempenhara estas fun\xe7\xf5es nos presentes autos.   ","entities":[["LOC",41,78,"Estabelecimento Prisional de Monsanto"],["DAT",90,111,"26 de outubro de 2021"],["PER",359,371,"\xc2ngela Miron"]]},{"text":"","entities":[]},{"text":"- Em despacho proferido a 27 de Outubro de 2021 a Ex.ma Desembargadora relatora consignou que \u201cAtendendo ao teor da certid\xe3o de notifica\xe7\xe3o junta com a ref.\xaa Citius 201937 e ao disposto no artigo 114.\xba, n.\xba 1 do CPP, com refer\xeancia \xe0 norma do artigo 113.\xba, n.\xba 7, al\xednea a), do mesmo diploma, considera-se validamente notificado o requerido Stepan Nikolaevich Furman, para todos os efeitos legais, mormente os indicados no despacho que ordenou a notifica\xe7\xe3o (ref.\xaa Citius 9872115). D\xea conhecimento ao Ilustre Mandat\xe1rio, nos termos promovidos.","entities":[["DAT",26,47,"27 de Outubro de 2021"],["PER",341,366,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":" - A Sec\xe7\xe3o notificou o Ilustre Mandat\xe1rio deste despacho, na mesma data, por meio eletr\xf3nico. ","entities":[["ORG",5,11,"Sec\xe7\xe3o"]]},{"text":"","entities":[]},{"text":"            13.4. Sendo estes os termos em que a quest\xe3o se coloca, passamos a decidir, em primeiro lugar, se a n\xe3o entrega daquela pe\xe7a processual devidamente traduzida por escrito, para a l\xedngua russa, que \xe9 a sua l\xedngua natal, que naturalmente compreende e domina, integra a nulidade da notifica\xe7\xe3o do ac\xf3rd\xe3o recorrido e consequente viola\xe7\xe3o das normas supra referidas.","entities":[]},{"text":"","entities":[]},{"text":"Na falta de disposi\xe7\xf5es legais, na Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e na Lei de Coopera\xe7\xe3o Judici\xe1ria Internacional em Mat\xe9ria Penal, sobre os termos de notifica\xe7\xe3o ao extraditando da decis\xe3o final do pedido de extradi\xe7\xe3o e de tradu\xe7\xe3o desta decis\xe3o no caso daquele n\xe3o dominar a l\xedngua em que foi proferida, imp\xf5e-se recorrer, subsidiariamente, \xe0s disposi\xe7\xf5es aplic\xe1veis do C\xf3digo de Processo Penal (art.3.\xba, n.\xbas 1 e 2 da Lei n.\xba 144/99).","entities":[]},{"text":"","entities":[]},{"text":"A decis\xe3o proferida pelo Tribunal da Rela\xe7\xe3o em 30 de setembro de 2021, face \xe0 defini\xe7\xe3o do art.97.\xba, n.\xbas1, al. a) e 2 do C.P.P., toma a forma de um ac\xf3rd\xe3o e, como tal, deve ser notificado, nos termos do art.113.\xba, n.\xba10, do C\xf3digo de Processo Penal, ao extraditando e ao seu defensor ou advogado. ","entities":[["ORG",25,44,"Tribunal da Rela\xe7\xe3o"],["DAT",48,70,"30 de setembro de 2021"]]},{"text":"","entities":[]},{"text":"No caso, encontrando-se o extraditando detido em estabelecimento prisional, n\xe3o se seguem as regras gerais de notifica\xe7\xe3o do mesmo pela via de \xabcontacto pessoal\xbb ou \xabvia postal\xbb, previstas no art.113.\xba, n.\xba1 do C\xf3digo de Processo Penal, mas sim a regra especial prevista no art.114.\xba, do mesmo C\xf3digo.","entities":[]},{"text":"","entities":[]},{"text":"Dos autos resulta que o ac\xf3rd\xe3o ora recorrido foi notificado ao Ex.mo Defensor do extraditando e  foi ainda, por duas vezes, notificado, pessoalmente ao extraditando , atrav\xe9s de funcion\xe1rio, no estabelecimento prisional onde se encontra detido, nos termos do art.114.\xba, do C\xf3digo de Processo Penal.","entities":[]},{"text":"","entities":[]},{"text":"Acontece que, como atr\xe1s vimos, o extraditando veio arguir a nulidade da primeira notifica\xe7\xe3o da decis\xe3o por falta de notifica\xe7\xe3o pessoal da decis\xe3o ao extraditando, porquanto n\xe3o falando nem conseguindo ler ou falar portugu\xeas, \u201ctal notifica\xe7\xe3o deveria ter lugar por contato pessoal, dando-lhe conhecimento do teor da mesma\u201d, invocando, neste sentido, o ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015 (processo n.\xba 65/14.8YREVR.S1) e a relatora do processo, aderindo ao teor desta jurisprud\xeancia, veio por despacho de  22 de outubro de 2021, declarar a nulidade da notifica\xe7\xe3o do ac\xf3rd\xe3o, determinando a sua repeti\xe7\xe3o na qual se assegurar\xe1 a interven\xe7\xe3o de int\xe9rprete.","entities":[["DAT",396,406,"09-07-2015"],["PRO",421,436,"65/14.8YREVR.S1"],["DAT",525,546,"22 de outubro de 2021"]]},{"text":"","entities":[]},{"text":"Para este efeito, transcreveu as seguintes passagens do ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015:","entities":[["DAT",98,108,"09-07-2015"]]},{"text":"","entities":[]},{"text":"\u201c4. Sobre a comunica\xe7\xe3o dos atos em processo penal e na lei de coopera\xe7\xe3o judici\xe1ria, em nenhum destes instrumentos se cont\xe9m norma que imponha a notifica\xe7\xe3o da tradu\xe7\xe3o da senten\xe7a ao extraditando. ","entities":[]},{"text":"","entities":[]},{"text":"Na Lei n.\xba 144/99, de 31 de agosto, alude-se \xe0 nomea\xe7\xe3o de int\xe9rprete para assistir o extraditando em certos atos, e o artigo 92.\xba do CPP, depois de estabelecer no n.\xba 1, que, nos \xabatos processuais, tanto escritos como orais, utiliza-se a l\xedngua portuguesa, sob pena de nulidade\xbb, o n.\xba 2 preceitua que \xab[q]uando houver de intervir no processo pessoa que n\xe3o conhecer ou n\xe3o dominar a l\xedngua portuguesa, \xe9 nomeado, sem encargo para ela, int\xe9rprete id\xf3neo, ainda que a entidade que preside ao acto ou qualquer dos participantes processuais conhe\xe7am a l\xedngua por aquela utilizada\xbb, acrescentando o n.\xba 3 que \xab[o] arguido pode escolher, sem encargo para ele, int\xe9rprete diferente do previsto no n\xfamero anterior para traduzir as conversa\xe7\xf5es com o seu defensor\xbb.","entities":[["DAT",22,34,"31 de agosto"]]},{"text":"","entities":[]},{"text":" (\u2026) ","entities":[]},{"text":"","entities":[]},{"text":"A comunica\xe7\xe3o de atos do processo, levando ao conhecimento do destinat\xe1rio atos ou pe\xe7as processuais e o respetivo teor, que relevem para a sua defesa, n\xe3o \xe9 incompat\xedvel com a inexist\xeancia, no ato notifica\xe7\xe3o, de tradu\xe7\xe3o da pe\xe7a processual a comunicar, desde que o cumprimento de levar ao conhecimento do destinat\xe1rio o ato processual realizado em l\xedngua que aquele n\xe3o conhe\xe7a nem domine, possa ser levado a efeito de outro modo, no respeito pelo processo equitativo.","entities":[]},{"text":"","entities":[]},{"text":"5. A Conven\xe7\xe3o Europeia dos Direitos do Homem (CEDH) consagra no artigo 6.\xba, n.\xba 3, o direito de o arguido, que n\xe3o fala nem compreende a l\xedngua do processo, ser assistido, gratuitamente, por int\xe9rprete que lhe traduza ou interprete os atos do processo. Sobre o conte\xfado e limites deste direito, a jurisprud\xeancia convencional n\xe3o exige a tradu\xe7\xe3o de todas as pe\xe7as ou atos do processo. No j\xe1 aludido caso Kamasinski c. Austria, o tribunal esclarece que a assist\xeancia gratuita de um int\xe9rprete aplica-se n\xe3o apenas \xe0 audi\xeancia de julgamento, mas igualmente a todos os atos do processo que o arguido carecer de conhecer e compreender para a realiza\xe7\xe3o do processo equitativo (14) [(14) Ver sobretudo os \xa7\xa7 74 e 79], mas a jurisprud\xeancia convencional n\xe3o vai ao ponto de exigir uma tradu\xe7\xe3o escrita de todos os elementos de prova escrita ou dos documentos oficiais do processo, devendo a assist\xeancia fornecida ser de molde a permitir ao arguido ter conhecimento do caso, e dele se defender, nomeadamente sendo capaz de expor ao tribunal a sua vers\xe3o dos factos (15) [(15) Reportando-se ao ato de acusa\xe7\xe3o, mas o princ\xedpio valendo tamb\xe9m para a senten\xe7a, Ireneu Cabral Barreto, A Conven\xe7\xe3o Europeia dos Direitos do Homem anotada, Coimbra Editora, 3.\xaa edi\xe7\xe3o, 2005, p. 166, afirma que \xabs\xf3 a tradu\xe7\xe3o da acusa\xe7\xe3o evitar\xe1 que a d\xfavida [sobre a sua compreens\xe3o] se desenhe, exigindo-se ao Estado a prova de que, apesar dessa omiss\xe3o, a notifica\xe7\xe3o atingiu o seu objetivo, o que nem sempre se mostrar\xe1 f\xe1cil sobretudo na hip\xf3tese frequente de o acusado ou o seu defensor a terem reclamado\xbb]. ","entities":[["ORG",47,51,"CEDH"],["LOC",419,426,"Austria"],["PER",1151,1172,"Ireneu Cabral Barreto"],["ORG",1226,1241,"Coimbra Editora"],["DAT",1255,1259,"2005"],["ORG",1381,1387,"Estado"]]},{"text":"","entities":[]},{"text":"6. O Tribunal Constitucional, relativamente \xe0 notifica\xe7\xe3o da acusa\xe7\xe3o, mas cuja fundamenta\xe7\xe3o \xe9 transpon\xedvel para a notifica\xe7\xe3o da senten\xe7a, ponderou se \xe9 conforme com as garantias de defesa do arguido constitucionalmente consagradas no artigo 32.\xba, n.\xba 1, da CRP e se os direitos de defesa daquele s\xe3o assegurados, no caso em que aquele desconhe\xe7a a l\xedngua portuguesa, e lhe \xe9 entregue c\xf3pia da acusa\xe7\xe3o escrita em portugu\xeas, acompanhada da transmiss\xe3o oral do seu conte\xfado, por int\xe9rprete, na l\xedngua conhecida pelo notificando, tradu\xe7\xe3o oral da acusa\xe7\xe3o, por int\xe9rprete, n\xe3o compromete as garantias de defesa do arguido consagradas no comando constitucional com a assinalada dimens\xe3o, tendo conclu\xeddo afirmativamente, porquanto \xaba tradu\xe7\xe3o oral da acusa\xe7\xe3o, por int\xe9rprete, n\xe3o compromete as garantias de defesa do arguido consagradas no comando constitucional com a assinalada dimens\xe3o\xbb, e tal forma de notifica\xe7\xe3o n\xe3o obstar \xaba que o arguido p. ex. v\xe1 colhendo da leitura as notas (escritas) que entender convenientes, pe\xe7a esclarecimentos ao int\xe9rprete ou solicite repeti\xe7\xf5es sobre trechos eventualmente mais complexos, tudo no sentido de uma perce\xe7\xe3o completa, minuciosa e profunda da pe\xe7a acusat\xf3ria\xbb, tanto mais que, \xab[c]ompetindo ao funcion\xe1rio encarregado da notifica\xe7\xe3o a transmiss\xe3o fiel do conte\xfado da acusa\xe7\xe3o, o desempenho perfeito da fun\xe7\xe3o de interpreta\xe7\xe3o h\xe1-de permitir ao arguido os procedimentos referidos em termos que o apetrechem com o conhecimento necess\xe1rio e suficiente para gizar a estrat\xe9gia de defesa subsequente\xbb\u201d.","entities":[["ORG",5,28,"Tribunal Constitucional"]]},{"text":"","entities":[]},{"text":"Em coer\xeancia com esta fundamenta\xe7\xe3o, o ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015 (processo n.\xba 65/14.8YREVR.S1), concluiu que \u201c A comunica\xe7\xe3o da decis\xe3o de extradi\xe7\xe3o, com desrespeito pela notifica\xe7\xe3o pessoal, como o exige o artigo 113.\xba, n.\xba 10, do CPP, sem int\xe9rprete que explique o conte\xfado da senten\xe7a, constitui nulidade, nos termos do artigo 120.\xba, n.\xba 2, al\xednea c), ex vi artigo 92.\xba, n.\xba 2, ambos do CPP, invalidando o ato e reclamando a sua repeti\xe7\xe3o (artigo 122.\xba, n.\xbas 1 e 2, do CPP).\u201d","entities":[["DAT",81,91,"09-07-2015"],["PRO",106,121,"65/14.8YREVR.S1"]]},{"text":"","entities":[]},{"text":"O extraditando, quando arguiu a nulidade da primeira notifica\xe7\xe3o do ac\xf3rd\xe3o da decis\xe3o final, apresentando como argumento a seu favor o ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015, em lado algum menciona que o ac\xf3rd\xe3o notificando lhe devia ser traduzido por escrito.","entities":[["DAT",178,188,"09-07-2015"]]},{"text":"","entities":[]},{"text":"Na segunda argui\xe7\xe3o da nulidade da notifica\xe7\xe3o do ac\xf3rd\xe3o da decis\xe3o final, apresentada no presente recurso interposto do ac\xf3rd\xe3o, o extraditando defende, inovatoriamente, que n\xe3o basta a presen\xe7a de interprete para explicar o conte\xfado do ac\xf3rd\xe3o, exigindo-se a tradu\xe7\xe3o escrita do mesmo, sob pena de viola\xe7\xe3o do disposto nos artigos 113.\xba, n.\xba10 e 92.\xba, n.\xba2 do C\xf3digo de Processo Penal. Algo contraditoriamente, volta a invocar como argumento a seu favor o ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015, pois neste consigna-se que para a comunica\xe7\xe3o v\xe1lida de senten\xe7a basta que o int\xe9rprete explique o seu conte\xfado ao extraditando. ","entities":[["DAT",501,511,"09-07-2015"]]},{"text":"","entities":[]},{"text":"Tendo-se j\xe1 clarificado que o ac\xf3rd\xe3o da decis\xe3o final foi notificado tanto ao seu Defensor, como pessoalmente ao extraditando com a entrega de c\xf3pia do mesmo em l\xedngua portuguesa, importa verificar se o art.92.\xba, n.\xba2 do C\xf3digo de Processo Penal, imp\xf5e, por aplica\xe7\xe3o subsidi\xe1ria, que a notifica\xe7\xe3o de ac\xf3rd\xe3o final de extradi\xe7\xe3o de cidad\xe3o estrangeiro que desconhe\xe7a a l\xedngua portuguesa, se efetue obrigatoriamente mediante a entrega da pe\xe7a traduzida por escrito na l\xedngua que aquele domina.","entities":[]},{"text":"","entities":[]},{"text":"O art.92.\xba, n.\xba2 do C\xf3digo de Processo Penal estabelece que todo o interveniente no processo que n\xe3o dominar a l\xedngua portuguesa, m\xe1xime o arguido, tem direito a assist\xeancia gratuita de um interprete de todos os atos processuais que ele necessitar compreender para beneficiar de um processo equitativo. Em lado algum do texto se refere em que termos (escritos ou orais) se imp\xf5e a materializa\xe7\xe3o dessa assist\xeancia.      ","entities":[]},{"text":"","entities":[]},{"text":"Tamb\xe9m o texto do n.\xba 6 do art.92.\xba do C\xf3digo de Processo Penal ao dispor que \xe9 \xab\u2026 nomeado interprete quando se tornar necess\xe1rio traduzir documento em l\xedngua estrangeira e desacompanhado de tradu\xe7\xe3o autenticada\xbb, n\xe3o imp\xf5e que os documentos em l\xedngua portuguesa devam ser traduzidos por escrito para a l\xedngua do cidad\xe3o estrangeiro que desconhe\xe7a a l\xedngua portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"Assim, numa interpreta\xe7\xe3o ampla do disposto no art.92.\xba, n.\xba2 do C\xf3digo de Processo Penal, a interven\xe7\xe3o de int\xe9rprete no ato de notifica\xe7\xe3o de senten\xe7a pode materializar-se pela tradu\xe7\xe3o,  oralmente ou por escrito, do conte\xfado da senten\xe7a, como se defende no citado ac\xf3rd\xe3o do Supremo Tribunal de Justi\xe7a de 09-07-2015.","entities":[["DAT",309,319,"09-07-2015"]]},{"text":"","entities":[]},{"text":"O que interessa \xe9 que seja respeitado o direito a um processo equitativo, dando-se ao cidad\xe3o estrangeiro que n\xe3o conhece ou domina a l\xedngua portuguesa, possibilidades de defender os seus direitos perante o tribunal. ","entities":[]},{"text":"","entities":[]},{"text":"\xc9 este tamb\xe9m o sentido da jurisprud\xeancia do Tribunal Constitucional quando, no ac\xf3rd\xe3o n.\xba 547/1998, num caso paralelo de notifica\xe7\xe3o de acusa\xe7\xe3o a cidad\xe3o estrangeiro que desconhecia a l\xedngua portuguesa, realizada atrav\xe9s de transmiss\xe3o do seu conte\xfado por tradu\xe7\xe3o oral efetuada por interprete, decidiu: ","entities":[["ORG",45,68,"Tribunal Constitucional"]]},{"text":"","entities":[]},{"text":"O art.92.\xba, n.\xba 2 do C\xf3digo de Processo Penal, em conjuga\xe7\xe3o com o disposto no art.111.\xba, n.\xba1, al\xednea c), do mesmo C\xf3digo, interpretado no sentido de que a notifica\xe7\xe3o da acusa\xe7\xe3o deduzida contra o arguido que desconhece a l\xedngua portuguesa n\xe3o carece de tradu\xe7\xe3o escrita pelo interprete nomeado, n\xe3o lesa as suas garantias de defesa, constitucionalmente estabelecidas nos artigos 32.\xba, n.\xba1 e 16.\xba 1 da Constitui\xe7\xe3o da Rep\xfablica Portuguesa e 6.\xba, n.\xba3, al\xednea a) da Conven\xe7\xe3o Europeia dos Direitos do Homem.     ","entities":[]},{"text":"","entities":[]},{"text":"Para al\xe9m de esclarecer que o Tribunal Europeu dos Direitos do Homem (TEDH), na jurisprud\xeancia que indica, decidiu que o art.6.\xba, n.\xba3, al\xednea a) da Conven\xe7\xe3o Europeia dos Direitos do Homem n\xe3o obriga, na comunica\xe7\xe3o da acusa\xe7\xe3o ao arguido que n\xe3o domina a l\xedngua usada no processo, \xe0 tradu\xe7\xe3o escrita da pe\xe7a acusat\xf3ria, o Tribunal Constitucional conclui tamb\xe9m que  nada de substancialmente diverso emerge do art.32.\xba, n.\xba1 da Constitui\xe7\xe3o da Rep\xfablica Portuguesa, escrevendo a este prop\xf3sito, designadamente, o seguinte:","entities":[["ORG",30,68,"Tribunal Europeu dos Direitos do Homem"],["ORG",70,74,"TEDH"],["ORG",324,347,"Tribunal Constitucional"]]},{"text":"","entities":[]},{"text":"\u201cNum processo em que a equidade, a igualdade de armas, o acusat\xf3rio, s\xe3o, entre outros, princ\xedpios que os direitos de defesa reclamam, o conhecimento detalhado e esclarecido, por parte do arguido, do que (de facto e de direito) lhe \xe9 imputado na acusa\xe7\xe3o reveste-se como se deixou j\xe1 dito - de uma import\xe2ncia decisiva.","entities":[]},{"text":"","entities":[]},{"text":"Inscreve-se, pois, nas garantias de defesa que o processo criminal, por imperativo constitucional, deve assegurar, a que se consubstancia no direito do arguido \xe0quele conhecimento pleno da mat\xe9ria constante da acusa\xe7\xe3o, em termos - acrescente-se que permitam o seu estudo consciente e aprofundado, pois s\xf3 assim se perfazem as condi\xe7\xf5es indispens\xe1veis para o acusado preparar a defesa que entender mais adequada.","entities":[]},{"text":"","entities":[]},{"text":"Ora, afigura-se que a tradu\xe7\xe3o oral da acusa\xe7\xe3o, por int\xe9rprete, n\xe3o compromete as garantias de defesa do arguido consagradas no comando constitucional com a assinalada dimens\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"Na verdade, esta forma de notifica\xe7\xe3o n\xe3o obsta a que o arguido p. ex. v\xe1 colhendo da leitura as notas (escritas) que entender convenientes, pe\xe7a esclarecimentos ao int\xe9rprete ou solicite repeti\xe7\xf5es sobre trechos eventualmente mais complexos, tudo no sentido de uma percep\xe7\xe3o completa, minuciosa e profunda da pe\xe7a acusat\xf3ria.","entities":[]},{"text":"","entities":[]},{"text":"Competindo ao funcion\xe1rio encarregado da notifica\xe7\xe3o a transmiss\xe3o fiel do conte\xfado da acusa\xe7\xe3o, o desempenho perfeito da fun\xe7\xe3o de interpreta\xe7\xe3o h\xe1-de permitir ao arguido os procedimentos referidos em termos que o apetrechem com o conhecimento necess\xe1rio e suficiente para gizar a estrat\xe9gia de defesa subsequente.","entities":[]},{"text":"","entities":[]},{"text":"(\u2026)","entities":[]},{"text":"","entities":[]},{"text":"Dir-se-\xe1 que se trata de uma forma menos c\xf3moda de o arguido tomar cabal conhecimento da acusa\xe7\xe3o, obrigando-o eventualmente a tarefas complementares que seriam desnecess\xe1rias se o texto da acusa\xe7\xe3o fosse desde logo entregue na vers\xe3o em l\xedngua estrangeira apropriada; mas se \xe9 de facto assim, n\xe3o pode dizer-se que ocorra uma qualquer compress\xe3o, minimamente relevante, dos direitos de defesa do arguido garantidos pelo artigo 32\xba n\xba 1 da CRP.\u201d","entities":[]},{"text":"","entities":[]},{"text":"A afirma\xe7\xe3o do ora recorrente de que a interven\xe7\xe3o do int\xe9rprete na situa\xe7\xe3o de tradu\xe7\xe3o oral da decis\xe3o final comunicada ao extraditando n\xe3o \xe9 sindic\xe1vel pelo tribunal, est\xe1 por demonstrar. ","entities":[]},{"text":"","entities":[]},{"text":"Pelo contr\xe1rio, a interven\xe7\xe3o do int\xe9rprete tanto pode ser sindicada quando procede oralmente \xe0 tradu\xe7\xe3o, como quando procede \xe0 tradu\xe7\xe3o escrita de um documento, designadamente da decis\xe3o final num processo de extradi\xe7\xe3o. ","entities":[]},{"text":"","entities":[]},{"text":"No caso, o Tribunal da Rela\xe7\xe3o sindicou mesmo a interven\xe7\xe3o da interprete, consignando em despacho de 27 de outubro de 2021: ","entities":[["ORG",11,30,"Tribunal da Rela\xe7\xe3o"],["DAT",102,123,"27 de outubro de 2021"]]},{"text":"","entities":[]},{"text":"\u201cAtendendo ao teor da certid\xe3o de notifica\xe7\xe3o junta com a ref.\xaa Citius 201937 e ao disposto no artigo 114.\xba, n.\xba 1 do CPP, com refer\xeancia \xe0 norma do artigo 113.\xba, n.\xba 7, al\xednea a), do mesmo diploma, considera-se validamente notificado o requerido Stepan Nikolaevich Furman, para todos os efeitos legais, mormente os indicados no despacho que ordenou a notifica\xe7\xe3o (ref.\xaa Citius 9872115). D\xea conhecimento ao Ilustre Mandat\xe1rio, nos termos promovidos.\u201d   ","entities":[["PER",247,272,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"Perante todo o exposto, numa situa\xe7\xe3o em que o funcion\xe1rio do Estabelecimento Prisional certifica que foi entregue ao extraditando o ac\xf3rd\xe3o de 22-10-2021, ap\xf3s ter sido traduzido por int\xe9rprete, o Supremo Tribunal de Justi\xe7a n\xe3o reconhece a viola\xe7\xe3o das garantias de defesa pr\xf3prias de um processo penal consagradas no art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa. Por outras palavras, a n\xe3o entrega da tradu\xe7\xe3o por escrito da decis\xe3o final, n\xe3o implica, no caso concreto, uma diminui\xe7\xe3o inadmiss\xedvel das possibilidades de defesa do extraditando.","entities":[["LOC",62,87,"Estabelecimento Prisional"],["DAT",144,154,"22-10-2021"]]},{"text":"","entities":[]},{"text":"Como segundo motivo de nulidade de notifica\xe7\xe3o do ac\xf3rd\xe3o, de algum secund\xe1rio face ao anterior, invoca o ora recorrente o deficiente desempenho da Sr.\xaa interprete, que alegadamente n\xe3o procedeu \xe0 leitura (traduzida) do mesmo ac\xf3rd\xe3o, nem sequer dos aspetos mais relevantes.","entities":[]},{"text":"","entities":[]},{"text":"Esta afirma\xe7\xe3o do ora recorrente est\xe1 em oposi\xe7\xe3o ao que consta certificado pelo funcion\xe1rio, que assinou com a Sr.\xaa interprete \xc2ngela Miron, a certid\xe3o de notifica\xe7\xe3o. ","entities":[["PER",128,140,"\xc2ngela Miron"]]},{"text":"","entities":[]},{"text":"Consta referido na certid\xe3o que o funcion\xe1rio entregou o ac\xf3rd\xe3o a Stepan Nikolaevich Furman, \u201cap\xf3s ter sido traduzido por interprete\u201d e que o recluso \u201crecusou assinar\u201d dado que j\xe1 tinha sido notificado do ac\xf3rd\xe3o por anterior of\xedcio.","entities":[["PER",67,92,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"Da certid\xe3o da notifica\xe7\xe3o consta referida uma recusa de assinatura do extraditando, por motivo diverso da falta de leitura (traduzida) do mesmo ac\xf3rd\xe3o, nem sequer dos aspetos mais relevantes.","entities":[]},{"text":"","entities":[]},{"text":"A fun\xe7\xe3o do int\xe9rprete \xe9, como se sabe, traduzir a outrem, numa determinada l\xedngua, o que ouve ou l\xea noutra e foi nessa qualidade que a interprete \xc2ngela Miron se deslocou ao Estabelecimento Prisional onde se encontra detido o extraditando, cidad\xe3o russo que n\xe3o compreende a l\xedngua portuguesa no qual foi elaborado o ac\xf3rd\xe3o a notificar ao mesmo. ","entities":[["PER",147,159,"\xc2ngela Miron"],["LOC",175,200,"Estabelecimento Prisional"]]},{"text":"","entities":[]},{"text":"Dos autos extrai-se que anteriormente a este ato nunca foi posta em causa a idoneidade da Sr.\xaa interprete \xc2ngela Miron, que prestando compromisso legal nos termos do art.91.\xba, n.\xbas 2 e 3 do C. P. P., vinha j\xe1 assistindo nessa qualidade o extraditando no processo.","entities":[["PER",106,118,"\xc2ngela Miron"]]},{"text":"","entities":[]},{"text":"O ora recorrente n\xe3o apresenta nenhuma prova da sua alegada vers\xe3o e n\xe3o se vislumbra do recurso que desconhece os concretos fundamentos que determinaram a sua extradi\xe7\xe3o decidida no ac\xf3rd\xe3o ora recorrido.","entities":[]},{"text":"","entities":[]},{"text":"A certid\xe3o de notifica\xe7\xe3o \xe9 um documento aut\xeantico, elaborado por um funcion\xe1rio p\xfablico no \xe2mbito das suas fun\xe7\xf5es, pelo que, nos termos do art.169.\xba do C\xf3digo de Processo Penal consideramos provado o que dele consta certificado e, assim, que lhe foi traduzido, pela Sr.\xaa interprete \xc2ngela Miron, o conte\xfado do ac\xf3rd\xe3o ora recorrido. ","entities":[["PER",284,296,"\xc2ngela Miron"]]},{"text":"","entities":[]},{"text":"Por fim, acrescentamos que a haver-se inobservado o disposto no art.92.\xba, n.\xba2, do C.P.P., o que n\xe3o aconteceu, por n\xe3o ter sido entregue ao extraditando o ac\xf3rd\xe3o traduzido por escrito, a situa\xe7\xe3o n\xe3o configurava a nulidade a que alude o art.120.\xba, n.\xba 2, al\xednea d) do C.P.P., mas uma simples irregularidade que n\xe3o foi arguida tempestivamente.","entities":[]},{"text":"","entities":[]},{"text":"Pelo exposto, improcede esta primeira quest\xe3o objeto de recurso.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            14 - Da nulidade da decis\xe3o por omiss\xe3o de pron\xfancia","entities":[]},{"text":"","entities":[]},{"text":"            Entende o recorrente, seguidamente, no ponto 4 das conclus\xf5es da motiva\xe7\xe3o do recurso, que o \u201cdespacho datado de 10/09/2021 padece de nulidade por for\xe7a da omiss\xe3o de pron\xfancia da Mma. Ju\xedza sobre os documentos juntos com a oposi\xe7\xe3o, nos termos do disposto na al.c) do n.\xba 1 do art.379.\xba do C.P.P.\u201d.","entities":[["DAT",125,135,"10/09/2021"]]},{"text":"","entities":[]},{"text":"Argumenta que, em nenhum momento, a Mma. Juiz se pronunciou sobre a admiss\xe3o (nomeadamente da legalidade e/ou pertin\xeancia) dos cinco documentos juntos com a referida pe\xe7a, nem no sentido de serem todos admitidos ou todos rejeitados, ou pela admiss\xe3o de uns e pela rejei\xe7\xe3o de outros, s\xf3 tendo conhecimento de que sobre os mesmos tinha sido feita cabal prova e que tinham sido valorados pela Mma. Juiz aquando da notifica\xe7\xe3o do Ac\xf3rd\xe3o, do qual resulta que serviram de fundamento aos factos provados nos pontos 2.1.12, 2.1.13, 2.1.14, 2.1.15, 2.1.16 e aos factos n\xe3o provados 2.2.6., 2.2.7, 2.2.8, 2.2.9, 2.2.10.","entities":[]},{"text":"","entities":[]},{"text":"Apreciando.","entities":[]},{"text":"","entities":[]},{"text":"O art.97.\xba, n.\xba1, do C\xf3digo de Processo Penal distingue, entre os atos decis\xf3rios dos ju\xedzes,  as senten\xe7as e os despachos. Os atos decis\xf3rios tomam a forma de \xabsenten\xe7as\xbb quando conhecerem a final do objeto do processo (al\xednea a); tomam a forma de \xabdespachos\xbb quando conhecerem de qualquer quest\xe3o interlocut\xf3ria ou quando puserem termo ao processo fora do caso previsto na al\xednea anterior (al\xednea b).","entities":[]},{"text":"","entities":[]},{"text":"Enquanto as nulidades dos despachos est\xe3o sujeitas ao regime geral de invalidades, as nulidades de senten\xe7a t\xeam um tratamento espec\xedfico no art.379.\xba do C\xf3digo de Processo Penal.","entities":[]},{"text":"","entities":[]},{"text":"Os casos que geram nulidade de senten\xe7a, encontram-se taxativamente enunciados art.379.\xba, do C\xf3digo de Processo Penal, estabelecendo o seu n.\xba1 , al\xednea c), que \xe9 nula a senten\xe7a \xabQuando o tribunal deixe de pronunciar-se sobre quest\xf5es que devesse apreciar ou conhe\xe7a de quest\xf5es de que n\xe3o podia tomar conhecimento.\xbb.","entities":[]},{"text":"","entities":[]},{"text":"A respeito desta al\xednea c), vem-se entendendo, na doutrina e na jurisprud\xeancia deste Supremo Tribunal, que a nulidade de senten\xe7a por omiss\xe3o de pron\xfancia refere-se a quest\xf5es e n\xe3o a raz\xf5es ou argumentos invocados pela parte ou pelo sujeito processual em defesa do seu ponto de vista.","entities":[["ORG",85,101,"Supremo Tribunal"]]},{"text":"","entities":[]},{"text":"J\xe1 o Prof. Alberto dos Reis ensinava, a este prop\xf3sito, que \u201cS\xe3o, na verdade, coisas diferentes: deixar de conhecer de quest\xe3o de que devia conhecer-se e deixar de apreciar qualquer considera\xe7\xe3o, argumento ou raz\xe3o produzido pela parte. Quando as partes p\xf5em ao tribunal determinada quest\xe3o, socorrem-se, a cada passo, de v\xe1rias raz\xf5es ou fundamentos para fazer valer o seu ponto de vista; o que importa \xe9 que o tribunal decida a quest\xe3o posta; n\xe3o lhe incumbe apreciar todos os fundamentos ou raz\xf5es em que elas se apoiam para sustentar a sua pretens\xe3o.\u201d.","entities":[["PER",11,27,"Alberto dos Reis"]]},{"text":"","entities":[]},{"text":"\xc9 pac\xedfico, tamb\xe9m na jurisprud\xeancia do Supremo Tribunal de Justi\xe7a, que esta nulidade n\xe3o resulta da omiss\xe3o de conhecimento de raz\xf5es, mas sim de quest\xf5es, como resulta entre outros, dos ac\xf3rd\xe3os de 9-3-2006, proc. n.\xba 06P461, (in www.stj.pt ) e de 11-1-2000 (BMJ n.\xba 493, p\xe1g. 385).","entities":[["DAT",201,209,"9-3-2006"],["DAT",251,260,"11-1-2000"],["ORG",262,265,"BMJ"]]},{"text":"","entities":[]},{"text":"Sendo o regime das invalidades constru\xeddo com base no princ\xedpio da tipicidade das nulidades, o art.379.\xba, deste diploma, aplica-se apenas \xe0s senten\xe7as, e n\xe3o aos meros despachos.","entities":[]},{"text":"","entities":[]},{"text":"Compulsando os presentes autos, deles resulta que o extraditando, ao abrigo do art.55.\xba da Lei n.\xba 144/99, de 31 de agosto, deduziu por escrito oposi\xe7\xe3o ao pedido de extradi\xe7\xe3o e, para prova de alguns factos que alega, juntou cinco documentos  e requereu a inquiri\xe7\xe3o de uma testemunha e o envio pelas autoridades russas da segunda via do seu passaporte com indica\xe7\xe3o expressa das desloca\xe7\xf5es efetuadas.  \\t","entities":[["DAT",110,122,"31 de agosto"]]},{"text":"","entities":[]},{"text":"A Ex.ma Ju\xedza Desembargadora, em despacho datado de 10/09/2021, depois de mencionar, designadamente, o que o extraditando Stepan Nikolaevich Furman pretende com cada um dos documentos que junta \u2013 \u201c\u2026no m\xeas de Maio de 2019, esteve a maior parte do tempo em Portugal, o que, segundo alega, pode ser comprovado pelos documentos n.\xbas 1 e 2 que junta e pela prova testemunhal que indica. Em Junho de 2019, esteve internado para a realiza\xe7\xe3o de tratamentos m\xe9dicos na Alemanha, motivados pelos seus graves problemas hep\xe1ticos, juntando o documento n.\xba 3 para a respectiva prova. Em Julho de 2019, esteve com a companheira a gozar o seu per\xedodo de f\xe9rias em Fran\xe7a, onde apenas foi poss\xedvel obter o comprovativo relativo \xe0 estadia em hotel, entre 19 e 24 desse m\xeas, conforme documento n.\xba 4 que junta. E, entre Julho e Agosto de 2019, regressou a Portugal, onde com a sua companheira se instalou definitivamente, de forma pac\xedfica, p\xfablica e nunca ocultando a sua identidade, conforme documento n.\xba 5 que junta \u2026\u201d -, que na resposta \xe0 oposi\xe7\xe3o \u201c\u2026o Minist\xe9rio P\xfablico n\xe3o veio p\xf4r em causa o teor dos documentos juntos pelo requerido e os correspondentes factos relativos \xe0s suas desloca\xe7\xf5es.\u201d, passou a apreciar da necessidade de inquiri\xe7\xe3o da testemunha arrolada e do pretendido envio pelas autoridades russas da segunda via do passaporte com indica\xe7\xe3o expressa das desloca\xe7\xf5es efetuadas, para terminar consignando \u201c\u2026que se imp\xf5e concluir que tais dilig\xeancias devem ser indeferidas, o que se decide\u201d.","entities":[["DAT",52,62,"10/09/2021"],["PER",122,147,"Stepan Nikolaevich Furman"],["DAT",208,220,"Maio de 2019"],["LOC",255,263,"Portugal"],["DAT",385,398,"Junho de 2019"],["LOC",461,469,"Alemanha"],["DAT",575,588,"Julho de 2019"],["LOC",650,656,"Fran\xe7a"],["DAT",744,756,"24 desse m\xeas"],["DAT",803,808,"Julho"],["DAT",811,825,"Agosto de 2019"],["LOC",839,847,"Portugal"],["ORG",1040,1058,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"Um destinat\xe1rio normal, colocado na situa\xe7\xe3o concreta, percebe, sem esfor\xe7o, que da prova indicada pelo extraditando, na oposi\xe7\xe3o ao pedido de extradi\xe7\xe3o, foi indeferida a inquiri\xe7\xe3o da testemunha arrolada e a solicita\xe7\xe3o de envio \xe0s autoridades russas da segunda via do passaporte com indica\xe7\xe3o expressa das desloca\xe7\xf5es efetuadas.","entities":[]},{"text":"","entities":[]},{"text":"N\xe3o tendo sido ordenado o desentranhamento dos cinco documentos juntos pelo extraditando, um destinat\xe1rio normal est\xe1 em condi\xe7\xf5es de perceber que a jun\xe7\xe3o dos mesmos foi admitida implicitamente e, consequentemente, que podem vir a ser valorados na Confer\xeancia na decis\xe3o final.","entities":[]},{"text":"","entities":[]},{"text":"Se esse destinat\xe1rio normal \xe9 o pr\xf3prio requerente da jun\xe7\xe3o dos documentos, que sabe que os mesmos permanecem nos autos para prova dos factos a que os ofereceu, n\xe3o \xe9 racional referir desconhecer que a jun\xe7\xe3o dos documentos foi admitida e invocar surpresa na decis\xe3o do Tribunal da Rela\xe7\xe3o os ter tomado em considera\xe7\xe3o no ac\xf3rd\xe3o recorrido quando apreciou a mat\xe9ria de oposi\xe7\xe3o a que o extraditando os indicou para prova dela. ","entities":[["ORG",271,290,"Tribunal da Rela\xe7\xe3o"]]},{"text":"","entities":[]},{"text":"De todo o modo, a nulidade arguida sempre improcederia, por duas outras ordens de raz\xf5es. ","entities":[]},{"text":"","entities":[]},{"text":"A primeira, \xe9 que, como j\xe1 vimos, a nulidade prevista na al.c) do n.\xba 1 do art.379.\xba do C.P.P., comina apenas as omiss\xf5es de pron\xfancia sobre quest\xf5es que o tribunal devesse apreciar na senten\xe7a. Ora, a invocada omiss\xe3o de pron\xfancia teria sido em despacho pr\xe9vio \xe0 prola\xe7\xe3o do ac\xf3rd\xe3o ora recorrido, mais concretamente no despacho datado de 10/09/202 sobre a admissibilidade da prova documental junta com articulado por si apresentado.","entities":[["DAT",340,357,"10/09/202 sobre a"]]},{"text":"","entities":[]},{"text":"A segunda raz\xe3o, \xe9 porque a haver qualquer omiss\xe3o de pron\xfancia no mesmo despacho, sobre a admissibilidade da jun\xe7\xe3o dos cinco documentos \u2013 o que n\xe3o se reconhece \u2013, sempre a mesma estaria sujeita ao regime geral de invalidades. N\xe3o havendo qualquer norma que comine essa omiss\xe3o como nulidade, absoluta ou relativa, sempre consubstancia uma mera irregularidade que deveria ter sido arguida no prazo e nos termos estabelecidos no artigo 123\xba do C\xf3digo de Processo Penal, o que n\xe3o aconteceu.","entities":[]},{"text":"","entities":[]},{"text":"Improcede, assim, tamb\xe9m esta quest\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            15 - Da nulidade da decis\xe3o por falta de dilig\xeancias obrigat\xf3rias.","entities":[]},{"text":"","entities":[]},{"text":"            A terceira quest\xe3o, objeto de recurso, respeita \xe1 n\xe3o notifica\xe7\xe3o do ora recorrente para apresentar alega\xe7\xf5es (conclus\xf5es 5, 6 e 7 da motiva\xe7\xe3o do recurso).","entities":[]},{"text":"","entities":[]},{"text":"Alega, em s\xedntese, que do n.\xba 2 do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria resulta a obrigatoriedade de que terminada a produ\xe7\xe3o de prova o defensor do extraditando seja notificado para em cinco dias juntar aos autos alega\xe7\xf5es finais, sob pena de viola\xe7\xe3o do princ\xedpio do contradit\xf3rio. E tal formalidade foi completamente omitida, consubstanciando assim uma nulidade, nos termos da al. d) do n.\xba 2 do art.120.\xba do CPP e do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[]},{"text":"","entities":[]},{"text":"A interpreta\xe7\xe3o no sentido de o n.\xba 2 do art.56.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria n\xe3o obriga a que seja o defensor do extraditando notificado para apresentar alega\xe7\xf5es escritas \xe9 inconstitucional por viola\xe7\xe3o das garantias de defesa, m\xe1xime do contradit\xf3rio consagrado n.\xba 5 do art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"Apreciemos.","entities":[]},{"text":"","entities":[]},{"text":"O art.56.\xba da Lei da coopera\xe7\xe3o judici\xe1ria internacional em mat\xe9ria penal disp\xf5e, sob a ep\xedgrafe \xab Produ\xe7\xe3o da prova\xbb, o seguinte:","entities":[]},{"text":"","entities":[]},{"text":"\xab1- As dilig\xeancias que tiverem sido requeridas e as que o juiz relator entender necess\xe1rias, designadamente para decidir sobre o destino de coisas apreendidas, devem ser efectivadas no prazo m\xe1ximo de 15 dias, com a presen\xe7a do extraditando, do defensor ou advogado constitu\xeddo e do int\xe9rprete, se necess\xe1rio, bem como do Minist\xe9rio P\xfablico.","entities":[["ORG",322,340,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"2- Terminada a produ\xe7\xe3o da prova, o Minist\xe9rio P\xfablico, o defensor ou o advogado do extraditando t\xeam, sucessivamente, vista do processo por cinco dias, para alega\xe7\xf5es.\xbb.","entities":[["ORG",36,54,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"Pressuposto da vista do processo para cinco dias, para alega\xe7\xf5es, enunciado nesta norma, \xe9 a produ\xe7\xe3o de prova, obrigatoriamente com a presen\xe7a do extraditando, do defensor ou advogado constitu\xeddo e do int\xe9rprete, se necess\xe1rio, bem como do Minist\xe9rio P\xfablico.","entities":[["ORG",241,259,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"No caso concreto, a Ex.ma relatora no Tribunal da Rela\xe7\xe3o de Coimbra, por despacho proferido a 10 de setembro de 2021, indeferiu a inquiri\xe7\xe3o da testemunha arrolada pelo extraditando por considerar que ela se revelava desnecess\xe1ria e um ato in\xfatil, e o mesmo decidiu relativamente ao pretendido envio pelas autoridades russas de segunda via do passaporte do extraditando.","entities":[["ORG",38,68,"Tribunal da Rela\xe7\xe3o de Coimbra"],["DAT",95,117,"10 de setembro de 2021"]]},{"text":"","entities":[]},{"text":"Foi nestas circunst\xe2ncias que decidiu, no mesmo despacho, que n\xe3o havendo necessidade de ordenar outras dilig\xeancias, nos termos do art.56.\xba, n.\xba1 da Lei n.\xba 144/99, determinou que os autos seguiriam para os vistos e \xe0 Confer\xeancia, nos termos do art.57.\xba, n.\xbas 1 e 2 do mesmo diploma.","entities":[]},{"text":"","entities":[]},{"text":"N\xe3o vemos raz\xf5es para censurar esta decis\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"Efetivamente, s\xf3 h\xe1 lugar a vista do processo, por cinco dias, para alega\xe7\xf5es, quando haja produ\xe7\xe3o de prova, obrigatoriamente com a presen\xe7a do extraditando, do defensor ou advogado constitu\xeddo e do int\xe9rprete, se necess\xe1rio, bem como do Minist\xe9rio P\xfablico.","entities":[["ORG",239,257,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"Tendo o extraditando tido possibilidade de apresentar os seus argumentos, primeiro presencialmente, na audi\xe7\xe3o a que alude o art.54.\xba da Lei n.\xba 144/99 e posteriormente com a jun\xe7\xe3o aos autos da sua oposi\xe7\xe3o, ao abrigo do art.55.\xba, n\xe3o viola as garantias de defesa do extraditando, n\xe3o lhe ser dada vista para apresentar alega\xe7\xf5es quando  n\xe3o houve lugar \xe0 produ\xe7\xe3o de prova, nos termos estabelecidos do art.56.\xba do Lei n.\xba 144/99.","entities":[]},{"text":"","entities":[]},{"text":"Neste mesmo sentido se pronunciou j\xe1 o Supremo Tribunal de Justi\xe7a, como se retira do citado ac\xf3rd\xe3o de 09-07-2015, onde se escreve:","entities":[["DAT",104,114,"09-07-2015"]]},{"text":"","entities":[]},{"text":"\u201c Sobre a espec\xedfica quest\xe3o da produ\xe7\xe3o ou n\xe3o de alega\xe7\xf5es, uma vez indeferidas as dilig\xeancias de prova, o Supremo Tribunal Ac\xf3rd\xe3o de 3 de maio de 2012, processo n.\xba 205/11.9YRCBR. j\xe1 tomou posi\xe7\xe3o sobre ela, tendo conclu\xeddo que, \xab[i]ndeferidas as dilig\xeancias de prova, requeridas pelo extraditando, n\xe3o h\xe1 lugar \xe0 produ\xe7\xe3o de alega\xe7\xf5es, por estas terem como pressuposto pr\xe9vio necess\xe1rio a exist\xeancia de produ\xe7\xe3o de prova. Contudo, com a audi\xe7\xe3o do recorrente, nos termos do art.54.\xba da Lei 144/99, de 31-08, e com a oposi\xe7\xe3o deduzida, nos termos do art.55.\xba do mesmo diploma, foi adequadamente assegurado o exerc\xedcio do contradit\xf3rio\xbb.","entities":[["ORG",109,133,"Supremo Tribunal Ac\xf3rd\xe3o"],["DAT",137,154,"3 de maio de 2012"],["DAT",506,511,"31-08"]]},{"text":"","entities":[]},{"text":"De facto, havendo produ\xe7\xe3o de prova compreende-se que o extraditando e o Minist\xe9rio possam exprimir as suas posi\xe7\xf5es sobre o resultado da dilig\xeancia, habilitando o tribunal com os seus pontos de vista sobre a quest\xe3o; n\xe3o havendo produ\xe7\xe3o de prova, as respetivas posi\xe7\xf5es decorrem j\xe1 do pedido formulado pelo Minist\xe9rio P\xfablico e pela resposta providenciada pelo extraditando.","entities":[["ORG",73,83,"Minist\xe9rio"],["ORG",309,327,"Minist\xe9rio P\xfablico"]]},{"text":"","entities":[]},{"text":"N\xe3o h\xe1 pois raz\xe3o para, nestas situa\xe7\xf5es, haver lugar a alega\xe7\xf5es, cuja omiss\xe3o n\xe3o ofende o disposto no artigo 56.\xba da Lei n.\xba 144/99. Ali\xe1s, nos termos do artigo 57.\xba. n.\xba 1, a n\xe3o produ\xe7\xe3o de alega\xe7\xf5es verifica-se, tamb\xe9m, nos casos em que n\xe3o h\xe1 oposi\xe7\xe3o \xe0 extradi\xe7\xe3o, por se reputar formalidade desnecess\xe1ria.\u201d.","entities":[]},{"text":"","entities":[]},{"text":"Nestas concretas circunst\xe2ncias, de aus\xeancia de \xabprodu\xe7\xe3o de prova\xbb, o sentido do n.\xba2 do art.56.\xba da Lei n.\xba 144/99, interpretado nos termos que deix\xe1mos exposto, n\xe3o \xe9 incompat\xedvel com a lei fundamental. ","entities":[]},{"text":"","entities":[]},{"text":"Consequentemente, entendemos que na aus\xeancia de produ\xe7\xe3o de prova, nos termos do art.56.\xba da Lei n.\xba 144/99, a n\xe3o notifica\xe7\xe3o do defensor do extraditando para apresentar alega\xe7\xf5es escritas \xe9 inconstitucional, nos termos do n.\xba2 deste preceito, n\xe3o \xe9 inconstitucional por viola\xe7\xe3o das garantias de defesa, m\xe1xime do contradit\xf3rio consagrado n.\xba 5 do art.32.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"N\xe3o constituindo as alega\xe7\xf5es escritas, no presente caso, uma dilig\xeancia essencial \xe0 decis\xe3o, \xe9 evidente que nunca poderiam integrar a nulidade da decis\xe3o, por falta de dilig\xeancias obrigat\xf3rias, arguida pelo recorrente.","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"           16 - Do erro de julgamento na aplica\xe7\xe3o do direito aos factos","entities":[]},{"text":"","entities":[]},{"text":"            No \xe2mbito desta quest\xe3o s\xe3o imputados, pelo recorrente, ao ac\xf3rd\xe3o recorrido, v\xe1rios erros de julgamento em mat\xe9ria de direito.","entities":[]},{"text":"","entities":[]},{"text":"16.1. Em primeiro lugar, defende o recorrente que o Tribunal a quo violou o disposto na al\xednea e) do n.\xba1 do art.23 e na al\xednea b) do n.\xba 2 do art.12 da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, na medida em que o ac\xf3rd\xe3o recorrido fundamentou a sua decis\xe3o nos elementos documentais que acompanham o processo de extradi\xe7\xe3o, referentes \xe0 aplica\xe7\xe3o de medidas coativas pelas Autoridades Russas, e n\xe3o no teor do pedido nos termos que constam aquelas normas.","entities":[["ORG",366,384,"Autoridades Russas"]]},{"text":"","entities":[]},{"text":"Vejamos.","entities":[]},{"text":"","entities":[]},{"text":"Como bem se refere no ac\xf3rd\xe3o deste Supremo Tribunal, de 13 de abril de 2005 (proc. n.\xba 05P745) \u201co pedido de extradi\xe7\xe3o \xe9 a inst\xe2ncia formal formulada pela Parte requerente, e n\xe3o o requerimento, ou \u201cpedido\u201d em sentido impr\xf3prio, do Minist\xe9rio P\xfablico formulado nos termos do artigo 50\xb0, n\xbas l e 2, da Lei n\xba 144/99, de 31 de Agosto\u201d.","entities":[["ORG",36,52,"Supremo Tribunal"],["DAT",57,76,"13 de abril de 2005"],["ORG",233,251,"Minist\xe9rio P\xfablico"],["PER",288,291,"n\xbas"],["DAT",320,332,"31 de Agosto"]]},{"text":"","entities":[]},{"text":"\xc9 ele que deve conter \u201c\u2026precisa e completamente, a descri\xe7\xe3o dos factos imputados, com data, local e circunst\xe2ncias da infra\xe7\xe3o\u201d, para desta forma \u201cpermitir ao Estado requerido a decis\xe3o sobre a verifica\xe7\xe3o dos pressupostos materiais da extradi\xe7\xe3o, tanto na perspetiva da dupla incrimina\xe7\xe3o, como princ\xedpio-regra determinante das formas mais intensas de coopera\xe7\xe3o internacional em mat\xe9ria penal, como das demais exig\xeancias e pressupostos materiais. O pedido constitui, tamb\xe9m, a base para definir os termos e os limites em que a extradi\xe7\xe3o \xe9 concedida, para efeitos de estabelecimento do c\xedrculo dominado pelo princ\xedpio da especialidade.\u201d.","entities":[["ORG",160,166,"Estado"]]},{"text":"","entities":[]},{"text":"O art.12.\xba, n.\xba2  da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, invocado pelo recorrente, estabelece que o pedido de extradi\xe7\xe3o, dever\xe1 ser acompanhado, designadamente, dos seguintes elementos: ","entities":[]},{"text":"","entities":[]},{"text":"\xabb) Descri\xe7\xe3o dos factos pelos quais \xe9 pedida a extradi\xe7\xe3o. O momento e lugar da sua pr\xe1tica, a sua qualifica\xe7\xe3o jur\xeddica e as refer\xeancias \xe0s disposi\xe7\xf5es legais aplic\xe1veis ser\xe3o indicados o mais rigorosamente poss\xedvel;\xbb.","entities":[]},{"text":"","entities":[]},{"text":"O art.23.\xba, n.\xba1 , al\xednea e), da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, invocado pelo recorrente, como violado no ac\xf3rd\xe3o recorrido, n\xe3o tem n\xfameros nem al\xedneas. Eventualmente, querer\xe1 referir-se o recorrente \xe0 al\xednea e) do n.\xba1 do art.23.\xba da Lei n.\xba 144/99 de 31 de agosto, que estabelece, como requisito do pedido de coopera\xe7\xe3o: \xabA narra\xe7\xe3o dos factos, incluindo o lugar e o tempo da sua pr\xe1tica, proporcional \xe0 import\xe2ncia do ato de coopera\xe7\xe3o que se pretende\xbb.       ","entities":[["DAT",257,269,"31 de agosto"]]},{"text":"","entities":[]},{"text":"Do ponto n.\xba 2.1.3 da factualidade dada como provada no ac\xf3rd\xe3o recorrido, resulta bem evidenciado que a Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia apresentou por via diplom\xe1tica, \xe0 Procuradoria-Geral da Rep\xfablica Portuguesa, um pedido de extradi\xe7\xe3o do ora recorrido, para efeitos de procedimento criminal, acusado de cometer um crime de ocupa\xe7\xe3o da posi\xe7\xe3o mais alta na hierarquia criminal, p. e p. nos termos do artigo n.\xba 210.1 do C\xf3digo Penal da Federa\xe7\xe3o da R\xfassia, acrescentando que \u201cUma descri\xe7\xe3o detalhada dos atos incriminados para S.N. Furman est\xe1 descrita nos documentos anexados\u201d.","entities":[["ORG",105,146,"Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia"],["ORG",181,223,"Procuradoria-Geral da Rep\xfablica Portuguesa"],["PER",540,551,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"Os documentos juntos com o pedido formal de extradi\xe7\xe3o fazem, pois, parte do mesmo pedido, integrando-o, como qualquer declarat\xe1rio normal perceber\xe1.","entities":[]},{"text":"","entities":[]},{"text":"O extraditando ao considerar que o \u201cPedido\u201d de extradi\xe7\xe3o se resume \xab\u2026a contar uma \u201chist\xf3ria\u201d sobre um alegado malfeitor, que seduz terceiros para o mundo do crime.\xbb, aceita implicitamente que os documentos juntos com o pedido de extradi\xe7\xe3o fazem parte integrante deste, pois o pedido de extradi\xe7\xe3o, nos termos que ora refere, n\xe3o narra qualquer \u201chist\xf3ria\u201d. O pedido de extradi\xe7\xe3o identifica, essencialmente, o crime imputado ao extraditando e invoca o preenchimento dos requisitos positivos e negativos da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, remetendo, expressamente, a \u201chist\xf3ria\u201d dos factos imputados ao extraditando para os documentos anexados, como resulta bem evidenciado da leitura do ponto n.\xba 2.1.3 da factualidade dada como provada no ac\xf3rd\xe3o recorrido. ","entities":[]},{"text":"","entities":[]},{"text":"O Tribunal a quo, em face do pedido de extradi\xe7\xe3o e respetivos documentos que o acompanham e deles fazem parte, recebidos da Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia, deu como provado, nos pontos n.\xbas 2.1.2 e 2.1.5 do ac\xf3rd\xe3o recorrido, um conjunto de factos que s\xe3o imputados ao extraditando pelas autoridades russas, designadamente, pelo Tribunal de Murmansk, que mais n\xe3o s\xe3o que a narra\xe7\xe3o da conduta do extraditando localizada no tempo e no espa\xe7o.","entities":[["ORG",2,12,"Tribunal a"],["ORG",125,166,"Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia"],["ORG",341,361,"Tribunal de Murmansk"]]},{"text":"","entities":[]},{"text":"Assim, entende o Supremo Tribunal de Justi\xe7a que o Tribunal da Rela\xe7\xe3o de Coimbra n\xe3o violou o disposto na al\xednea e) do n.\xba1 do art.23 da Lei n.\xba 144/99 e na al\xednea b) do n.\xba 2 do art.12 da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, ao considerar que se mostram verificados os requisitos estabelecidos nestas normas.  ","entities":[["ORG",51,81,"Tribunal da Rela\xe7\xe3o de Coimbra"]]},{"text":"","entities":[]},{"text":"16.2. Passemos, seguidamente, a conhecer da alegada insuficiente fundamenta\xe7\xe3o quanto \xe0 exist\xeancia de lei penal \xe0 data dos factos, e consequente viola\xe7\xe3o do princ\xedpio da legalidade (nullum crimen, nulla poena sine lege), uma vez que, no entender do recorrente, a dupla negativa utilizada (\xabn\xe3o se retira que n\xe3o existia lei penal anterior\xbb) aparenta revelar um desconhecimento sobre o C\xf3digo Penal Russo, que \xe9 incompat\xedvel com as garantias que o princ\xedpio da legalidade \u2013 como princ\xedpio estruturante de um processo penal de um Estado de Direito \u2013 deve assegurar.","entities":[["ORG",528,545,"Estado de Direito"]]},{"text":"","entities":[]},{"text":"Vejamos.","entities":[]},{"text":"","entities":[]},{"text":"O princ\xedpio da legalidade \xe9 um princ\xedpio incontest\xe1vel de relevo politico-criminal acolhido no art. 29.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa. ","entities":[]},{"text":"","entities":[]},{"text":"Como tamb\xe9m \xe9 acolhido em diplomas de cariz internacional, nomeadamente, na Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos Humanos e das Liberdades Fundamentais (art.7.\xba, n.\xba 1) e na da Declara\xe7\xe3o Universal dos Direitos do Homem de 1948 (art.11.\xba, n.\xba2).","entities":[["DAT",233,237,"1948"]]},{"text":"","entities":[]},{"text":"Explica-se, essencialmente, pelo objetivo de assegurar a liberdade do indiv\xedduo, particularmente frente ao Estado, evitando a possibilidade de num Estado de Direito Democr\xe1tico ela ser arbitrariamente restringida, afetando bens essenciais da sua vida, s\xf3 admitindo restri\xe7\xf5es na medida exigida por lei \xe0 realiza\xe7\xe3o dos fins do Estado. Mas fundamenta-se, ainda, em raz\xf5es de preven\xe7\xe3o e de culpa, pois s\xf3 sabendo que existe uma lei criminal anterior ao facto \xe9 que o individuo tem o dever de n\xe3o praticar o crime e de ser sujeito a puni\xe7\xe3o pela sua pr\xe1tica.  ","entities":[["ORG",107,113,"Estado"],["ORG",327,333,"Estado"]]},{"text":"","entities":[]},{"text":"O princ\xedpio da legalidade propriamente dito, reconduz-se \xe0 reserva de lei. ","entities":[]},{"text":"","entities":[]},{"text":"Segundo o princ\xedpio da legalidade, os tribunais est\xe3o vinculados a n\xe3o aplicar san\xe7\xf5es sem lei anterior que as preveja (nulla poena sine lege) e a n\xe3o aplicar as san\xe7\xf5es penais previstas sem que se realizem determinados pressupostos, igualmente descritos na lei (nullum crimen sine lege). ","entities":[]},{"text":"","entities":[]},{"text":"Corol\xe1rio l\xf3gico do princ\xedpio da legalidade, no sentido restrito de \u201cnullum crimen, nulla poena sine lege\u201d, s\xe3o ainda a proibi\xe7\xe3o de analogia na defini\xe7\xe3o de crimes e de pressupostos de medidas de seguran\xe7a e a proibi\xe7\xe3o de retroatividade, salvo se a lei for mais favor\xe1vel ao arguido. ","entities":[]},{"text":"","entities":[]},{"text":"Na li\xe7\xe3o de Figueiredo Dias, num \u201cEstado de Direito, o princ\xedpio da legalidade (o princ\xedpio  nullum crimen, nulla poena sine lege) constitui a fronteira inultrapass\xe1vel da punibilidade \u2013 e com isso tamb\xe9m a fronteira de todo o fen\xf3meno criminal\u201d. ","entities":[["PER",12,27,"Figueiredo Dias"]]},{"text":"","entities":[]},{"text":"Para determinarmos se no caso concreto foi violado o princ\xedpio da legalidade, por insuficiente fundamenta\xe7\xe3o do ac\xf3rd\xe3o recorrido quanto \xe0 exist\xeancia de lei penal \xe0 data dos factos, importa analisar o essencial do que nele foi consignado a este prop\xf3sito.","entities":[]},{"text":"","entities":[]},{"text":"No ac\xf3rd\xe3o recorrido foi referido, designadamente, com interesse para a decis\xe3o (transcri\xe7\xe3o):","entities":[]},{"text":"","entities":[]},{"text":"            \u201cNo caso dos autos, como resulta dos pontos 2.1.1. e 2.1.2., a factualidade incriminat\xf3ria que \xe9 imputada ao requerido, pelo Estado que formulou o pedido de extradi\xe7\xe3o aqui em an\xe1lise, reporta-se ao per\xedodo de tempo compreendido entre 1994 e 27-08-2019.","entities":[["ORG",137,143,"Estado"],["DAT",247,251,"1994"],["DAT",254,264,"27-08-2019"]]},{"text":"","entities":[]},{"text":"              Por outro lado, como se alcan\xe7a do ponto 2.1.1. g), a emenda introduzida pela Lei Federal n.\xba 46-FZ, de 1 de Abril de 2019, ao C\xf3digo Penal da Federa\xe7\xe3o Russa, levou \xe0 tipifica\xe7\xe3o, no artigo 210.1 do crime de \u201cOcupa\xe7\xe3o de uma posi\xe7\xe3o superior na hierarquia criminal\u201d, ou seja, a criminaliza\xe7\xe3o do pr\xf3prio facto de o agente ocupar uma posi\xe7\xe3o superior na hierarquia criminal, que entrou em vigor no dia 14 de Abril de 2019.","entities":[["DAT",118,136,"1 de Abril de 2019"],["DAT",416,435,"14 de Abril de 2019"]]},{"text":"","entities":[]},{"text":"            Ora, se \xe9 certo que, como assinalou o Minist\xe9rio P\xfablico, na resposta \xe0 oposi\xe7\xe3o do requerido, da documenta\xe7\xe3o junta n\xe3o se retira que n\xe3o existia lei penal anterior a 14-04-2019 (recorde-se que a referida Lei Federal n.\xba 46-FZ introduziu emendas ao C\xf3digo Penal, resultando numa norma que, pela numera\xe7\xe3o que assumiu \u2013 210.1 \u2013, se afigura ser um aditamento, a acrescer, pois, ao artigo 210 do referido C\xf3digo), n\xe3o \xe9 menos verdade que, independentemente de, antes de 14-04-2019, haver ou n\xe3o, no ordenamento jur\xeddico da Federa\xe7\xe3o Russa, norma que incriminasse o acto de chefiar uma organiza\xe7\xe3o criminosa, ou mesmo o pr\xf3prio facto de o agente ocupar uma posi\xe7\xe3o superior na respectiva hierarquia criminal, foi imputada factualidade ao requerido que abrange um per\xedodo de tempo em que o tipo incriminador do artigo 210.1 se encontrava j\xe1 em vig\xeancia (entre 12-04-2019 e 27-08-2019).","entities":[["ORG",50,68,"Minist\xe9rio P\xfablico"],["DAT",180,190,"14-04-2019"],["DAT",480,490,"14-04-2019"],["ORG",533,548,"Federa\xe7\xe3o Russa"],["DAT",868,878,"12-04-2019"],["DAT",881,891,"27-08-2019"]]},{"text":"","entities":[]},{"text":"            A circunst\xe2ncia de se tratar de quatro meses de vig\xeancia da lei incriminat\xf3ria, num elenco factual que a autoridade requerente descreve como tendo ocorrido ao longo de v\xe1rias d\xe9cadas (desde 1994 at\xe9 27-08-2019), em nada altera a conclus\xe3o a que se chega no presente caso, de que o princ\xedpio da legalidade, na acep\xe7\xe3o acima descrita, se mostra respeitado, em termos de se dever considerar que o processo satisfaz as exig\xeancias ditadas pelo artigo 7.\xba, n.\xba 1 da Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos Humanos e das Liberdades Fundamentais, tal como imp\xf5e o artigo 6.\xba, n.\xba 1, al\xednea a), da Lei n.\xba 144/99.","entities":[["DAT",202,206,"1994"],["DAT",211,221,"27-08-2019"]]},{"text":"","entities":[]},{"text":"            Diga-se, ainda, que, conforme resulta do ponto assente 2.1.2., a mat\xe9ria imputada no processo criminal a que respeita o pedido de extradi\xe7\xe3o, abrange o per\xedodo compreendido entre 12-04-2019 e 27-08-2019 e pela autoridade requerente foram descritos factos ocorridos durante tal per\xedodo.\u201d","entities":[["DAT",191,201,"12-04-2019"],["DAT",204,214,"27-08-2019"]]},{"text":"","entities":[]},{"text":"Salvo o devido respeito, desta transcri\xe7\xe3o resulta medianamente claro que, para o Tribunal a quo, existe lei penal russa, \xe0 data dos factos, que incrimina o ora extraditando pela pr\xe1tica do crime de \u201cocupa\xe7\xe3o de uma posi\xe7\xe3o superior na hierarquia criminal\u201d.","entities":[]},{"text":"","entities":[]},{"text":"Por um lado, refere que se alcan\xe7a do ponto 2.1.1. g), que a emenda introduzida pela Lei Federal n.\xba 46-FZ, de 1 de Abril de 2019, ao C\xf3digo Penal da Federa\xe7\xe3o Russa, levou \xe0 tipifica\xe7\xe3o, no artigo 210.1 do crime de \u201cOcupa\xe7\xe3o de uma posi\xe7\xe3o superior na hierarquia criminal\u201d, ou seja, a criminaliza\xe7\xe3o do pr\xf3prio facto de o agente ocupar uma posi\xe7\xe3o superior na hierarquia criminal, entrou em vigor no dia 14 de Abril de 2019 e, por outro, que \u201c\u2026independentemente de, antes de 14-04-2019, haver ou n\xe3o, no ordenamento jur\xeddico da Federa\xe7\xe3o Russa, norma que incriminasse o acto de chefiar uma organiza\xe7\xe3o criminosa, ou mesmo o pr\xf3prio facto de o agente ocupar uma posi\xe7\xe3o superior na respectiva hierarquia criminal, foi imputada factualidade ao requerido que abrange um per\xedodo de tempo em que o tipo incriminador do artigo 210.1 se encontrava j\xe1 em vig\xeancia (entre 12-04-2019 e 27-08-2019).","entities":[["DAT",111,129,"1 de Abril de 2019"],["DAT",405,424,"14 de Abril de 2019"],["DAT",476,486,"14-04-2019"],["ORG",529,544,"Federa\xe7\xe3o Russa"],["DAT",864,874,"12-04-2019"],["DAT",877,887,"27-08-2019"]]},{"text":"","entities":[]},{"text":"A men\xe7\xe3o, no segmento do ac\xf3rd\xe3o, a \u201chaver ou n\xe3o no ordenamento jur\xeddico da Federa\xe7\xe3o Russa, norma que incriminasse o acto\u201d anteriormente ao dia 14 de abril de 2019, surge na sequ\xeancia do Minist\xe9rio P\xfablico ter assinalado, na resposta \xe0 oposi\xe7\xe3o do requerido, que da documenta\xe7\xe3o junta n\xe3o se retira que n\xe3o existia lei penal anterior a 14-04-209, mas essa men\xe7\xe3o \xe9 ultrapassada, no ac\xf3rd\xe3o recorrido, ao concluir , de forma perent\xf3ria, que \u201c n\xe3o \xe9 menos verdade\u201d que sempre os factos em causa integram o tipo incriminador do art.210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, que se encontrava  j\xe1 em vig\xeancia entre 12-04-2019 e 27-08-2019.","entities":[["ORG",77,92,"Federa\xe7\xe3o Russa"],["DAT",146,165,"14 de abril de 2019"],["ORG",189,207,"Minist\xe9rio P\xfablico"],["DAT",338,347,"14-04-209"],["DAT",613,623,"12-04-2019"],["DAT",626,636,"27-08-2019"]]},{"text":"","entities":[]},{"text":"Deste modo, n\xe3o sufragamos o entendimento do recorrente de que existe insuficiente fundamenta\xe7\xe3o quanto \xe0 exist\xeancia de lei penal \xe0 data dos factos, nem consequentemente se reconhece a viola\xe7\xe3o no ac\xf3rd\xe3o recorrido do princ\xedpio da legalidade (nullum crimen, nulla poena sine lege),","entities":[]},{"text":"","entities":[]},{"text":"16.3.  Refere seguidamente o recorrente Stepan Nikolaevich Furman, como erro na aplica\xe7\xe3o do direito aos factos, uma incompatibilidade entre a generalidade da pr\xe1tica dos factos e a natureza e relev\xe2ncia que o processo de extradi\xe7\xe3o assume na coopera\xe7\xe3o judicial entre os Estados.","entities":[["PER",40,65,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"Alega, neste sentido, que da factualidade constante do ponto n.\xba 2.1.2 resulta ser-lhe imputada a pr\xe1tica do crime no per\xedodo entre 1980 e agosto de 2019, e em momento algum \xe9 referida uma outra qualquer data que permite balizar quando os alegados crimes foram praticados.","entities":[["DAT",132,136,"1980"],["DAT",139,153,"agosto de 2019"]]},{"text":"","entities":[]},{"text":"Vejamos.","entities":[]},{"text":"","entities":[]},{"text":"Como bem se menciona no ac\xf3rd\xe3o recorrido, a norma incriminadora do art.210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, encontra tipifica\xe7\xe3o na lei portuguesa no art.299.\xba, n.\xbas 1 e 3 do C\xf3digo Penal [quem chefiar ou dirigir grupo, organiza\xe7\xe3o ou associa\xe7\xe3o cuja finalidade ou actividade seja dirigida \xe0 pr\xe1tica de um ou mais crimes, considerando-se que existe grupo, organiza\xe7\xe3o ou associa\xe7\xe3o quando esteja em causa um conjunto de, pelo menos, tr\xeas pessoas, actuando concertadamente durante um certo per\xedodo de tempo, ser\xe1 punido com pena de pris\xe3o de dois a oito anos]","entities":[["ORG",97,112,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"A factualidade constante do ponto n.\xba 2.1.2 do ac\xf3rd\xe3o recorrido, referida pelo recorrente \u2013 que \xe9 apenas alguma da imputada ao extraditando -, narra a exist\xeancia de um grupo organizado, com identifica\xe7\xe3o de v\xe1rios dos seus membros, chefiado pelo extraditando Stepan Nikolaevich Furman, dedicado \xe0 pr\xe1tica de crimes, na regi\xe3o de Murmansk, na R\xfassia, num certo per\xedodo de tempo, que \xe9 fixado entre o ano de 1994 e 27 de agosto de 2019, descrevendo-se , ali al\xe9m do mais, diversos atos praticados pelo arguido e respetiva organiza\xe7\xe3o no per\xedodo entre 1 de janeiro de 2017 e 27 de agosto de 2019.","entities":[["PER",260,285,"Stepan Nikolaevich Furman"],["LOC",330,338,"Murmansk"],["LOC",343,349,"R\xfassia"],["DAT",407,411,"1994"],["DAT",414,434,"27 de agosto de 2019"],["DAT",550,570,"1 de janeiro de 2017"],["DAT",573,593,"27 de agosto de 2019"]]},{"text":"","entities":[]},{"text":"Considerando o exposto, entendemos que a descri\xe7\xe3o da factualidade constante do ponto n.\xba 2.1.2, designadamente, a imputa\xe7\xe3o do per\xedodo certo em que o extraditando chefiou como \u201cladr\xe3o na lei\u201d um grupo dedicado ao crime, \xe9 compat\xedvel com a natureza e relev\xe2ncia que o processo de extradi\xe7\xe3o assume na coopera\xe7\xe3o judicial entre os Estados.","entities":[["ORG",330,337,"Estados"]]},{"text":"","entities":[]},{"text":"16.4. Alega seguidamente o recorrente que, no seu pedido de extradi\xe7\xe3o, a Federa\xe7\xe3o Russa n\xe3o faz qualquer refer\xeancia \xe0 possibilidade de os alegados crimes estarem a ser praticados fora do territ\xf3rio como faz expressamente refer\xeancia ao facto de os mesmos estarem a ser praticados dentro das suas fronteiras, pelo que o Venerando Tribunal n\xe3o poderia concluir em sede de aprecia\xe7\xe3o judicial que os mesmos poderiam ser praticados noutro pa\xeds.","entities":[["ORG",74,89,"Federa\xe7\xe3o Russa"],["ORG",320,338,"Venerando Tribunal"]]},{"text":"","entities":[]},{"text":"Vejamos.","entities":[]},{"text":"","entities":[]},{"text":"Na oposi\xe7\xe3o ao pedido de extradi\xe7\xe3o, o ora recorrente Stepan Nikolaevich Furman refere que na data entre 12/4/2019 e 27/8/2019, em que a norma invocada pelas autoridades russas se encontrava vigente, n\xe3o se encontrava em territ\xf3rio russo, mais concretamente, no m\xeas de maio de 2019 esteve a maior parte do tempo em Portugal, em julho de 2019 esteve na Alemanha, na Fran\xe7a e em Portugal e em agosto de 2019 esteve em Portugal.  ","entities":[["PER",54,79,"Stepan Nikolaevich Furman"],["DAT",105,114,"12/4/2019"],["DAT",117,126,"27/8/2019"],["DAT",269,281,"maio de 2019"],["LOC",315,323,"Portugal"],["DAT",328,341,"julho de 2019"],["LOC",352,360,"Alemanha"],["LOC",365,371,"Fran\xe7a"],["LOC",377,385,"Portugal"],["DAT",391,405,"agosto de 2019"],["LOC",416,424,"Portugal"]]},{"text":"","entities":[]},{"text":"A esta afirma\xe7\xe3o respondeu o Tribunal a quo no ac\xf3rd\xe3o recorrido, referindo que os factos provados, nomeadamente os dados como assentes no ponto n.\xba 2.1.2 (transcri\xe7\xe3o): \u201c\u2026 s\xe3o compat\xedveis com as v\xe1rias desloca\xe7\xf5es para fora do territ\xf3rio da Federa\xe7\xe3o Russa que se apuraram nos pontos 2.1.12 a 2.1.15., pois, como assinalou tamb\xe9m o Minist\xe9rio P\xfablico, a descri\xe7\xe3o da actividade criminosa imputada ao requerido, tal como consta do pedido de extradi\xe7\xe3o, a natureza espec\xedfica do crime em causa, a sua posi\xe7\xe3o sobre os demais elementos da organiza\xe7\xe3o criminosa que [alegadamente] fundou, bem como os resultados que provinham da mesma actividade, n\xe3o eram impeditivos de serem por si exercidos fora do territ\xf3rio da R\xfassia, sendo que, tal como resulta das regras da experi\xeancia comum e at\xe9 do conhecimento e dom\xednio p\xfablico, o tipo de actividades criminosas em causa pode ser exercido e mantido fora dos locais onde os autores materiais dos factos actuam.\u201d.","entities":[["ORG",242,257,"Federa\xe7\xe3o Russa"],["ORG",333,351,"Minist\xe9rio P\xfablico"],["LOC",713,719,"R\xfassia"]]},{"text":"","entities":[]},{"text":"Este segmento \xe9 uma resposta do Tribunal a quo a um argumento apresentado pelo recorrente, em face da alega\xe7\xe3o feita pelo ora recorrente de que n\xe3o poderia ter praticado o imputado crime por estar fora do territ\xf3rio russo.","entities":[["ORG",32,42,"Tribunal a"]]},{"text":"","entities":[]},{"text":"Ainda assim, n\xe3o deixou o ac\xf3rd\xe3o recorrido de real\xe7ar que \u201cn\xe3o cabe aqui discutir a demonstra\xe7\xe3o ou n\xe3o dos factos imputados ao extraditando\u201d, o que se mostra de acordo com o estabelecido no art.46.\xba, n.\xba 3 da Lei n.\xba 144/99.","entities":[]},{"text":"","entities":[]},{"text":"N\xe3o vislumbrando nesta parte um qualquer excesso de pron\xfancia, improcede este argumento relativo a mais um alegado erro de aplica\xe7\xe3o do direito aos factos.","entities":[]},{"text":"","entities":[]},{"text":"16.5.  A terminar, defende o recorrente que verificando-se que o assacado crime cuja pr\xe1tica lhe foi imputado, e a pena \u2013 em abstrato \u2013 legalmente cominada para o mesmo, n\xe3o se encontravam consagrados no C\xf3digo Penal Russo aquando da alegada pr\xe1tica dos factos e estando vedada a aprecia\xe7\xe3o sobre a forma em que poderia ser praticado o crime, o Venerando Tribunal, ao decidir pela extradi\xe7\xe3o violou o disposto no n.\xba 1 do art.7.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e na al\xednea a) do n.\xba 1 do art.6.\xba do Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[]},{"text":"","entities":[]},{"text":"Uma interpreta\xe7\xe3o da al. a) do n.\xba 1 do art.6.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria no sentido de que os factos descritos no pedido n\xe3o t\xeam de estar devidamente enquadrados no tempo e lugar e que essa informa\xe7\xe3o pode resultar de outros elementos do processo \xe9 inconstitucional por viola\xe7\xe3o dos princ\xedpios da seguran\xe7a jur\xeddica e da legalidade criminal, consagrados, respetivamente, nos arts. 2.\xba e n.\xba 1 do artigo 29.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"O art.7.\xba, n.\xba1 da Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos Humanos e das Liberdades Fundamentais, a que j\xe1 fizemos refer\xeancia aquando da defini\xe7\xe3o do princ\xedpio da legalidade, estabelece que \xab Ningu\xe9m pode ser condenado por uma a\xe7\xe3o ou uma omiss\xe3o que, no momento em que foi cometida, n\xe3o constitu\xeda infra\xe7\xe3o, segundo o direito nacional ou internacional. Igualmente n\xe3o pode ser imposta uma pena mais grave do que a aplic\xe1vel no momento em que a infra\xe7\xe3o foi cometida.\xbb.","entities":[]},{"text":"","entities":[]},{"text":"O art.6.\xba do Lei n.\xba 144/99, que disp\xf5e sobre os requisitos gerais negativos da coopera\xe7\xe3o internacional, estabelece no seu n.\xba1, que o pedido de coopera\xe7\xe3o \xe9 recusado quando: ","entities":[]},{"text":"","entities":[]},{"text":"\xaba) O processo n\xe3o satisfizer ou n\xe3o respeitar as exig\xeancias da Conven\xe7\xe3o Europeia para a Protec\xe7\xe3o dos Direitos do Homem e das Liberdades Fundamentais, de 4 de Novembro de 1950, ou de outros instrumentos internacionais relevantes na mat\xe9ria, ratificados por Portugal\xbb.","entities":[["DAT",156,177,"4 de Novembro de 1950"],["LOC",259,267,"Portugal"]]},{"text":"","entities":[]},{"text":"O erro de aplica\xe7\xe3o do direito aos factos, aludido nos artigos 12 e 13 das conclus\xf5es da motiva\xe7\xe3o do recurso, ora em aprecia\xe7\xe3o, s\xe3o uma repeti\xe7\xe3o de argumentos objeto de conhecimento nos pontos anteriores, designadamente no ponto 12.4.2.","entities":[]},{"text":"","entities":[]},{"text":"Remetendo para o j\xe1 decidido, reafirmamos que o crime p. e p. pelo art.210.1 do C\xf3digo Penal da Federa\xe7\xe3o Russa, imputado pelas autoridades russas ao extraditando, abrange um per\xedodo de tempo da alegada pr\xe1tica de factos imputados a este, pelo que o deferimento do pedido de extradi\xe7\xe3o pelo Tribunal da Rela\xe7\xe3o n\xe3o violou o disposto no n.\xba 1 do art.7.\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e na al\xednea a) do n.\xba 1 do art.6.\xba do Lei de Coopera\xe7\xe3o Judici\xe1ria.","entities":[["ORG",96,111,"Federa\xe7\xe3o Russa"],["ORG",291,310,"Tribunal da Rela\xe7\xe3o"]]},{"text":"","entities":[]},{"text":"Os factos descritos no pedido de extradi\xe7\xe3o t\xeam de estar devidamente enquadrados no tempo e no espa\xe7o, como est\xe3o, e tal informa\xe7\xe3o pode resultar de outros elementos do processo para que se remete, desde que os mesmos sejam dados a conhecer ao extraditando, em termos de lhe ser concedida uma ampla e efetiva possibilidade de os discutir e de os contestar, como aqui manifestamente aconteceu. ","entities":[]},{"text":"","entities":[]},{"text":"Deste modo, n\xe3o vemos qualquer incompatibilidade entre, por um lado, o sentido adotado na decis\xe3o recorrida e, por outro, a al. a) do n.\xba 1 do art.6.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria e os princ\xedpios da seguran\xe7a jur\xeddica e da legalidade criminal, consagrados, respetivamente, nos arts. 2.\xba e n.\xba 1 do artigo 29.\xba da Constitui\xe7\xe3o da Rep\xfablica Portuguesa.","entities":[]},{"text":"","entities":[]},{"text":"Consequentemente, n\xe3o se reconhece a inconstitucionalidade invocada a este respeito pelo extraditando. ","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            17- Da aus\xeancia de garantias jur\xeddicas de um procedimento criminal, das condi\xe7\xf5es de cumprimento da pena e do grave preju\xedzo para o extraditando.    ","entities":[]},{"text":"","entities":[]},{"text":"            Por fim, defende o recorrente Stepan Nikolaevich Furman (artigos 14, 15 e 16 das conclus\xf5es da motiva\xe7\xe3o) que n\xe3o obstante terem sido dados como n\xe3o provados os factos alegados nos artigos 62.\xba a 74.\xba da oposi\xe7\xe3o, a aprecia\xe7\xe3o das garantias jur\xeddicas na fundamenta\xe7\xe3o da decis\xe3o ora recorrida foi meramente formal. Para que seja aferido que o Estado Requerente cumpre as exig\xeancias indispens\xe1veis de um procedimento penal internacionalmente reconhecido n\xe3o basta uma qualquer sufici\xeancia formal. Ao decidir que basta existir uma garantia formal \u2013 leia-se, um documento assinado por autoridade cuja compet\xeancia inclusivamente se desconhece \u2013 para considerar que n\xe3o se verifica a condi\xe7\xe3o negativa de coopera\xe7\xe3o da extradi\xe7\xe3o do art.6.\xba, al. a), da Lei 144/99, de 31.08, e da reserva formulada por Portugal \xe0 Conven\xe7\xe3o Europeia de extradi\xe7\xe3o com refer\xeancia aos arts. 3.\xba e 6.\xba da CEDH, violou o Tribunal a quo manifestamente estas normas, bem como o art.13.\xba da CEDH, colocando o extraditando em risco s\xe9rio e iminente de viola\xe7\xe3o daqueles seus direitos consagrados na CEDH e na nossa Lei Fundamental.","entities":[["PER",42,67,"Stepan Nikolaevich Furman"],["ORG",355,372,"Estado Requerente"],["DAT",775,781,"31.08,"],["LOC",809,817,"Portugal"],["ORG",973,977,"CEDH"],["ORG",1080,1084,"CEDH"]]},{"text":"","entities":[]},{"text":"Vejamos se assim \xe9.","entities":[]},{"text":"","entities":[]},{"text":"Remetendo o art.6.\xba, n.\xba1, al.a) da Lei 144/99, de 31.08 - a que j\xe1 nos referimos - para a necessidade do pedido de coopera\xe7\xe3o satisfizer e respeitar as exig\xeancias da Conven\xe7\xe3o Europeia para a Prote\xe7\xe3o dos Direitos do Homem e das Liberdades Fundamentais (CEDH), sob pena de ser recusado, importa aqui atender aos artigos 3.\xba, 6.\xba e 13 desta Conven\xe7\xe3o, que o ora recorrente invoca e \xe0s reservas que o Estado Portugu\xeas apresentou aos artigos 3.\xba e 6.\xba.","entities":[["DAT",51,58,"31.08 -"],["ORG",255,259,"CEDH"],["ORG",400,416,"Estado Portugu\xeas"]]},{"text":"","entities":[]},{"text":"O art.3.\xbada CEDH, estabelece que \xabNingu\xe9m pode ser submetido a torturas, nem a penas ou tratamentos desumanos ou degradantes.\xbb. ","entities":[]},{"text":"","entities":[]},{"text":"O art.6.\xba, desta mesma Conven\xe7\xe3o, estabelece que qualquer pessoa tem direito a um processo equitativo. ","entities":[]},{"text":"","entities":[]},{"text":"Seguindo a jurisprud\xeancia do Tribunal Europeu dos Direitos do Homem (TEDH), Ireneu Cabral Barreto, esclarece que \u201cum processo equitativo exige, como elemento conatural, que cada uma das partes tenha possibilidades razo\xe1veis de defender os seus interesses numa posi\xe7\xe3o n\xe3o inferior \xe0 da parte contr\xe1ria, ou, de outro modo, a parte deve deter a garantia de apresentar o caso perante o tribunal em condi\xe7\xf5es que a n\xe3o coloquem em substancial desvantagem face ao seu oponente.\u201d.","entities":[["ORG",29,67,"Tribunal Europeu dos Direitos do Homem"],["ORG",69,73,"TEDH"],["PER",76,97,"Ireneu Cabral Barreto"]]},{"text":"","entities":[]},{"text":"O art.13\xb0 da CEDH, sob a ep\xedgrafe \xabDireito a um recurso efetivo\xbb, disp\xf5e que \xabQualquer pessoa cujos direitos e liberdades reconhecidos na presente Conven\xe7\xe3o tiverem sido violados tem direito a recurso perante uma inst\xe2ncia nacional, mesmo quando a viola\xe7\xe3o tiver sido cometida por pessoas que atuem no exerc\xedcio das suas fun\xe7\xf5es oficiais.\xbb. ","entities":[]},{"text":"","entities":[]},{"text":"As reservas que Portugal formulou \xe0 Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, foram as seguintes:","entities":[["LOC",16,24,"Portugal"]]},{"text":"","entities":[]},{"text":"\xabArtigo 1.\xba: Portugal n\xe3o conceder\xe1 a extradi\xe7\xe3o de pessoas:","entities":[["LOC",13,21,"Portugal"]]},{"text":"","entities":[]},{"text":"    a) Que devam ser julgadas por um tribunal de exce\xe7\xe3o ou cumprir uma pena decretada por um tribunal dessa natureza; b) Quando se prove que ser\xe3o sujeitas a processo que n\xe3o oferece garantias jur\xeddicas de um procedimento penal que respeite as condi\xe7\xf5es internacionalmente reconhecidas como indispens\xe1veis \xe0 salvaguarda dos direitos do homem, ou que cumprir\xe3o a pena em condi\xe7\xf5es desumanas; c) Quando reclamadas por infra\xe7\xe3o a que corresponda pena ou medida de seguran\xe7a com car\xe1cter perp\xe9tuo. ","entities":[]},{"text":"","entities":[]},{"text":"  Artigo 2.\xba: Portugal s\xf3 admitir\xe1 a extradi\xe7\xe3o por crime pun\xedvel com pena privativa da liberdade superior a um ano.","entities":[["LOC",14,22,"Portugal"]]},{"text":"","entities":[]},{"text":"  Artigo 6.\xba, n.\xba 1: Portugal n\xe3o conceder\xe1 a extradi\xe7\xe3o de cidad\xe3os portugueses.","entities":[["LOC",21,29,"Portugal"]]},{"text":"","entities":[]},{"text":"  Artigo 11.\xba: N\xe3o h\xe1 extradi\xe7\xe3o em Portugal por crimes a que corresponda pena de morte segundo a lei do Estado requerente.","entities":[["LOC",36,44,"Portugal"],["ORG",105,111,"Estado"]]},{"text":"","entities":[]},{"text":"  Artigo 21.\xba: Portugal s\xf3 autoriza o tr\xe2nsito em territ\xf3rio nacional de pessoa que se encontre nas condi\xe7\xf5es em que a sua extradi\xe7\xe3o possa ser concedida.\xbb.","entities":[["LOC",15,23,"Portugal"]]},{"text":"","entities":[]},{"text":"            Exposto o enquadramento legal invocado pelo recorrente nas conclus\xf5es da motiva\xe7\xe3o do recurso, imp\xf5e-se recordar a parte da fundamenta\xe7\xe3o do ac\xf3rd\xe3o recorrido que conheceu das garantias jur\xeddicas do procedimento criminal, das condi\xe7\xf5es de cumprimento da pena e do grave preju\xedzo para o extraditando, para de seguida decidirmos se tal aprecia\xe7\xe3o foi meramente formal.","entities":[]},{"text":"","entities":[]},{"text":"            Da fundamenta\xe7\xe3o da decis\xe3o recorrida, ora em causa, consta o seguinte (transcri\xe7\xe3o):","entities":[]},{"text":"","entities":[]},{"text":"\u201c 3.2.3. Em terceiro lugar, sustenta o requerido que a aus\xeancia de garantias jur\xeddicas de um procedimento criminal e de cumprimento da pena de pris\xe3o em condi\xe7\xf5es que respeitem os direitos humanos internacionalmente reconhecidos, que diz verificar-se, no caso, constitui fundamento da recusa da extradi\xe7\xe3o, por for\xe7a da ressalva consagrada no artigo 1.\xba da Resolu\xe7\xe3o da Assembleia da Rep\xfablica n.\xba 23/89, de 21 de Agosto, que aprovou a Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, e do disposto no artigo 2.\xba da Lei de Coopera\xe7\xe3o Judici\xe1ria. ","entities":[["DAT",408,420,"21 de Agosto"]]},{"text":"","entities":[]},{"text":"Pois bem. ","entities":[]},{"text":"","entities":[]},{"text":"Na reserva que a Assembleia da Rep\xfablica formulou ao texto da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o, constante do artigo 1.\xba, al\xednea b), da Resolu\xe7\xe3o n.\xba 23/89, de 21 de Agosto, que aprovou a referida Conven\xe7\xe3o (Di\xe1rio da Rep\xfablica, I S\xe9rie, n.\xba 191, de 21-08-1989), estabelece-se que Portugal n\xe3o conceder\xe1 a extradi\xe7\xe3o de pessoas quando se prove que ser\xe3o sujeitas a processo que n\xe3o oferece garantias jur\xeddicas de um procedimento penal que respeite as condi\xe7\xf5es internacionalmente reconhecidas como indispens\xe1veis \xe0 salvaguarda dos direitos do homem, ou que cumprir\xe3o a pena em condi\xe7\xf5es desumanas.","entities":[["ORG",17,40,"Assembleia da Rep\xfablica"],["DAT",159,171,"21 de Agosto"],["DAT",249,259,"21-08-1989"],["LOC",280,288,"Portugal"]]},{"text":"","entities":[]},{"text":"Ora, em rela\xe7\xe3o \xe0 alegada viola\xe7\xe3o do princ\xedpio da legalidade, de que o requerido se serve para corroborar a aus\xeancia das referidas garantias jur\xeddicas, j\xe1 vimos em 3.2.2. que aquele princ\xedpio n\xe3o se mostra infringido, pelo que o motivo assim invocado n\xe3o logra obter qualquer acolhimento.","entities":[]},{"text":"","entities":[]},{"text":"Por outro lado, no que concerne aos restantes aspectos alegados na oposi\xe7\xe3o para corroborar a apontada aus\xeancia de garantias jur\xeddicas, verifica-se que tais alega\xe7\xf5es n\xe3o resultaram provadas (cf. pontos 2.2.1., 2.2.2., 2.2.3. e 2.2.4.).","entities":[]},{"text":"","entities":[]},{"text":"Acresce, como consta no ponto assente 2.1.3., no pedido de extradi\xe7\xe3o que dirigiu \xe0s autoridades nacionais, a Procuradoria-Geral da Federa\xe7\xe3o Russa apresentou garantia formal nos seguintes termos:","entities":[["ORG",110,147,"Procuradoria-Geral da Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"\u201c(\u2026)","entities":[]},{"text":"","entities":[]},{"text":"A Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia garante que o pedido atual de extradi\xe7\xe3o n\xe3o tem objetivos de persegui\xe7\xe3o por motivos pol\xedticos ou inten\xe7\xf5es discriminativas em rela\xe7\xe3o a uma ra\xe7a, seguimento de uma religi\xe3o, nacionalidade ou opini\xf5es pol\xedticas. ","entities":[["ORG",2,43,"Procuradoria-Geral da Federa\xe7\xe3o da R\xfassia"]]},{"text":"","entities":[]},{"text":"S.N. Furman ser\xe1 concedido todas as oportunidades de defesa, incluindo uma assist\xeancia dos advogados. Ele n\xe3o ser\xe1 submetido a torturas, nem a penas ou tratamentos desumanos ou degradantes (os artigos 3\xba e 6\xba da Conven\xe7\xe3o Europeia dos Direitos do Homem e das Liberdades Fundamentais, bem como as conven\xe7\xf5es pertinentes das Na\xe7\xf5es Unidas, do Conselho da Europa e os seus protocolos). ","entities":[["PER",0,11,"S.N. Furman"],["ORG",323,336,"Na\xe7\xf5es Unidas"],["ORG",341,359,"Conselho da Europa"]]},{"text":"","entities":[]},{"text":"(\u2026)","entities":[]},{"text":"","entities":[]},{"text":"A Procuradoria-geral garanta que, segundo os termos do artigo 14\xba da Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o de 13 de dezembro de 1957, o cidad\xe3o S.N. Furman ser\xe1 perseguida, julgada e detida com vista \xe0 execu\xe7\xe3o de uma pena ou medida de seguran\xe7a submetida a qualquer outra restri\xe7\xe3o \xe0 sua liberdade individual s\xf3 pelos factos que motivaram a extradi\xe7\xe3o dele e que ap\xf3s o fim do processo criminal, ou do julgamento, e no caso de uma condena\xe7\xe3o, depois de cumprir a pena ou ser libertado dela, ele poder\xe1 deixar o territ\xf3rio da R\xfassia. ","entities":[["DAT",105,127,"13 de dezembro de 1957"],["PER",139,150,"S.N. Furman"],["LOC",521,527,"R\xfassia"]]},{"text":"","entities":[]},{"text":"Em caso de extradi\xe7\xe3o, S.N. Furman ser\xe1 mantido numa institui\xe7\xe3o que tenha em considera\xe7\xe3o as normas especificadas na Conven\xe7\xe3o Europeia dos Direitos do Homem e das Liberdades Fundamentais de 11.04.1950 e nas Regras Penitenci\xe1rias Europeias de 11.06.2006, e os funcion\xe1rios da Embaixada de Portugal na Federa\xe7\xe3o da R\xfassia poder\xe3o visit\xe1-lo para verificarem o cumprimento das garantias apresentadas neste pedido de extradi\xe7\xe3o. ","entities":[["PER",23,34,"S.N. Furman"],["DAT",192,202,"11.04.1950"],["DAT",244,254,"11.06.2006"],["ORG",277,321,"Embaixada de Portugal na Federa\xe7\xe3o da R\xfassia"]]},{"text":"","entities":[]},{"text":"Sendo o cidad\xe3o da Federa\xe7\xe3o da R\xfassia, S.N. Furman, segundo os termos da Parte I do Artigo 61\xba da Constitui\xe7\xe3o da Federa\xe7\xe3o da R\xfassia, n\xe3o pode ser extraditado para qualquer outro pa\xeds. ","entities":[["ORG",19,38,"Federa\xe7\xe3o da R\xfassia"],["PER",40,51,"S.N. Furman"]]},{"text":"","entities":[]},{"text":"(\u2026)\u201d.","entities":[]},{"text":"","entities":[]},{"text":"O que acima ficou transcrito deixa claro que as Autoridades Judici\xe1rias da Federa\xe7\xe3o Russa prestam, expressa e formalmente, a garantia de que, nos termos das normas legais internacionais, Stepan Nikolaevich Furman beneficiar\xe1 de todos os instrumentos de defesa, incluindo advogados, e n\xe3o ser\xe1 submetido a torturas nem a penas e tratamentos desumanos ou degradantes (artigo 3.\xba da Conven\xe7\xe3o Europeia dos Direitos Humanos e Liberdades Fundamentais, bem como \xe0s correspondentes conven\xe7\xf5es da organiza\xe7\xe3o das Na\xe7\xf5es Unidas, do Conselho da Europa e respectivos protocolos), sendo, ainda, evidente que garantem que o pedido de extradi\xe7\xe3o n\xe3o visa a acusa\xe7\xe3o desta pessoa por motivos pol\xedticos, \xe9tnicos, de confiss\xe3o religiosa, nacionalidade ou opini\xf5es pol\xedticas. ","entities":[["ORG",48,90,"Autoridades Judici\xe1rias da Federa\xe7\xe3o Russa"],["PER",188,213,"Stepan Nikolaevich Furman"],["ORG",506,519,"Na\xe7\xf5es Unidas"],["ORG",524,542,"Conselho da Europa"]]},{"text":"","entities":[]},{"text":"E certamente que se raz\xf5es houvessem para colocar em causa as garantias prestadas, o Exmo. Secret\xe1rio de Estado Adjunto da Justi\xe7a, por delega\xe7\xe3o da Exma. Senhora Ministra da Justi\xe7a, n\xe3o teria proferido, em 6 de Agosto de 2021, despacho a declarar admiss\xedvel o pedido de extradi\xe7\xe3o apresentado pela Federa\xe7\xe3o Russa.","entities":[["DAT",208,227,"6 de Agosto de 2021"],["ORG",300,315,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"Assim sendo, n\xe3o existe motivo para descrer da veracidade do compromisso assumido mediante a presta\xe7\xe3o das referidas garantias, tanto mais que a Federa\xe7\xe3o Russa ratificou a Conven\xe7\xe3o Europeia de Extradi\xe7\xe3o e \xe9, pois, esperado que a Justi\xe7a daquele pa\xeds e o seu sistema penitenci\xe1rio se conformem aos princ\xedpios estruturantes ali consagrados, como exig\xeancias a observar no \xe2mbito e por for\xe7a dos mecanismos de coopera\xe7\xe3o internacional acordados.","entities":[["ORG",145,160,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"A alega\xe7\xe3o de que n\xe3o existe qualquer garantia de que, no processo que se encontra a decorrer contra o requerido na Federa\xe7\xe3o Russa, uma vez concedida a extradi\xe7\xe3o, n\xe3o se verificar\xe1 o desrespeito pelas referidas exig\xeancias, \xe9 uma mera afirma\xe7\xe3o especulativa que n\xe3o pode servir, sem mais, para abalar o que as Autoridades Judici\xe1rias Russas trazem aos autos, a t\xedtulo de garantia formalmente assumida. ","entities":[["ORG",116,131,"Federa\xe7\xe3o Russa"],["ORG",311,341,"Autoridades Judici\xe1rias Russas"]]},{"text":"","entities":[]},{"text":"Improcedendo, pois, tamb\xe9m, este fundamento da oposi\xe7\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"3.2.4. Por \xfaltimo, afirma o requerido que a sua extradi\xe7\xe3o o colocar\xe1 numa situa\xe7\xe3o de grave preju\xedzo, verificando-se existir o fundamento da recusa da extradi\xe7\xe3o, sob pena de violar a ressalva \xe0 Conven\xe7\xe3o prevista artigo 1.\xba da Resolu\xe7\xe3o da Assembleia da Rep\xfablica n.\xba 23/89, de 21 de Agosto, e sob pena de viola\xe7\xe3o da cl\xe1usula humanit\xe1ria consagrada no artigo 18.\xba, n.\xba 2 da Lei de Coopera\xe7\xe3o Judici\xe1ria (viola\xe7\xe3o de direitos humanos nas pris\xf5es).","entities":[["DAT",280,292,"21 de Agosto"]]},{"text":"","entities":[]},{"text":"Vejamos, ent\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"Segundo disp\xf5e o artigo 18.\xba, n.\xba 2 da Lei de Coopera\xe7\xe3o Judici\xe1ria (Lei n.\xba 144/99), a extradi\xe7\xe3o pode ser negada quando, tendo em conta as circunst\xe2ncias do facto, o seu deferimento pode implicar consequ\xeancias graves para a pessoa visada, em raz\xe3o da idade, estado de sa\xfade ou de outros motivos de car\xe1cter pessoal.","entities":[]},{"text":"","entities":[]},{"text":"Nos autos resultou provado que, em 5 de Junho de 2019, o requerido Stepan Nikolaevich Furman esteve na institui\xe7\xe3o cl\xednica \u201cLeberzentrum\u201d (\u201cCentro do F\xedgado\u201d), sita em Munique, Alemanha, onde fez consulta, exames (ecografia, medi\xe7\xe3o da elasticidade do f\xedgado) e an\xe1lises ao sangue, sendo o seu diagn\xf3stico de \u201cInfec\xe7\xe3o cr\xf3nica pelo VHC, gen\xf3tipo 3\u201d (ponto 2.1.13.).","entities":[["DAT",35,53,"5 de Junho de 2019"],["PER",67,92,"Stepan Nikolaevich Furman"],["LOC",124,136,"Leberzentrum"],["LOC",140,157,"Centro do F\xedgado\u201d"],["LOC",168,175,"Munique"],["LOC",177,185,"Alemanha"]]},{"text":"","entities":[]},{"text":"Neste contexto, conforme se assinala no Ac\xf3rd\xe3o do STJ de 30-10-2013, proferido no processo n.\xba 86/13.8YREVR.S1, \u201ca Lei de Coopera\xe7\xe3o Judici\xe1ria Internacional em Mat\xe9ria Penal ao prever no n.\xba 2 do artigo 18.\xba a possibilidade de nega\xe7\xe3o do pedido de extradi\xe7\xe3o quando este possa implicar consequ\xeancias graves para a pessoa visada, em raz\xe3o da idade, estado de sa\xfade ou de outros motivos de car\xe1cter pessoal, faz depender a denega\xe7\xe3o facultativa da extradi\xe7\xe3o, n\xe3o s\xf3 das consequ\xeancias que a mesma possa implicar para a pessoa visada (em fun\xe7\xe3o da idade, estado de sa\xfade ou outros motivos de car\xe1cter pessoal), mas tamb\xe9m de um ju\xedzo de pondera\xe7\xe3o de interesses entre o facto criminoso e aquelas consequ\xeancias. \xc9 o que decorre da letra do preceito ao estatuir que: \xabPode ainda ser negada a coopera\xe7\xe3o quando, tendo em conta as circunst\xe2ncias do facto, o deferimento do pedido possa implicar consequ\xeancias graves\u2026\xbb. Pondera\xe7\xe3o em que assume particular relev\xe2ncia o confronto entre a gravidade do facto e a gravidade das consequ\xeancias da extradi\xe7\xe3o para o visado\u201d (cf. ainda o Ac\xf3rd\xe3o do STJ de 11-01-2018, proferido no processo n.\xba 1331/17.6YRLSB.S1).","entities":[["DAT",58,68,"30-10-2013"],["PRO",96,111,"86/13.8YREVR.S1"],["DAT",1092,1102,"11-01-2018"],["PRO",1130,1147,"1331/17.6YRLSB.S1"]]},{"text":"","entities":[]},{"text":"No caso vertente, se \xe9 certo que a gravidade dos factos imputados assume relevo criminal significativo, certo \xe9 tamb\xe9m que as alegadas consequ\xeancias da extradi\xe7\xe3o, decorrentes do estado de sa\xfade do requerido, n\xe3o consubstanciam les\xe3o ou preju\xedzo grave para o mesmo, concretamente de grau superior \xe0quele que a medida de coopera\xe7\xe3o peticionada normalmente implica. ","entities":[]},{"text":"","entities":[]},{"text":"N\xe3o se provou que a Hepatite C cr\xf3nica de que o requerido padece demande tratamentos cl\xednicos com respostas mais exigentes, como \xe9 o caso das que envolvem internamentos hospitalares e/ou terap\xeauticas mais complexas (cf. pontos n\xe3o provados 2.2.5. e 2.2.6.), para al\xe9m de que a mat\xe9ria de facto provada n\xe3o permite concluir que, por efeito da extradi\xe7\xe3o, tais problemas de sa\xfade podem agravar-se, ao ponto de desencadear consequ\xeancias como uma gravidade tal que ultrapassa sobremaneira o grau de gravidade dos factos imputados, fundamentando, assim, a recusa da extradi\xe7\xe3o (cf. pontos n\xe3o provados 2.2.5. e 2.2.6.).","entities":[]},{"text":"","entities":[]},{"text":"De entre os eventos de 2019 que o requerido invoca (e demonstra), apenas um se refere a consulta, exames e an\xe1lises em institui\xe7\xe3o cl\xednica (cf. 2.1.13.), sendo que os restantes se reportam a alojamentos em unidades hoteleiras, no nosso pa\xeds (cf. 2.1.12. e 2.1.15.) e em Fran\xe7a, neste caso para gozo de f\xe9rias (cf. 2.1.14.).","entities":[["DAT",23,27,"2019"],["LOC",270,276,"Fran\xe7a"]]},{"text":"","entities":[]},{"text":"Nada mais juntou para demostrar o seu estado de sa\xfade actual, sendo certo que, desde os acontecimentos de 5 de Junho de 2019, descritos em 2.1.13., n\xe3o h\xe1 registo ou not\xedcia de qualquer vicissitude entretanto ocorrida a esse n\xedvel.","entities":[["DAT",106,124,"5 de Junho de 2019"]]},{"text":"","entities":[]},{"text":"Por outro lado, quanto ao invocado circunstancialismo de que, caso o presente pedido de extradi\xe7\xe3o seja deferido, tal implicar\xe1 uma condena\xe7\xe3o autom\xe1tica, sem qualquer garantia de defesa, o que, na pr\xe1tica, se traduzir\xe1 numa pena de morte, pois na R\xfassia os reclusos n\xe3o recebem a medica\xe7\xe3o necess\xe1ria e s\xe3o colocados em condi\xe7\xf5es desumanas, sujeitos ao frio e a tortura f\xedsica e psicol\xf3gica, para al\xe9m do que n\xe3o resultou provado (cf. 2.2.6. e 2.2.7), valem aqui tamb\xe9m as raz\xf5es acima indicadas em 3.2.3., que refor\xe7am a conclus\xe3o de que inexiste fundamento para a extradi\xe7\xe3o ser negada, ao abrigo da cl\xe1usula facultativa consagrada no artigo 18.\xba, n.\xba 2 da Lei n.\xba 144/99.\u201d.","entities":[["LOC",248,254,"R\xfassia"]]},{"text":"","entities":[]},{"text":"Perante este segmento da fundamenta\xe7\xe3o da decis\xe3o recorrida n\xe3o podemos sufragar o entendimento do recorrente no sentido de que o Tribunal a quo bastou-se com a an\xe1lise de um documento assinado por autoridade cuja compet\xeancia inclusivamente se desconhece, para decidir da aus\xeancia de garantias jur\xeddicas de um procedimento criminal e de cumprimento da pena de pris\xe3o, bem como do grave preju\xedzo para si, da quest\xe3o que lhe foi colocada na oposi\xe7\xe3o \xe0 extradi\xe7\xe3o.","entities":[]},{"text":"","entities":[]},{"text":"O Tribunal a quo analisou a factualidade alegada pelo extraditando na oposi\xe7\xe3o ao pedido, quer a respeito das alegadas deten\xe7\xf5es arbitr\xe1rias na R\xfassia, do estatuto dos magistrados e sua predetermina\xe7\xe3o nos julgamentos e das condi\xe7\xf5es nas pris\xf5es, quer a respeito das consequ\xeancias que adv\xeam ao extraditando a n\xedvel de sa\xfade, e decidiu dar como n\xe3o provada a generalidade desses factos nos pontos n.\xbas 2.2.1. a 2.2.10 do ac\xf3rd\xe3o recorrido, fundamentando essa decis\xe3o.   ","entities":[["LOC",144,150,"R\xfassia"]]},{"text":"","entities":[]},{"text":"Para al\xe9m das garantias expressas pelas autoridades russas mencionadas no ponto n.\xba 2.1.3. do ac\xf3rd\xe3o recorrido, o Tribunal a quo teve ainda em considera\xe7\xe3o a posi\xe7\xe3o do Estado Portugu\xeas ao dizer que certamente se raz\xf5es houvessem para colocar em causa as garantias prestadas, o Exmo. Secret\xe1rio de Estado Adjunto da Justi\xe7a, por delega\xe7\xe3o da Exma. Senhora Ministra da Justi\xe7a, n\xe3o teria proferido, em 6 de Agosto de 2021, despacho a declarar admiss\xedvel o pedido de extradi\xe7\xe3o apresentado pela Federa\xe7\xe3o Russa.","entities":[["ORG",115,125,"Tribunal a"],["ORG",170,186,"Estado Portugu\xeas"],["DAT",402,421,"6 de Agosto de 2021"],["ORG",494,509,"Federa\xe7\xe3o Russa"]]},{"text":"","entities":[]},{"text":"O documento peticionando a extradi\xe7\xe3o do ora recorrente \xe9 subscrito por Procurador-Geral Adjunto da Federa\xe7\xe3o da R\xfassia, cuja compet\xeancia para o efeito se n\xe3o mostra validamente afastada por prova indicada pelo recorrente. ","entities":[]},{"text":"","entities":[]},{"text":"Assim sendo, resta dizer que nenhuma das normas que o recorrente diz terem sido violadas no \xe2mbito desta quest\xe3o, nas conclus\xf5es da motiva\xe7\xe3o, o foram efetivamente.","entities":[]},{"text":"","entities":[]},{"text":"Por todo o exposto, n\xe3o se v\xea motivo que impe\xe7a a concess\xe3o do pedido de extradi\xe7\xe3o solicitada. ","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"            III \u2013 Decis\xe3o","entities":[]},{"text":"","entities":[]},{"text":"            ","entities":[]},{"text":"","entities":[]},{"text":"            Nestes termos e pelos fundamentos expostos acordam os Ju\xedzes da Sec\xe7\xe3o Criminal do Supremo Tribunal de Justi\xe7a em julgar improcedente o recurso interposto pelo requerido Stepan Nikolaevich Furman e confirmar a douta decis\xe3o recorrida.","entities":[["PER",182,207,"Stepan Nikolaevich Furman"]]},{"text":"","entities":[]},{"text":"\\t            Sem custas (art.73.\xba, n.\xba 1 da Lei n.\xba 144/99 de 31-8), sem preju\xedzo do disposto no art.26.\xba, n.\xbas 2 al\xedneas b) a d) e 4 do mesmo diploma.","entities":[["DAT",62,66,"31-8"]]},{"text":"","entities":[]},{"text":"\\t","entities":[]},{"text":"","entities":[]},{"text":"\\t*","entities":[]},{"text":"","entities":[]},{"text":"        (Certifica-se que o ac\xf3rd\xe3o foi processado em computador pelo relator e integralmente revisto e assinado pelos seus signat\xe1rios).  ","entities":[]},{"text":"","entities":[]},{"text":"\\t\\t\\t\\t\\t\\t","entities":[]},{"text":"","entities":[]},{"text":"*","entities":[]},{"text":"","entities":[]},{"text":"                                                                                              Lisboa, 24 de novembro de 2021","entities":[["LOC",94,100,"Lisboa"],["DAT",102,124,"24 de novembro de 2021"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"                                                                                              ------------------------------------------","entities":[]},{"text":"","entities":[]},{"text":"                                                                                               Orlando Gon\xe7alves (relator)","entities":[["PER",95,112,"Orlando Gon\xe7alves"]]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"","entities":[]},{"text":"\\t\\t\\t\\t\\t------------------------------------------","entities":[]},{"text":"","entities":[]},{"text":"\\t\\t\\t\\t\\tAdelaide Sequeira (adjunta)","entities":[["PER",5,22,"Adelaide Sequeira"]]},{"text":"","entities":[]},{"text":"2","entities":[]}]')}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c51e9ae7.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="jurisprudencia:";n.l=function(o,r,i,a){if(e[o])e[o].push(r);else{var u,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){u=d;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+i),u.src=o),e[o]=[r];var f=function(t,n){u.onerror=u.onload=null,clearTimeout(m);var r=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(t),u=new Error;n.l(a,(function(o){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,r[1](u)}}),"chunk-"+t,t)}};var t=function(t,o){var r,i,a=o[0],u=o[1],s=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(s)s(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},o=self.webpackChunkjurisprudencia=self.webpackChunkjurisprudencia||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}(),function(){"use strict";var e=n(2791),t=n(4164),o=n(2007),r=function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},i={onActivate:o.func,onAddUndo:o.func,onBeforeAddUndo:o.func,onBeforeExecCommand:o.func,onBeforeGetContent:o.func,onBeforeRenderUI:o.func,onBeforeSetContent:o.func,onBeforePaste:o.func,onBlur:o.func,onChange:o.func,onClearUndos:o.func,onClick:o.func,onContextMenu:o.func,onCopy:o.func,onCut:o.func,onDblclick:o.func,onDeactivate:o.func,onDirty:o.func,onDrag:o.func,onDragDrop:o.func,onDragEnd:o.func,onDragGesture:o.func,onDragOver:o.func,onDrop:o.func,onExecCommand:o.func,onFocus:o.func,onFocusIn:o.func,onFocusOut:o.func,onGetContent:o.func,onHide:o.func,onInit:o.func,onKeyDown:o.func,onKeyPress:o.func,onKeyUp:o.func,onLoadContent:o.func,onMouseDown:o.func,onMouseEnter:o.func,onMouseLeave:o.func,onMouseMove:o.func,onMouseOut:o.func,onMouseOver:o.func,onMouseUp:o.func,onNodeChange:o.func,onObjectResizeStart:o.func,onObjectResized:o.func,onObjectSelected:o.func,onPaste:o.func,onPostProcess:o.func,onPostRender:o.func,onPreProcess:o.func,onProgressState:o.func,onRedo:o.func,onRemove:o.func,onReset:o.func,onSaveContent:o.func,onSelectionChange:o.func,onSetAttrib:o.func,onSetContent:o.func,onShow:o.func,onSubmit:o.func,onUndo:o.func,onVisualAid:o.func},a=r({apiKey:o.string,id:o.string,inline:o.bool,init:o.object,initialValue:o.string,onEditorChange:o.func,value:o.string,tagName:o.string,cloudChannel:o.string,plugins:o.oneOfType([o.string,o.array]),toolbar:o.oneOfType([o.string,o.array]),disabled:o.bool,textareaName:o.string,tinymceScriptSrc:o.string,rollback:o.oneOfType([o.number,o.oneOf([!1])]),scriptLoading:o.shape({async:o.bool,defer:o.bool,delay:o.number})},i),u=function(e){return"function"===typeof e},s=function(e){return e in i},c=function(e){return e.substr(2)},l=function(e,t,n,o,r){return function(e,t,n,o,r,i,a){var u=Object.keys(r).filter(s),l=Object.keys(i).filter(s),d=u.filter((function(e){return void 0===i[e]})),f=l.filter((function(e){return void 0===r[e]}));d.forEach((function(e){var t=c(e),o=a[t];n(t,o),delete a[t]})),f.forEach((function(n){var r=o(e,n),i=c(n);a[i]=r,t(i,r)}))}(r,e.on.bind(e),e.off.bind(e),(function(t,n){return function(o){var r;return null===(r=t(n))||void 0===r?void 0:r(o,e)}}),t,n,o)},d=0,f=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++d+String(t)},m=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},p=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(e,t){void 0!==e&&(null!=e.mode&&"object"===typeof e.mode&&"function"===typeof e.mode.set?e.mode.set(t):e.setMode(t))},h=function(){return{listeners:[],scriptId:f("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},v=function(){var e=h();return{load:function(t,n,o,r,i,a){var u=function(){return function(e,t,n,o,r,i){var a=t.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=e,a.src=n,a.async=o,a.defer=r,a.addEventListener("load",(function e(){a.removeEventListener("load",e),i()})),t.head&&t.head.appendChild(a)}(e.scriptId,t,n,o,r,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0}))};e.scriptLoaded?a():(e.listeners.push(a),e.scriptLoading||(e.scriptLoading=!0,i>0?setTimeout(u,i):u()))},reinitialize:function(){e=h()}}}(),b=function(){var e="undefined"!==typeof window?window:n.g;return e&&e.tinymce?e.tinymce:null},y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(){return x=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},x.apply(this,arguments)},w=function(){var e,t,n;return(null===(n=null===(t=null===(e=b())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},C=function(){return window.InputEvent&&"function"===typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},k=function(t){function n(n){var o,r,i,a=this;return(a=t.call(this,n)||this).rollbackTimer=void 0,a.valueCursor=void 0,a.rollbackChange=function(){var e=a.editor,t=a.props.value;e&&t&&t!==a.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),a.valueCursor&&(!a.inline||e.hasFocus()))try{e.selection.moveToBookmark(a.valueCursor)}catch(n){}})),a.rollbackTimer=void 0},a.handleBeforeInput=function(e){if(void 0!==a.props.value&&a.props.value===a.currentContent&&a.editor&&(!a.inline||a.editor.hasFocus))try{a.valueCursor=a.editor.selection.getBookmark(3)}catch(t){}},a.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||a.handleBeforeInput(e)},a.handleEditorChange=function(e){var t=a.editor;if(t&&t.initialized){var n=t.getContent();void 0!==a.props.value&&a.props.value!==n&&!1!==a.props.rollback&&(a.rollbackTimer||(a.rollbackTimer=window.setTimeout(a.rollbackChange,"number"===typeof a.props.rollback?a.props.rollback:200))),n!==a.currentContent&&(a.currentContent=n,u(a.props.onEditorChange)&&a.props.onEditorChange(n,t))}},a.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||a.handleEditorChange(e)},a.initialise=function(e){var t,n,o;void 0===e&&(e=0);var r=a.elementRef.current;if(r)if(function(e){if(!("isConnected"in Node.prototype)){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}return e.isConnected}(r)){var i=b();if(!i)throw new Error("tinymce should have been loaded into global scope");var s,c,l=x(x({},a.props.init),{selector:void 0,target:r,readonly:a.props.disabled,inline:a.inline,plugins:(s=null===(t=a.props.init)||void 0===t?void 0:t.plugins,c=a.props.plugins,p(s).concat(p(c))),toolbar:null!==(n=a.props.toolbar)&&void 0!==n?n:null===(o=a.props.init)||void 0===o?void 0:o.toolbar,setup:function(e){a.editor=e,a.bindHandlers({}),a.inline&&!m(r)&&e.once("PostRender",(function(t){e.setContent(a.getInitialValue(),{no_events:!0})})),a.props.init&&u(a.props.init.setup)&&a.props.init.setup(e)},init_instance_callback:function(e){var t,n,o=a.getInitialValue();a.currentContent=null!==(t=a.currentContent)&&void 0!==t?t:e.getContent(),a.currentContent!==o&&(a.currentContent=o,e.setContent(o),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var r=null!==(n=a.props.disabled)&&void 0!==n&&n;g(a.editor,r?"readonly":"design"),a.props.init&&u(a.props.init.init_instance_callback)&&a.props.init.init_instance_callback(e)}});a.inline||(r.style.visibility=""),m(r)&&(r.value=a.getInitialValue()),i.init(l)}else if(0===e)setTimeout((function(){return a.initialise(1)}),1);else{if(!(e<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return a.initialise(e+1)}),100)}},a.id=a.props.id||f("tiny-react"),a.elementRef=e.createRef(),a.inline=null!==(i=null!==(o=a.props.inline)&&void 0!==o?o:null===(r=a.props.init)||void 0===r?void 0:r.inline)&&void 0!==i&&i,a.boundHandlers={},a}return y(n,t),n.prototype.componentDidUpdate=function(e){var t,n,o=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"===typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"===typeof this.props.value&&this.props.value!==this.currentContent){var r=this.editor;r.undoManager.transact((function(){var e;if(!o.inline||r.hasFocus())try{e=r.selection.getBookmark(3)}catch(u){}var t=o.valueCursor;if(r.setContent(o.props.value),!o.inline||r.hasFocus())for(var n=0,i=[e,t];n<i.length;n++){var a=i[n];if(a)try{r.selection.moveToBookmark(a),o.valueCursor=a;break}catch(u){}}}))}if(this.props.disabled!==e.disabled){var i=null!==(n=this.props.disabled)&&void 0!==n&&n;g(this.editor,i?"readonly":"design")}}},n.prototype.componentDidMount=function(){var e,t,n,o,r,i;null!==b()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&v.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(o=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==o&&o,null!==(i=null===(r=this.props.scriptLoading)||void 0===r?void 0:r.delay)&&void 0!==i?i:0,this.initialise)},n.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(w(),this.handleEditorChange),t.off(C(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},n.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},n.prototype.renderInline=function(){var t=this.props.tagName,n=void 0===t?"div":t;return e.createElement(n,{ref:this.elementRef,id:this.id})},n.prototype.renderIframe=function(){return e.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},n.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel,t=this.props.apiKey?this.props.apiKey:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(t,"/tinymce/").concat(e,"/tinymce.min.js")},n.prototype.getInitialValue=function(){return"string"===typeof this.props.initialValue?this.props.initialValue:"string"===typeof this.props.value?this.props.value:""},n.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){l(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},o=n(e),r=n(this.props);!o&&r?(this.editor.on(w(),this.handleEditorChange),this.editor.on(C(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!r&&(this.editor.off(w(),this.handleEditorChange),this.editor.off(C(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},n.propTypes=a,n.defaultProps={cloudChannel:"6"},n}(e.Component),S=(n(8838),n(3342),n(6202),n(2687),n(8291),n(594),n(1182),n(7711),n(6733),n(1786),n(5637),n(499),n(1108),n(288),n(5672),n(4954),n(7935),n(1228),n(5278),n(2655),n(184)),E=n(6523),O={ORG:{},PER:{},DAT:{},LOC:{}};var _=function(){var t=(0,e.useRef)(null),n=function(){t.current&&console.log(t.current.getContent())},o=function(){var e="";return E.forEach((function(t){e+="<p>"+t.text+"</p>"})),e},r=function(e){return(0,S.jsxs)("p",{children:[" ",e.word," "]})};return(0,S.jsxs)("div",{className:"App",children:[(0,S.jsx)("header",{className:"PageHeader",children:"Header"}),(E.forEach((function(e){e.entities.forEach((function(e){"ORG"===e[0]&&(void 0===O.ORG[e[3]]?O.ORG[e[3]]=[e]:O.ORG[e[3]].push(e)),"PER"===e[0]&&(void 0===O.PER[e[3]]?O.PER[e[3]]=[e]:O.PER[e[3]].push(e)),"DAT"===e[0]&&(void 0===O.DAT[e[3]]?O.DAT[e[3]]=[e]:O.DAT[e[3]].push(e)),"LOC"===e[0]&&(void 0===O.LOC[e[3]]?O.LOC[e[3]]=[e]:O.LOC[e[3]].push(e))}))})),(0,S.jsxs)("div",{className:"SideBar",children:["-----ORGS:----",Object.keys(O.ORG).map((function(e,t){return(0,S.jsx)(r,{word:e})}))]})),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{onInit:function(e,n){return t.current=n},initialValue:o(),init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),(0,S.jsx)("button",{onClick:n,children:"Log editor content"})]})]})},T=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),i(e),a(e)}))};t.render((0,S.jsx)(e.StrictMode,{children:(0,S.jsx)(_,{})}),document.getElementById("root")),T()}()}();
//# sourceMappingURL=main.d9378245.js.map